(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function km(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hu={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function n0(){if(Kp)return cl;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return cl.Fragment=t,cl.jsx=l,cl.jsxs=l,cl}var Qp;function i0(){return Qp||(Qp=1,hu.exports=n0()),hu.exports}var R=i0(),mu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function o0(){if(Zp)return ge;Zp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,H={};function F(A,I,Z){this.props=A,this.context=I,this.refs=H,this.updater=Z||D}F.prototype.isReactComponent={},F.prototype.setState=function(A,I){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,I,"setState")},F.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function ie(){}ie.prototype=F.prototype;function X(A,I,Z){this.props=A,this.context=I,this.refs=H,this.updater=Z||D}var le=X.prototype=new ie;le.constructor=X,z(le,F.prototype),le.isPureReactComponent=!0;var ne=Array.isArray;function K(){}var W={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function ae(A,I,Z){var oe=Z.ref;return{$$typeof:i,type:A,key:I,ref:oe!==void 0?oe:null,props:Z}}function j(A,I){return ae(A.type,I,A.props)}function k(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function O(A){var I={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return I[Z]})}var Y=/\/+/g;function $(A,I){return typeof A=="object"&&A!==null&&A.key!=null?O(""+A.key):I.toString(36)}function ee(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(K,K):(A.status="pending",A.then(function(I){A.status==="pending"&&(A.status="fulfilled",A.value=I)},function(I){A.status==="pending"&&(A.status="rejected",A.reason=I)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,I,Z,oe,ce){var de=typeof A;(de==="undefined"||de==="boolean")&&(A=null);var ye=!1;if(A===null)ye=!0;else switch(de){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(A.$$typeof){case i:case t:ye=!0;break;case v:return ye=A._init,N(ye(A._payload),I,Z,oe,ce)}}if(ye)return ce=ce(A),ye=oe===""?"."+$(A,0):oe,ne(ce)?(Z="",ye!=null&&(Z=ye.replace(Y,"$&/")+"/"),N(ce,I,Z,"",function(gt){return gt})):ce!=null&&(k(ce)&&(ce=j(ce,Z+(ce.key==null||A&&A.key===ce.key?"":(""+ce.key).replace(Y,"$&/")+"/")+ye)),I.push(ce)),1;ye=0;var Ue=oe===""?".":oe+":";if(ne(A))for(var be=0;be<A.length;be++)oe=A[be],de=Ue+$(oe,be),ye+=N(oe,I,Z,de,ce);else if(be=C(A),typeof be=="function")for(A=be.call(A),be=0;!(oe=A.next()).done;)oe=oe.value,de=Ue+$(oe,be++),ye+=N(oe,I,Z,de,ce);else if(de==="object"){if(typeof A.then=="function")return N(ee(A),I,Z,oe,ce);throw I=String(A),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ye}function V(A,I,Z){if(A==null)return A;var oe=[],ce=0;return N(A,oe,"","",function(de){return I.call(Z,de,ce++)}),oe}function w(A){if(A._status===-1){var I=A._result;I=I(),I.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=I)}if(A._status===1)return A._result.default;throw A._result}var te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Q={map:V,forEach:function(A,I,Z){V(A,function(){I.apply(this,arguments)},Z)},count:function(A){var I=0;return V(A,function(){I++}),I},toArray:function(A){return V(A,function(I){return I})||[]},only:function(A){if(!k(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ge.Activity=T,ge.Children=Q,ge.Component=F,ge.Fragment=l,ge.Profiler=r,ge.PureComponent=X,ge.StrictMode=a,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ge.__COMPILER_RUNTIME={__proto__:null,c:function(A){return W.H.useMemoCache(A)}},ge.cache=function(A){return function(){return A.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(A,I,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var oe=z({},A.props),ce=A.key;if(I!=null)for(de in I.key!==void 0&&(ce=""+I.key),I)!he.call(I,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&I.ref===void 0||(oe[de]=I[de]);var de=arguments.length-2;if(de===1)oe.children=Z;else if(1<de){for(var ye=Array(de),Ue=0;Ue<de;Ue++)ye[Ue]=arguments[Ue+2];oe.children=ye}return ae(A.type,ce,oe)},ge.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},ge.createElement=function(A,I,Z){var oe,ce={},de=null;if(I!=null)for(oe in I.key!==void 0&&(de=""+I.key),I)he.call(I,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ce[oe]=I[oe]);var ye=arguments.length-2;if(ye===1)ce.children=Z;else if(1<ye){for(var Ue=Array(ye),be=0;be<ye;be++)Ue[be]=arguments[be+2];ce.children=Ue}if(A&&A.defaultProps)for(oe in ye=A.defaultProps,ye)ce[oe]===void 0&&(ce[oe]=ye[oe]);return ae(A,de,ce)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:g,render:A}},ge.isValidElement=k,ge.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:w}},ge.memo=function(A,I){return{$$typeof:m,type:A,compare:I===void 0?null:I}},ge.startTransition=function(A){var I=W.T,Z={};W.T=Z;try{var oe=A(),ce=W.S;ce!==null&&ce(Z,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(K,te)}catch(de){te(de)}finally{I!==null&&Z.types!==null&&(I.types=Z.types),W.T=I}},ge.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ge.use=function(A){return W.H.use(A)},ge.useActionState=function(A,I,Z){return W.H.useActionState(A,I,Z)},ge.useCallback=function(A,I){return W.H.useCallback(A,I)},ge.useContext=function(A){return W.H.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A,I){return W.H.useDeferredValue(A,I)},ge.useEffect=function(A,I){return W.H.useEffect(A,I)},ge.useEffectEvent=function(A){return W.H.useEffectEvent(A)},ge.useId=function(){return W.H.useId()},ge.useImperativeHandle=function(A,I,Z){return W.H.useImperativeHandle(A,I,Z)},ge.useInsertionEffect=function(A,I){return W.H.useInsertionEffect(A,I)},ge.useLayoutEffect=function(A,I){return W.H.useLayoutEffect(A,I)},ge.useMemo=function(A,I){return W.H.useMemo(A,I)},ge.useOptimistic=function(A,I){return W.H.useOptimistic(A,I)},ge.useReducer=function(A,I,Z){return W.H.useReducer(A,I,Z)},ge.useRef=function(A){return W.H.useRef(A)},ge.useState=function(A){return W.H.useState(A)},ge.useSyncExternalStore=function(A,I,Z){return W.H.useSyncExternalStore(A,I,Z)},ge.useTransition=function(){return W.H.useTransition()},ge.version="19.2.3",ge}var $p;function Vu(){return $p||($p=1,mu.exports=o0()),mu.exports}var At=Vu();const l0=km(At);var gu={exports:{}},fl={},yu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function a0(){return Wp||(Wp=1,(function(i){function t(N,V){var w=N.length;N.push(V);e:for(;0<w;){var te=w-1>>>1,Q=N[te];if(0<r(Q,V))N[te]=V,N[w]=Q,w=te;else break e}}function l(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var V=N[0],w=N.pop();if(w!==V){N[0]=w;e:for(var te=0,Q=N.length,A=Q>>>1;te<A;){var I=2*(te+1)-1,Z=N[I],oe=I+1,ce=N[oe];if(0>r(Z,w))oe<Q&&0>r(ce,Z)?(N[te]=ce,N[oe]=w,te=oe):(N[te]=Z,N[I]=w,te=I);else if(oe<Q&&0>r(ce,w))N[te]=ce,N[oe]=w,te=oe;else break e}}return V}function r(N,V){var w=N.sortIndex-V.sortIndex;return w!==0?w:N.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,T=null,E=3,C=!1,D=!1,z=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function le(N){for(var V=l(m);V!==null;){if(V.callback===null)a(m);else if(V.startTime<=N)a(m),V.sortIndex=V.expirationTime,t(y,V);else break;V=l(m)}}function ne(N){if(z=!1,le(N),!D)if(l(y)!==null)D=!0,K||(K=!0,O());else{var V=l(m);V!==null&&ee(ne,V.startTime-N)}}var K=!1,W=-1,he=5,ae=-1;function j(){return H?!0:!(i.unstable_now()-ae<he)}function k(){if(H=!1,K){var N=i.unstable_now();ae=N;var V=!0;try{e:{D=!1,z&&(z=!1,ie(W),W=-1),C=!0;var w=E;try{t:{for(le(N),T=l(y);T!==null&&!(T.expirationTime>N&&j());){var te=T.callback;if(typeof te=="function"){T.callback=null,E=T.priorityLevel;var Q=te(T.expirationTime<=N);if(N=i.unstable_now(),typeof Q=="function"){T.callback=Q,le(N),V=!0;break t}T===l(y)&&a(y),le(N)}else a(y);T=l(y)}if(T!==null)V=!0;else{var A=l(m);A!==null&&ee(ne,A.startTime-N),V=!1}}break e}finally{T=null,E=w,C=!1}V=void 0}}finally{V?O():K=!1}}}var O;if(typeof X=="function")O=function(){X(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,$=Y.port2;Y.port1.onmessage=k,O=function(){$.postMessage(null)}}else O=function(){F(k,0)};function ee(N,V){W=F(function(){N(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(N){switch(E){case 1:case 2:case 3:var V=3;break;default:V=E}var w=E;E=V;try{return N()}finally{E=w}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var w=E;E=N;try{return V()}finally{E=w}},i.unstable_scheduleCallback=function(N,V,w){var te=i.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?te+w:te):w=te,N){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=w+Q,N={id:v++,callback:V,priorityLevel:N,startTime:w,expirationTime:Q,sortIndex:-1},w>te?(N.sortIndex=w,t(m,N),l(y)===null&&N===l(m)&&(z?(ie(W),W=-1):z=!0,ee(ne,w-te))):(N.sortIndex=Q,t(y,N),D||C||(D=!0,K||(K=!0,O()))),N},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(N){var V=E;return function(){var w=E;E=V;try{return N.apply(this,arguments)}finally{E=w}}}})(vu)),vu}var jp;function s0(){return jp||(jp=1,yu.exports=a0()),yu.exports}var Su={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function r0(){if(eh)return ut;eh=1;var i=Vu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ut.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},ut.flushSync=function(y){var m=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=v,a.d.f()}},ut.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},ut.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ut.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ut.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},ut.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ut.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},ut.requestFormReset=function(y){a.d.r(y)},ut.unstable_batchedUpdates=function(y,m){return y(m)},ut.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},ut.useFormStatus=function(){return p.H.useHostTransitionStatus()},ut.version="19.2.3",ut}var th;function u0(){if(th)return Su.exports;th=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Su.exports=r0(),Su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function c0(){if(nh)return fl;nh=1;var i=s0(),t=Vu(),l=u0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var S=!1,_=d.child;_;){if(_===o){S=!0,o=d,s=h;break}if(_===s){S=!0,s=d,o=h;break}_=_.sibling}if(!S){for(_=h.child;_;){if(_===o){S=!0,o=h,s=d;break}if(_===s){S=!0,s=h,o=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case F:return"Profiler";case H:return"StrictMode";case ne:return"Suspense";case K:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case X:return e.displayName||"Context";case ie:return(e._context.displayName||"Context")+".Consumer";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:$(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return $(e(n))}catch{}}return null}var ee=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w={pending:!1,data:null,method:null,action:null},te=[],Q=-1;function A(e){return{current:e}}function I(e){0>Q||(e.current=te[Q],te[Q]=null,Q--)}function Z(e,n){Q++,te[Q]=e.current,e.current=n}var oe=A(null),ce=A(null),de=A(null),ye=A(null);function Ue(e,n){switch(Z(de,n),Z(ce,e),Z(oe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yp(n),e=vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(oe),Z(oe,e)}function be(){I(oe),I(ce),I(de)}function gt(e){e.memoizedState!==null&&Z(ye,e);var n=oe.current,o=vp(n,e.type);n!==o&&(Z(ce,e),Z(oe,o))}function et(e){ce.current===e&&(I(oe),I(ce)),ye.current===e&&(I(ye),al._currentValue=w)}var xt,an;function tt(e){if(xt===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);xt=n&&n[1]||"",an=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+an}var Rt=!1;function we(e,n){if(!e||Rt)return"";Rt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var G=q}Reflect.construct(e,[],J)}else{try{J.call()}catch(q){G=q}e.call(J.prototype)}}else{try{throw Error()}catch(q){G=q}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],_=h[1];if(S&&_){var x=S.split(`
`),L=_.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===L.length)for(s=x.length-1,d=L.length-1;1<=s&&0<=d&&x[s]!==L[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==L[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==L[d]){var B=`
`+x[s].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=s&&0<=d);break}}}finally{Rt=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?tt(o):""}function rt(e,n){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==n&&n!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return we(e.type,!1);case 11:return we(e.type.render,!1);case 1:return we(e.type,!0);case 31:return tt("Activity");default:return""}}function ni(e){try{var n="",o=null;do n+=rt(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var dt=Object.prototype.hasOwnProperty,sn=i.unstable_scheduleCallback,rn=i.unstable_cancelCallback,es=i.unstable_shouldYield,ts=i.unstable_requestPaint,Mt=i.unstable_now,Hg=i.unstable_getCurrentPriorityLevel,Ku=i.unstable_ImmediatePriority,Qu=i.unstable_UserBlockingPriority,ml=i.unstable_NormalPriority,Vg=i.unstable_LowPriority,Zu=i.unstable_IdlePriority,qg=i.log,zg=i.unstable_setDisableYieldValue,vo=null,Nt=null;function wn(e){if(typeof qg=="function"&&zg(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(vo,e)}catch{}}var bt=Math.clz32?Math.clz32:kg,Bg=Math.log,Pg=Math.LN2;function kg(e){return e>>>=0,e===0?32:31-(Bg(e)/Pg|0)|0}var gl=256,yl=262144,vl=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sl(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?d=ii(s):(S&=_,S!==0?d=ii(S):o||(o=_&~e,o!==0&&(d=ii(o))))):(_=s&~h,_!==0?d=ii(_):S!==0?d=ii(S):o||(o=s&~e,o!==0&&(d=ii(o)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:d}function So(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Og(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var e=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),e}function ns(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function To(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fg(e,n,o,s,d,h){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(o=S&~o;0<o;){var B=31-bt(o),J=1<<B;_[B]=0,x[B]=-1;var G=L[B];if(G!==null)for(L[B]=null,B=0;B<G.length;B++){var q=G[B];q!==null&&(q.lane&=-536870913)}o&=~J}s!==0&&Wu(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function Wu(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-bt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function ju(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-bt(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function ec(e,n){var o=n&-n;return o=(o&42)!==0?1:is(o),(o&(e.suspendedLanes|n))!==0?0:o}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Pp(e.type))}function nc(e,n){var o=V.p;try{return V.p=e,n()}finally{V.p=o}}var In=Math.random().toString(36).slice(2),nt="__reactFiber$"+In,yt="__reactProps$"+In,Ai="__reactContainer$"+In,ls="__reactEvents$"+In,Yg="__reactListeners$"+In,Jg="__reactHandles$"+In,ic="__reactResources$"+In,Eo="__reactMarker$"+In;function as(e){delete e[nt],delete e[yt],delete e[ls],delete e[Yg],delete e[Jg]}function xi(e){var n=e[nt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ai]||o[nt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=xp(e);e!==null;){if(o=e[nt])return o;e=xp(e)}return n}e=o,o=e.parentNode}return null}function Ri(e){if(e=e[nt]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _o(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Mi(e){var n=e[ic];return n||(n=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $e(e){e[Eo]=!0}var oc=new Set,lc={};function oi(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(lc[e]=n,e=0;e<n.length;e++)oc.add(n[e])}var Xg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},sc={};function Kg(e){return dt.call(sc,e)?!0:dt.call(ac,e)?!1:Xg.test(e)?sc[e]=!0:(ac[e]=!0,!1)}function Tl(e,n,o){if(Kg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function El(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function un(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ss(e){if(!e._valueTracker){var n=rc(e)?"checked":"value";e._valueTracker=Qg(e,n,""+e[n])}}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=rc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zg=/[\n"\\]/g;function qt(e){return e.replace(Zg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rs(e,n,o,s,d,h,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Vt(n)):e.value!==""+Vt(n)&&(e.value=""+Vt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?us(e,S,Vt(n)):o!=null?us(e,S,Vt(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Vt(_):e.removeAttribute("name")}function cc(e,n,o,s,d,h,S,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ss(e);return}o=o!=null?""+Vt(o):"",n=n!=null?""+Vt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ss(e)}function us(e,n,o){n==="number"&&_l(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function bi(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Vt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function fc(e,n,o){if(n!=null&&(n=""+Vt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Vt(o):""}function dc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ee(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Vt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),ss(e)}function wi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var $g=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||$g.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function hc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&pc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&pc(e,h,n[h])}function cs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(e){return jg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cn(){}var fs=null;function ds(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Di=null;function mc(e){var n=Ri(e);if(n&&(e=n.stateNode)){var o=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(rs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[yt]||null;if(!d)throw Error(a(90));rs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&uc(s)}break e;case"textarea":fc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&bi(e,!!o.multiple,n,!1)}}}var ps=!1;function gc(e,n,o){if(ps)return e(n,o);ps=!0;try{var s=e(n);return s}finally{if(ps=!1,(Ii!==null||Di!==null)&&(ca(),Ii&&(n=Ii,e=Di,Di=Ii=null,mc(n),e)))for(n=0;n<e.length;n++)mc(e[n])}}function Co(e,n){var o=e.stateNode;if(o===null)return null;var s=o[yt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(fn)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{hs=!1}var Dn=null,ms=null,Al=null;function yc(){if(Al)return Al;var e,n=ms,o=n.length,s,d="value"in Dn?Dn.value:Dn.textContent,h=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[h-s];s++);return Al=d.slice(e,1<s?1-s:void 0)}function xl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function vc(){return!1}function vt(e){function n(o,s,d,h,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Rl:vc,this.isPropagationStopped=vc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),n}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=vt(li),xo=T({},li,{view:0,detail:0}),ey=vt(xo),gs,ys,Ro,Nl=T({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(gs=e.screenX-Ro.screenX,ys=e.screenY-Ro.screenY):ys=gs=0,Ro=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ys}}),Sc=vt(Nl),ty=T({},Nl,{dataTransfer:0}),ny=vt(ty),iy=T({},xo,{relatedTarget:0}),vs=vt(iy),oy=T({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),ly=vt(oy),ay=T({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sy=vt(ay),ry=T({},li,{data:0}),Tc=vt(ry),uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fy[e])?!!n[e]:!1}function Ss(){return dy}var py=T({},xo,{key:function(e){if(e.key){var n=uy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hy=vt(py),my=T({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=vt(my),gy=T({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),yy=vt(gy),vy=T({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sy=vt(vy),Ty=T({},Nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ey=vt(Ty),_y=T({},li,{newState:0,oldState:0}),Cy=vt(_y),Ay=[9,13,27,32],Ts=fn&&"CompositionEvent"in window,Mo=null;fn&&"documentMode"in document&&(Mo=document.documentMode);var xy=fn&&"TextEvent"in window&&!Mo,_c=fn&&(!Ts||Mo&&8<Mo&&11>=Mo),Cc=" ",Ac=!1;function xc(e,n){switch(e){case"keyup":return Ay.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function Ry(e,n){switch(e){case"compositionend":return Rc(n);case"keypress":return n.which!==32?null:(Ac=!0,Cc);case"textInput":return e=n.data,e===Cc&&Ac?null:e;default:return null}}function My(e,n){if(Ui)return e==="compositionend"||!Ts&&xc(e,n)?(e=yc(),Al=ms=Dn=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _c&&n.locale!=="ko"?null:n.data;default:return null}}var Ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ny[e.type]:n==="textarea"}function Nc(e,n,o,s){Ii?Di?Di.push(s):Di=[s]:Ii=s,n=ya(n,"onChange"),0<n.length&&(o=new Ml("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var No=null,bo=null;function by(e){fp(e,0)}function bl(e){var n=_o(e);if(uc(n))return e}function bc(e,n){if(e==="change")return n}var wc=!1;if(fn){var Es;if(fn){var _s="oninput"in document;if(!_s){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),_s=typeof Ic.oninput=="function"}Es=_s}else Es=!1;wc=Es&&(!document.documentMode||9<document.documentMode)}function Dc(){No&&(No.detachEvent("onpropertychange",Uc),bo=No=null)}function Uc(e){if(e.propertyName==="value"&&bl(bo)){var n=[];Nc(n,bo,e,ds(e)),gc(by,n)}}function wy(e,n,o){e==="focusin"?(Dc(),No=n,bo=o,No.attachEvent("onpropertychange",Uc)):e==="focusout"&&Dc()}function Iy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(bo)}function Dy(e,n){if(e==="click")return bl(n)}function Uy(e,n){if(e==="input"||e==="change")return bl(n)}function Ly(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wt=typeof Object.is=="function"?Object.is:Ly;function wo(e,n){if(wt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!dt.call(n,d)||!wt(e[d],n[d]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,n){var o=Lc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lc(o)}}function Hc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_l(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=_l(e.document)}return n}function Cs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Gy=fn&&"documentMode"in document&&11>=document.documentMode,Li=null,As=null,Io=null,xs=!1;function qc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xs||Li==null||Li!==_l(s)||(s=Li,"selectionStart"in s&&Cs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Io&&wo(Io,s)||(Io=s,s=ya(As,"onSelect"),0<s.length&&(n=new Ml("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Li)))}function ai(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Gi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},Rs={},zc={};fn&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function si(e){if(Rs[e])return Rs[e];if(!Gi[e])return e;var n=Gi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in zc)return Rs[e]=n[o];return e}var Bc=si("animationend"),Pc=si("animationiteration"),kc=si("animationstart"),Hy=si("transitionrun"),Vy=si("transitionstart"),qy=si("transitioncancel"),Oc=si("transitionend"),Fc=new Map,Ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ms.push("scrollEnd");function Qt(e,n){Fc.set(e,n),oi(n,[e])}var wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Hi=0,Ns=0;function Il(){for(var e=Hi,n=Ns=Hi=0;n<e;){var o=zt[n];zt[n++]=null;var s=zt[n];zt[n++]=null;var d=zt[n];zt[n++]=null;var h=zt[n];if(zt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&Yc(o,d,h)}}function Dl(e,n,o,s){zt[Hi++]=e,zt[Hi++]=n,zt[Hi++]=o,zt[Hi++]=s,Ns|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function bs(e,n,o,s){return Dl(e,n,o,s),Ul(e)}function ri(e,n){return Dl(e,null,null,n),Ul(e)}function Yc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-bt(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),h):null}function Ul(e){if(50<jo)throw jo=0,qr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vi={};function zy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,n,o,s){return new zy(e,n,o,s)}function ws(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,n){var o=e.alternate;return o===null?(o=It(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Jc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ll(e,n,o,s,d,h){var S=0;if(s=e,typeof e=="function")ws(e)&&(S=1);else if(typeof e=="string")S=Fv(e,o,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=It(31,o,n,d),e.elementType=ae,e.lanes=h,e;case z:return ui(o.children,d,h,n);case H:S=8,d|=24;break;case F:return e=It(12,o,n,d|2),e.elementType=F,e.lanes=h,e;case ne:return e=It(13,o,n,d),e.elementType=ne,e.lanes=h,e;case K:return e=It(19,o,n,d),e.elementType=K,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:S=10;break e;case ie:S=9;break e;case le:S=11;break e;case W:S=14;break e;case he:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=It(S,o,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function ui(e,n,o,s){return e=It(7,e,s,n),e.lanes=o,e}function Is(e,n,o){return e=It(6,e,null,n),e.lanes=o,e}function Xc(e){var n=It(18,null,null,0);return n.stateNode=e,n}function Ds(e,n,o){return n=It(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kc=new WeakMap;function Bt(e,n){if(typeof e=="object"&&e!==null){var o=Kc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:ni(n)},Kc.set(e,n),n)}return{value:e,source:n,stack:ni(n)}}var qi=[],zi=0,Gl=null,Do=0,Pt=[],kt=0,Un=null,tn=1,nn="";function pn(e,n){qi[zi++]=Do,qi[zi++]=Gl,Gl=e,Do=n}function Qc(e,n,o){Pt[kt++]=tn,Pt[kt++]=nn,Pt[kt++]=Un,Un=e;var s=tn;e=nn;var d=32-bt(s)-1;s&=~(1<<d),o+=1;var h=32-bt(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,tn=1<<32-bt(n)+d|o<<d|s,nn=h+e}else tn=1<<h|o<<d|s,nn=e}function Us(e){e.return!==null&&(pn(e,1),Qc(e,1,0))}function Ls(e){for(;e===Gl;)Gl=qi[--zi],qi[zi]=null,Do=qi[--zi],qi[zi]=null;for(;e===Un;)Un=Pt[--kt],Pt[kt]=null,nn=Pt[--kt],Pt[kt]=null,tn=Pt[--kt],Pt[kt]=null}function Zc(e,n){Pt[kt++]=tn,Pt[kt++]=nn,Pt[kt++]=Un,tn=n.id,nn=n.overflow,Un=e}var it=null,qe=null,Ae=!1,Ln=null,Ot=!1,Gs=Error(a(519));function Gn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Bt(n,e)),Gs}function $c(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[nt]=e,n[yt]=s,o){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(o=0;o<tl.length;o++)Ee(tl[o],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),dc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||mp(n.textContent,o)?(s.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),s.onScroll!=null&&Ee("scroll",n),s.onScrollEnd!=null&&Ee("scrollend",n),s.onClick!=null&&(n.onclick=cn),n=!0):n=!1,n||Gn(e,!0)}function Wc(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:it=it.return}}function Bi(e){if(e!==it)return!1;if(!Ae)return Wc(e),Ae=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||jr(e.type,e.memoizedProps)),o=!o),o&&qe&&Gn(e),Wc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));qe=Ap(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));qe=Ap(e)}else n===27?(n=qe,Qn(e.type)?(e=ou,ou=null,qe=e):qe=n):qe=it?Yt(e.stateNode.nextSibling):null;return!0}function ci(){qe=it=null,Ae=!1}function Hs(){var e=Ln;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Ln=null),e}function Uo(e){Ln===null?Ln=[e]:Ln.push(e)}var Vs=A(null),fi=null,hn=null;function Hn(e,n,o){Z(Vs,n._currentValue),n._currentValue=o}function mn(e){e._currentValue=Vs.current,I(Vs)}function qs(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function zs(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var x=0;x<n.length;x++)if(_.context===n[x]){h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),qs(h.return,o,e),s||(S=null);break e}h=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,h=S.alternate,h!==null&&(h.lanes|=o),qs(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Pi(e,n,o,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;wt(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===ye.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}d=d.return}e!==null&&zs(n,e,o,s),n.flags|=262144}function Hl(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){fi=e,hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return jc(fi,e)}function Vl(e,n){return fi===null&&di(e),jc(e,n)}function jc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},hn===null){if(e===null)throw Error(a(308));hn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else hn=hn.next=n;return o}var By=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Py=i.unstable_scheduleCallback,ky=i.unstable_NormalPriority,Je={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new By,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&Py(ky,function(){e.controller.abort()})}var Go=null,Ps=0,ki=0,Oi=null;function Oy(e,n){if(Go===null){var o=Go=[];Ps=0,ki=Fr(),Oi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Ps++,n.then(ef,ef),n}function ef(){if(--Ps===0&&Go!==null){Oi!==null&&(Oi.status="fulfilled");var e=Go;Go=null,ki=0,Oi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Fy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var tf=N.S;N.S=function(e,n){zd=Mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Oy(e,n),tf!==null&&tf(e,n)};var pi=A(null);function ks(){var e=pi.current;return e!==null?e:Ve.pooledCache}function ql(e,n){n===null?Z(pi,pi.current):Z(pi,n.pool)}function nf(){var e=ks();return e===null?null:{parent:Je._currentValue,pool:e}}var Fi=Error(a(460)),Os=Error(a(474)),zl=Error(a(542)),Bl={then:function(){}};function of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(cn,cn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sf(e),e;default:if(typeof n.status=="string")n.then(cn,cn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sf(e),e}throw mi=n,Fi}}function hi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(mi=o,Fi):o}}var mi=null;function af(){if(mi===null)throw Error(a(459));var e=mi;return mi=null,e}function sf(e){if(e===Fi||e===zl)throw Error(a(483))}var Yi=null,Ho=0;function Pl(e){var n=Ho;return Ho+=1,Yi===null&&(Yi=[]),lf(Yi,e,n)}function Vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function kl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rf(e){function n(b,M){if(e){var U=b.deletions;U===null?(b.deletions=[M],b.flags|=16):U.push(M)}}function o(b,M){if(!e)return null;for(;M!==null;)n(b,M),M=M.sibling;return null}function s(b){for(var M=new Map;b!==null;)b.key!==null?M.set(b.key,b):M.set(b.index,b),b=b.sibling;return M}function d(b,M){return b=dn(b,M),b.index=0,b.sibling=null,b}function h(b,M,U){return b.index=U,e?(U=b.alternate,U!==null?(U=U.index,U<M?(b.flags|=67108866,M):U):(b.flags|=67108866,M)):(b.flags|=1048576,M)}function S(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function _(b,M,U,P){return M===null||M.tag!==6?(M=Is(U,b.mode,P),M.return=b,M):(M=d(M,U),M.return=b,M)}function x(b,M,U,P){var fe=U.type;return fe===z?B(b,M,U.props.children,P,U.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&hi(fe)===M.type)?(M=d(M,U.props),Vo(M,U),M.return=b,M):(M=Ll(U.type,U.key,U.props,null,b.mode,P),Vo(M,U),M.return=b,M)}function L(b,M,U,P){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Ds(U,b.mode,P),M.return=b,M):(M=d(M,U.children||[]),M.return=b,M)}function B(b,M,U,P,fe){return M===null||M.tag!==7?(M=ui(U,b.mode,P,fe),M.return=b,M):(M=d(M,U),M.return=b,M)}function J(b,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Is(""+M,b.mode,U),M.return=b,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return U=Ll(M.type,M.key,M.props,null,b.mode,U),Vo(U,M),U.return=b,U;case D:return M=Ds(M,b.mode,U),M.return=b,M;case he:return M=hi(M),J(b,M,U)}if(ee(M)||O(M))return M=ui(M,b.mode,U,null),M.return=b,M;if(typeof M.then=="function")return J(b,Pl(M),U);if(M.$$typeof===X)return J(b,Vl(b,M),U);kl(b,M)}return null}function G(b,M,U,P){var fe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:_(b,M,""+U,P);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===fe?x(b,M,U,P):null;case D:return U.key===fe?L(b,M,U,P):null;case he:return U=hi(U),G(b,M,U,P)}if(ee(U)||O(U))return fe!==null?null:B(b,M,U,P,null);if(typeof U.then=="function")return G(b,M,Pl(U),P);if(U.$$typeof===X)return G(b,M,Vl(b,U),P);kl(b,U)}return null}function q(b,M,U,P,fe){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return b=b.get(U)||null,_(M,b,""+P,fe);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return b=b.get(P.key===null?U:P.key)||null,x(M,b,P,fe);case D:return b=b.get(P.key===null?U:P.key)||null,L(M,b,P,fe);case he:return P=hi(P),q(b,M,U,P,fe)}if(ee(P)||O(P))return b=b.get(U)||null,B(M,b,P,fe,null);if(typeof P.then=="function")return q(b,M,U,Pl(P),fe);if(P.$$typeof===X)return q(b,M,U,Vl(M,P),fe);kl(M,P)}return null}function re(b,M,U,P){for(var fe=null,xe=null,ue=M,Se=M=0,Ce=null;ue!==null&&Se<U.length;Se++){ue.index>Se?(Ce=ue,ue=null):Ce=ue.sibling;var Re=G(b,ue,U[Se],P);if(Re===null){ue===null&&(ue=Ce);break}e&&ue&&Re.alternate===null&&n(b,ue),M=h(Re,M,Se),xe===null?fe=Re:xe.sibling=Re,xe=Re,ue=Ce}if(Se===U.length)return o(b,ue),Ae&&pn(b,Se),fe;if(ue===null){for(;Se<U.length;Se++)ue=J(b,U[Se],P),ue!==null&&(M=h(ue,M,Se),xe===null?fe=ue:xe.sibling=ue,xe=ue);return Ae&&pn(b,Se),fe}for(ue=s(ue);Se<U.length;Se++)Ce=q(ue,b,Se,U[Se],P),Ce!==null&&(e&&Ce.alternate!==null&&ue.delete(Ce.key===null?Se:Ce.key),M=h(Ce,M,Se),xe===null?fe=Ce:xe.sibling=Ce,xe=Ce);return e&&ue.forEach(function(ei){return n(b,ei)}),Ae&&pn(b,Se),fe}function pe(b,M,U,P){if(U==null)throw Error(a(151));for(var fe=null,xe=null,ue=M,Se=M=0,Ce=null,Re=U.next();ue!==null&&!Re.done;Se++,Re=U.next()){ue.index>Se?(Ce=ue,ue=null):Ce=ue.sibling;var ei=G(b,ue,Re.value,P);if(ei===null){ue===null&&(ue=Ce);break}e&&ue&&ei.alternate===null&&n(b,ue),M=h(ei,M,Se),xe===null?fe=ei:xe.sibling=ei,xe=ei,ue=Ce}if(Re.done)return o(b,ue),Ae&&pn(b,Se),fe;if(ue===null){for(;!Re.done;Se++,Re=U.next())Re=J(b,Re.value,P),Re!==null&&(M=h(Re,M,Se),xe===null?fe=Re:xe.sibling=Re,xe=Re);return Ae&&pn(b,Se),fe}for(ue=s(ue);!Re.done;Se++,Re=U.next())Re=q(ue,b,Se,Re.value,P),Re!==null&&(e&&Re.alternate!==null&&ue.delete(Re.key===null?Se:Re.key),M=h(Re,M,Se),xe===null?fe=Re:xe.sibling=Re,xe=Re);return e&&ue.forEach(function(t0){return n(b,t0)}),Ae&&pn(b,Se),fe}function He(b,M,U,P){if(typeof U=="object"&&U!==null&&U.type===z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:e:{for(var fe=U.key;M!==null;){if(M.key===fe){if(fe=U.type,fe===z){if(M.tag===7){o(b,M.sibling),P=d(M,U.props.children),P.return=b,b=P;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&hi(fe)===M.type){o(b,M.sibling),P=d(M,U.props),Vo(P,U),P.return=b,b=P;break e}o(b,M);break}else n(b,M);M=M.sibling}U.type===z?(P=ui(U.props.children,b.mode,P,U.key),P.return=b,b=P):(P=Ll(U.type,U.key,U.props,null,b.mode,P),Vo(P,U),P.return=b,b=P)}return S(b);case D:e:{for(fe=U.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){o(b,M.sibling),P=d(M,U.children||[]),P.return=b,b=P;break e}else{o(b,M);break}else n(b,M);M=M.sibling}P=Ds(U,b.mode,P),P.return=b,b=P}return S(b);case he:return U=hi(U),He(b,M,U,P)}if(ee(U))return re(b,M,U,P);if(O(U)){if(fe=O(U),typeof fe!="function")throw Error(a(150));return U=fe.call(U),pe(b,M,U,P)}if(typeof U.then=="function")return He(b,M,Pl(U),P);if(U.$$typeof===X)return He(b,M,Vl(b,U),P);kl(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(o(b,M.sibling),P=d(M,U),P.return=b,b=P):(o(b,M),P=Is(U,b.mode,P),P.return=b,b=P),S(b)):o(b,M)}return function(b,M,U,P){try{Ho=0;var fe=He(b,M,U,P);return Yi=null,fe}catch(ue){if(ue===Fi||ue===zl)throw ue;var xe=It(29,ue,null,b.mode);return xe.lanes=P,xe.return=b,xe}finally{}}}var gi=rf(!0),uf=rf(!1),Vn=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ys(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ne&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Ul(e),Yc(e,null,o),n}return Dl(e,s,n,o),Ul(e)}function qo(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ju(e,o)}}function Js(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Xs=!1;function zo(){if(Xs){var e=Oi;if(e!==null)throw e}}function Bo(e,n,o,s){Xs=!1;var d=e.updateQueue;Vn=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var x=_,L=x.next;x.next=null,S===null?h=L:S.next=L,S=x;var B=e.alternate;B!==null&&(B=B.updateQueue,_=B.lastBaseUpdate,_!==S&&(_===null?B.firstBaseUpdate=L:_.next=L,B.lastBaseUpdate=x))}if(h!==null){var J=d.baseState;S=0,B=L=x=null,_=h;do{var G=_.lane&-536870913,q=G!==_.lane;if(q?(_e&G)===G:(s&G)===G){G!==0&&G===ki&&(Xs=!0),B!==null&&(B=B.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var re=e,pe=_;G=n;var He=o;switch(pe.tag){case 1:if(re=pe.payload,typeof re=="function"){J=re.call(He,J,G);break e}J=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=pe.payload,G=typeof re=="function"?re.call(He,J,G):re,G==null)break e;J=T({},J,G);break e;case 2:Vn=!0}}G=_.callback,G!==null&&(e.flags|=64,q&&(e.flags|=8192),q=d.callbacks,q===null?d.callbacks=[G]:q.push(G))}else q={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},B===null?(L=B=q,x=J):B=B.next=q,S|=G;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;q=_,_=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);B===null&&(x=J),d.baseState=x,d.firstBaseUpdate=L,d.lastBaseUpdate=B,h===null&&(d.shared.lanes=0),Fn|=S,e.lanes=S,e.memoizedState=J}}function cf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ff(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)cf(o[e],n)}var Ji=A(null),Ol=A(0);function df(e,n){e=An,Z(Ol,e),Z(Ji,n),An=e|n.baseLanes}function Ks(){Z(Ol,An),Z(Ji,Ji.current)}function Qs(){An=Ol.current,I(Ji),I(Ol)}var Dt=A(null),Ft=null;function Bn(e){var n=e.alternate;Z(Oe,Oe.current&1),Z(Dt,e),Ft===null&&(n===null||Ji.current!==null||n.memoizedState!==null)&&(Ft=e)}function Zs(e){Z(Oe,Oe.current),Z(Dt,e),Ft===null&&(Ft=e)}function pf(e){e.tag===22?(Z(Oe,Oe.current),Z(Dt,e),Ft===null&&(Ft=e)):Pn()}function Pn(){Z(Oe,Oe.current),Z(Dt,Dt.current)}function Ut(e){I(Dt),Ft===e&&(Ft=null),I(Oe)}var Oe=A(0);function Fl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||nu(o)||iu(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gn=0,ve=null,Le=null,Xe=null,Yl=!1,Xi=!1,yi=!1,Jl=0,Po=0,Ki=null,Yy=0;function Pe(){throw Error(a(321))}function $s(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!wt(e[o],n[o]))return!1;return!0}function Ws(e,n,o,s,d,h){return gn=h,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=e===null||e.memoizedState===null?Zf:pr,yi=!1,h=o(s,d),yi=!1,Xi&&(h=mf(n,o,s,d)),hf(e),h}function hf(e){N.H=Fo;var n=Le!==null&&Le.next!==null;if(gn=0,Xe=Le=ve=null,Yl=!1,Po=0,Ki=null,n)throw Error(a(300));e===null||Ke||(e=e.dependencies,e!==null&&Hl(e)&&(Ke=!0))}function mf(e,n,o,s){ve=e;var d=0;do{if(Xi&&(Ki=null),Po=0,Xi=!1,25<=d)throw Error(a(301));if(d+=1,Xe=Le=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}N.H=$f,h=n(o,s)}while(Xi);return h}function Jy(){var e=N.H,n=e.useState()[0];return n=typeof n.then=="function"?ko(n):n,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ve.flags|=1024),n}function js(){var e=Jl!==0;return Jl=0,e}function er(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function tr(e){if(Yl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yl=!1}gn=0,Xe=Le=ve=null,Xi=!1,Po=Jl=0,Ki=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Fe(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=Xe===null?ve.memoizedState:Xe.next;if(n!==null)Xe=n,Le=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var n=Po;return Po+=1,Ki===null&&(Ki=[]),e=lf(Ki,e,n),n=ve,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?Zf:pr),e}function Kl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===X)return ot(e)}throw Error(a(438,String(e)))}function nr(e){var n=null,o=ve.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Xl(),ve.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=j;return n.index++,o}function yn(e,n){return typeof n=="function"?n(e):n}function Ql(e){var n=Fe();return ir(n,Le,e)}function ir(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=S=null,x=null,L=n,B=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(_e&J)===J:(gn&J)===J){var G=L.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===ki&&(B=!0);else if((gn&G)===G){L=L.next,G===ki&&(B=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(_=x=J,S=h):x=x.next=J,ve.lanes|=G,Fn|=G;J=L.action,yi&&o(h,J),h=L.hasEagerState?L.eagerState:o(h,J)}else G={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(_=x=G,S=h):x=x.next=G,ve.lanes|=J,Fn|=J;L=L.next}while(L!==null&&L!==n);if(x===null?S=h:x.next=_,!wt(h,e.memoizedState)&&(Ke=!0,B&&(o=Oi,o!==null)))throw o;e.memoizedState=h,e.baseState=S,e.baseQueue=x,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function or(e){var n=Fe(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);wt(h,n.memoizedState)||(Ke=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function gf(e,n,o){var s=ve,d=Fe(),h=Ae;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!wt((Le||d).memoizedState,o);if(S&&(d.memoizedState=o,Ke=!0),d=d.queue,sr(Sf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Qi(9,{destroy:void 0},vf.bind(null,s,d,o,n),null),Ve===null)throw Error(a(349));h||(gn&127)!==0||yf(s,n,o)}return o}function yf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ve.updateQueue,n===null?(n=Xl(),ve.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function vf(e,n,o,s){n.value=o,n.getSnapshot=s,Tf(n)&&Ef(e)}function Sf(e,n,o){return o(function(){Tf(n)&&Ef(e)})}function Tf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!wt(e,o)}catch{return!0}}function Ef(e){var n=ri(e,2);n!==null&&Ct(n,e,2)}function lr(e){var n=pt();if(typeof e=="function"){var o=e;if(e=o(),yi){wn(!0);try{o()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},n}function _f(e,n,o,s){return e.baseState=o,ir(e,Le,typeof s=="function"?s:yn)}function Xy(e,n,o,s,d){if(Wl(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};N.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,Cf(n,h)):(h.next=o.next,n.pending=o.next=h)}}function Cf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=N.T,S={};N.T=S;try{var _=o(d,s),x=N.S;x!==null&&x(S,_),Af(e,n,_)}catch(L){ar(e,n,L)}finally{h!==null&&S.types!==null&&(h.types=S.types),N.T=h}}else try{h=o(d,s),Af(e,n,h)}catch(L){ar(e,n,L)}}function Af(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){xf(e,n,s)},function(s){return ar(e,n,s)}):xf(e,n,o)}function xf(e,n,o){n.status="fulfilled",n.value=o,Rf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Cf(e,o)))}function ar(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Rf(n),n=n.next;while(n!==s)}e.action=null}function Rf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mf(e,n){return n}function Nf(e,n){if(Ae){var o=Ve.formState;if(o!==null){e:{var s=ve;if(Ae){if(qe){t:{for(var d=qe,h=Ot;d.nodeType!==8;){if(!h){d=null;break t}if(d=Yt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){qe=Yt(d.nextSibling),s=d.data==="F!";break e}}Gn(s)}s=!1}s&&(n=o[0])}}return o=pt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:n},o.queue=s,o=Xf.bind(null,ve,s),s.dispatch=o,s=lr(!1),h=dr.bind(null,ve,!1,s.queue),s=pt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=Xy.bind(null,ve,d,h,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function bf(e){var n=Fe();return wf(n,Le,e)}function wf(e,n,o){if(n=ir(e,n,Mf)[0],e=Ql(yn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=ko(n)}catch(S){throw S===Fi?zl:S}else s=n;n=Fe();var d=n.queue,h=d.dispatch;return o!==n.memoizedState&&(ve.flags|=2048,Qi(9,{destroy:void 0},Ky.bind(null,d,o),null)),[s,h,e]}function Ky(e,n){e.action=n}function If(e){var n=Fe(),o=Le;if(o!==null)return wf(n,o,e);Fe(),n=n.memoizedState,o=Fe();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Qi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=ve.updateQueue,n===null&&(n=Xl(),ve.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Df(){return Fe().memoizedState}function Zl(e,n,o,s){var d=pt();ve.flags|=e,d.memoizedState=Qi(1|n,{destroy:void 0},o,s===void 0?null:s)}function $l(e,n,o,s){var d=Fe();s=s===void 0?null:s;var h=d.memoizedState.inst;Le!==null&&s!==null&&$s(s,Le.memoizedState.deps)?d.memoizedState=Qi(n,h,o,s):(ve.flags|=e,d.memoizedState=Qi(1|n,h,o,s))}function Uf(e,n){Zl(8390656,8,e,n)}function sr(e,n){$l(2048,8,e,n)}function Qy(e){ve.flags|=4;var n=ve.updateQueue;if(n===null)n=Xl(),ve.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Lf(e){var n=Fe().memoizedState;return Qy({ref:n,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Gf(e,n){return $l(4,2,e,n)}function Hf(e,n){return $l(4,4,e,n)}function Vf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qf(e,n,o){o=o!=null?o.concat([e]):null,$l(4,4,Vf.bind(null,n,e),o)}function rr(){}function zf(e,n){var o=Fe();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&$s(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Bf(e,n){var o=Fe();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&$s(n,s[1]))return s[0];if(s=e(),yi){wn(!0);try{e()}finally{wn(!1)}}return o.memoizedState=[s,n],s}function ur(e,n,o){return o===void 0||(gn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Pd(),ve.lanes|=e,Fn|=e,o)}function Pf(e,n,o,s){return wt(o,n)?o:Ji.current!==null?(e=ur(e,o,s),wt(e,n)||(Ke=!0),e):(gn&42)===0||(gn&1073741824)!==0&&(_e&261930)===0?(Ke=!0,e.memoizedState=o):(e=Pd(),ve.lanes|=e,Fn|=e,n)}function kf(e,n,o,s,d){var h=V.p;V.p=h!==0&&8>h?h:8;var S=N.T,_={};N.T=_,dr(e,!1,n,o);try{var x=d(),L=N.S;if(L!==null&&L(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=Fy(x,s);Oo(e,n,B,Ht(e))}else Oo(e,n,s,Ht(e))}catch(J){Oo(e,n,{then:function(){},status:"rejected",reason:J},Ht())}finally{V.p=h,S!==null&&_.types!==null&&(S.types=_.types),N.T=S}}function Zy(){}function cr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=Of(e).queue;kf(e,d,n,w,o===null?Zy:function(){return Ff(e),o(s)})}function Of(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:w},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ff(e){var n=Of(e);n.next===null&&(n=e.alternate.memoizedState),Oo(e,n.next.queue,{},Ht())}function fr(){return ot(al)}function Yf(){return Fe().memoizedState}function Jf(){return Fe().memoizedState}function $y(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ht();e=qn(o);var s=zn(n,e,o);s!==null&&(Ct(s,n,o),qo(s,n,o)),n={cache:Bs()},e.payload=n;return}n=n.return}}function Wy(e,n,o){var s=Ht();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wl(e)?Kf(n,o):(o=bs(e,n,o,s),o!==null&&(Ct(o,e,s),Qf(o,n,s)))}function Xf(e,n,o){var s=Ht();Oo(e,n,o,s)}function Oo(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wl(e))Kf(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,_=h(S,o);if(d.hasEagerState=!0,d.eagerState=_,wt(_,S))return Dl(e,n,d,0),Ve===null&&Il(),!1}catch{}finally{}if(o=bs(e,n,d,s),o!==null)return Ct(o,e,s),Qf(o,n,s),!0}return!1}function dr(e,n,o,s){if(s={lane:2,revertLane:Fr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Wl(e)){if(n)throw Error(a(479))}else n=bs(e,o,s,2),n!==null&&Ct(n,e,2)}function Wl(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function Kf(e,n){Xi=Yl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Qf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ju(e,o)}}var Fo={readContext:ot,use:Kl,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Fo.useEffectEvent=Pe;var Zf={readContext:ot,use:Kl,useCallback:function(e,n){return pt().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:Uf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Zl(4194308,4,Vf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Zl(4194308,4,e,n)},useInsertionEffect:function(e,n){Zl(4,2,e,n)},useMemo:function(e,n){var o=pt();n=n===void 0?null:n;var s=e();if(yi){wn(!0);try{e()}finally{wn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=pt();if(o!==void 0){var d=o(n);if(yi){wn(!0);try{o(n)}finally{wn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Wy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var n=pt();return e={current:e},n.memoizedState=e},useState:function(e){e=lr(e);var n=e.queue,o=Xf.bind(null,ve,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:rr,useDeferredValue:function(e,n){var o=pt();return ur(o,e,n)},useTransition:function(){var e=lr(!1);return e=kf.bind(null,ve,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=ve,d=pt();if(Ae){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Ve===null)throw Error(a(349));(_e&127)!==0||yf(s,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,Uf(Sf.bind(null,s,h,e),[e]),s.flags|=2048,Qi(9,{destroy:void 0},vf.bind(null,s,h,o,n),null),o},useId:function(){var e=pt(),n=Ve.identifierPrefix;if(Ae){var o=nn,s=tn;o=(s&~(1<<32-bt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Jl++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Yy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:fr,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var n=pt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=dr.bind(null,ve,!0,o),o.dispatch=n,[e,n]},useMemoCache:nr,useCacheRefresh:function(){return pt().memoizedState=$y.bind(null,ve)},useEffectEvent:function(e){var n=pt(),o={impl:e};return n.memoizedState=o,function(){if((Ne&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},pr={readContext:ot,use:Kl,useCallback:zf,useContext:ot,useEffect:sr,useImperativeHandle:qf,useInsertionEffect:Gf,useLayoutEffect:Hf,useMemo:Bf,useReducer:Ql,useRef:Df,useState:function(){return Ql(yn)},useDebugValue:rr,useDeferredValue:function(e,n){var o=Fe();return Pf(o,Le.memoizedState,e,n)},useTransition:function(){var e=Ql(yn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:fr,useFormState:bf,useActionState:bf,useOptimistic:function(e,n){var o=Fe();return _f(o,Le,e,n)},useMemoCache:nr,useCacheRefresh:Jf};pr.useEffectEvent=Lf;var $f={readContext:ot,use:Kl,useCallback:zf,useContext:ot,useEffect:sr,useImperativeHandle:qf,useInsertionEffect:Gf,useLayoutEffect:Hf,useMemo:Bf,useReducer:or,useRef:Df,useState:function(){return or(yn)},useDebugValue:rr,useDeferredValue:function(e,n){var o=Fe();return Le===null?ur(o,e,n):Pf(o,Le.memoizedState,e,n)},useTransition:function(){var e=or(yn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:fr,useFormState:If,useActionState:If,useOptimistic:function(e,n){var o=Fe();return Le!==null?_f(o,Le,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:nr,useCacheRefresh:Jf};$f.useEffectEvent=Lf;function hr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var mr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Ht(),d=qn(s);d.payload=n,o!=null&&(d.callback=o),n=zn(e,d,s),n!==null&&(Ct(n,e,s),qo(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Ht(),d=qn(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=zn(e,d,s),n!==null&&(Ct(n,e,s),qo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Ht(),s=qn(o);s.tag=2,n!=null&&(s.callback=n),n=zn(e,s,o),n!==null&&(Ct(n,e,o),qo(n,e,o))}};function Wf(e,n,o,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!wo(o,s)||!wo(d,h):!0}function jf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&mr.enqueueReplaceState(n,n.state,null)}function vi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function ed(e){wl(e)}function td(e){console.error(e)}function nd(e){wl(e)}function jl(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function id(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gr(e,n,o){return o=qn(o),o.tag=3,o.payload={element:null},o.callback=function(){jl(e,n)},o}function od(e){return e=qn(e),e.tag=3,e}function ld(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){id(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){id(n,o,s),typeof d!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function jy(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Pi(n,o,d,!0),o=Dt.current,o!==null){switch(o.tag){case 31:case 13:return Ft===null?fa():o.alternate===null&&ke===0&&(ke=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Bl?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Pr(e,s,d)),!1;case 22:return o.flags|=65536,s===Bl?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Pr(e,s,d)),!1}throw Error(a(435,o.tag))}return Pr(e,s,d),fa(),!1}if(Ae)return n=Dt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Gs&&(e=Error(a(422),{cause:s}),Uo(Bt(e,o)))):(s!==Gs&&(n=Error(a(423),{cause:s}),Uo(Bt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Bt(s,o),d=gr(e.stateNode,s,d),Js(e,d),ke!==4&&(ke=2)),!1;var h=Error(a(520),{cause:s});if(h=Bt(h,o),Wo===null?Wo=[h]:Wo.push(h),ke!==4&&(ke=2),n===null)return!0;s=Bt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=gr(o.stateNode,s,e),Js(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yn===null||!Yn.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=od(d),ld(d,e,o,s),Js(o,d),!1}o=o.return}while(o!==null);return!1}var yr=Error(a(461)),Ke=!1;function lt(e,n,o,s){n.child=e===null?uf(n,null,o,s):gi(n,e.child,o,s)}function ad(e,n,o,s,d){o=o.render;var h=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return di(n),s=Ws(e,n,o,S,h,d),_=js(),e!==null&&!Ke?(er(e,n,d),vn(e,n,d)):(Ae&&_&&Us(n),n.flags|=1,lt(e,n,s,d),n.child)}function sd(e,n,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!ws(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,rd(e,n,h,s,d)):(e=Ll(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!xr(e,d)){var S=h.memoizedProps;if(o=o.compare,o=o!==null?o:wo,o(S,s)&&e.ref===n.ref)return vn(e,n,d)}return n.flags|=1,e=dn(h,s),e.ref=n.ref,e.return=n,n.child=e}function rd(e,n,o,s,d){if(e!==null){var h=e.memoizedProps;if(wo(h,s)&&e.ref===n.ref)if(Ke=!1,n.pendingProps=s=h,xr(e,d))(e.flags&131072)!==0&&(Ke=!0);else return n.lanes=e.lanes,vn(e,n,d)}return vr(e,n,o,s,d)}function ud(e,n,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return cd(e,n,h,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(n,h!==null?h.cachePool:null),h!==null?df(n,h):Ks(),pf(n);else return s=n.lanes=536870912,cd(e,n,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(ql(n,h.cachePool),df(n,h),Pn(),n.memoizedState=null):(e!==null&&ql(n,null),Ks(),Pn());return lt(e,n,d,o),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cd(e,n,o,s,d){var h=ks();return h=h===null?null:{parent:Je._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&ql(n,null),Ks(),pf(n),e!==null&&Pi(e,n,s,!0),n.childLanes=d,null}function ea(e,n){return n=na({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function fd(e,n,o){return gi(n,e.child,null,o),e=ea(n,n.pendingProps),e.flags|=2,Ut(n),n.memoizedState=null,e}function ev(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=ea(n,s),n.lanes=536870912,Yo(null,e);if(Zs(n),(e=qe)?(e=Cp(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},o=Xc(e),o.return=n,n.child=o,it=n,qe=null)):e=null,e===null)throw Gn(n);return n.lanes=536870912,null}return ea(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Zs(n),d)if(n.flags&256)n.flags&=-257,n=fd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ke||Pi(e,n,o,!1),d=(o&e.childLanes)!==0,Ke||d){if(s=Ve,s!==null&&(S=ec(s,o),S!==0&&S!==h.retryLane))throw h.retryLane=S,ri(e,S),Ct(s,e,S),yr;fa(),n=fd(e,n,o)}else e=h.treeContext,qe=Yt(S.nextSibling),it=n,Ae=!0,Ln=null,Ot=!1,e!==null&&Zc(n,e),n=ea(n,s),n.flags|=4096;return n}return e=dn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ta(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function vr(e,n,o,s,d){return di(n),o=Ws(e,n,o,s,void 0,d),s=js(),e!==null&&!Ke?(er(e,n,d),vn(e,n,d)):(Ae&&s&&Us(n),n.flags|=1,lt(e,n,o,d),n.child)}function dd(e,n,o,s,d,h){return di(n),n.updateQueue=null,o=mf(n,s,o,d),hf(e),s=js(),e!==null&&!Ke?(er(e,n,h),vn(e,n,h)):(Ae&&s&&Us(n),n.flags|=1,lt(e,n,o,h),n.child)}function pd(e,n,o,s,d){if(di(n),n.stateNode===null){var h=Vi,S=o.contextType;typeof S=="object"&&S!==null&&(h=ot(S)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=mr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Fs(n),S=o.contextType,h.context=typeof S=="object"&&S!==null?ot(S):Vi,h.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(hr(n,o,S,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&mr.enqueueReplaceState(h,h.state,null),Bo(n,s,h,d),zo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,x=vi(o,_);h.props=x;var L=h.context,B=o.contextType;S=Vi,typeof B=="object"&&B!==null&&(S=ot(B));var J=o.getDerivedStateFromProps;B=typeof J=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||L!==S)&&jf(n,h,s,S),Vn=!1;var G=n.memoizedState;h.state=G,Bo(n,s,h,d),zo(),L=n.memoizedState,_||G!==L||Vn?(typeof J=="function"&&(hr(n,o,J,s),L=n.memoizedState),(x=Vn||Wf(n,o,x,s,G,L,S))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=L),h.props=s,h.state=L,h.context=S,s=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Ys(e,n),S=n.memoizedProps,B=vi(o,S),h.props=B,J=n.pendingProps,G=h.context,L=o.contextType,x=Vi,typeof L=="object"&&L!==null&&(x=ot(L)),_=o.getDerivedStateFromProps,(L=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==J||G!==x)&&jf(n,h,s,x),Vn=!1,G=n.memoizedState,h.state=G,Bo(n,s,h,d),zo();var q=n.memoizedState;S!==J||G!==q||Vn||e!==null&&e.dependencies!==null&&Hl(e.dependencies)?(typeof _=="function"&&(hr(n,o,_,s),q=n.memoizedState),(B=Vn||Wf(n,o,B,s,G,q,x)||e!==null&&e.dependencies!==null&&Hl(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,q,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,q,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=q),h.props=s,h.state=q,h.context=x,s=B):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,ta(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=gi(n,e.child,null,d),n.child=gi(n,null,o,d)):lt(e,n,o,d),n.memoizedState=h.state,e=n.child):e=vn(e,n,d),e}function hd(e,n,o,s){return ci(),n.flags|=256,lt(e,n,o,s),n.child}var Sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tr(e){return{baseLanes:e,cachePool:nf()}}function Er(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Gt),e}function md(e,n,o){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(d?Bn(n):Pn(),(e=qe)?(e=Cp(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},o=Xc(e),o.return=n,n.child=o,it=n,qe=null)):e=null,e===null)throw Gn(n);return iu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Pn(),d=n.mode,_=na({mode:"hidden",children:_},d),s=ui(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=Tr(o),s.childLanes=Er(e,S,o),n.memoizedState=Sr,Yo(null,s)):(Bn(n),_r(n,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(h)n.flags&256?(Bn(n),n.flags&=-257,n=Cr(e,n,o)):n.memoizedState!==null?(Pn(),n.child=e.child,n.flags|=128,n=null):(Pn(),_=s.fallback,d=n.mode,s=na({mode:"visible",children:s.children},d),_=ui(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,gi(n,e.child,null,o),s=n.child,s.memoizedState=Tr(o),s.childLanes=Er(e,S,o),n.memoizedState=Sr,n=Yo(null,s));else if(Bn(n),iu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var L=S.dgst;S=L,s=Error(a(419)),s.stack="",s.digest=S,Uo({value:s,source:null,stack:null}),n=Cr(e,n,o)}else if(Ke||Pi(e,n,o,!1),S=(o&e.childLanes)!==0,Ke||S){if(S=Ve,S!==null&&(s=ec(S,o),s!==0&&s!==x.retryLane))throw x.retryLane=s,ri(e,s),Ct(S,e,s),yr;nu(_)||fa(),n=Cr(e,n,o)}else nu(_)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,qe=Yt(_.nextSibling),it=n,Ae=!0,Ln=null,Ot=!1,e!==null&&Zc(n,e),n=_r(n,s.children),n.flags|=4096);return n}return d?(Pn(),_=s.fallback,d=n.mode,x=e.child,L=x.sibling,s=dn(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,L!==null?_=dn(L,_):(_=ui(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Yo(null,s),s=n.child,_=e.child.memoizedState,_===null?_=Tr(o):(d=_.cachePool,d!==null?(x=Je._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=nf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=Er(e,S,o),n.memoizedState=Sr,Yo(e.child,s)):(Bn(n),o=e.child,e=o.sibling,o=dn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function _r(e,n){return n=na({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function na(e,n){return e=It(22,e,null,n),e.lanes=0,e}function Cr(e,n,o){return gi(n,e.child,null,o),e=_r(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),qs(e.return,n,o)}function Ar(e,n,o,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=h)}function yd(e,n,o){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=Oe.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,Z(Oe,S),lt(e,n,s,o),s=Ae?Do:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gd(e,o,n);else if(e.tag===19)gd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Fl(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Ar(n,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Fl(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Ar(n,!0,o,null,h,s);break;case"together":Ar(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function vn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Fn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Pi(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=dn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=dn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function xr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Hl(e)))}function tv(e,n,o){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),Hn(n,Je,e.memoizedState.cache),ci();break;case 27:case 5:gt(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:Hn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Bn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?md(e,n,o):(Bn(n),e=vn(e,n,o),e!==null?e.sibling:null);Bn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Pi(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return yd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Oe,Oe.current),s)break;return null;case 22:return n.lanes=0,ud(e,n,o,n.pendingProps);case 24:Hn(n,Je,e.memoizedState.cache)}return vn(e,n,o)}function vd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ke=!0;else{if(!xr(e,o)&&(n.flags&128)===0)return Ke=!1,tv(e,n,o);Ke=(e.flags&131072)!==0}else Ke=!1,Ae&&(n.flags&1048576)!==0&&Qc(n,Do,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=hi(n.elementType),n.type=e,typeof e=="function")ws(e)?(s=vi(e,s),n.tag=1,n=pd(null,n,e,s,o)):(n.tag=0,n=vr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===le){n.tag=11,n=ad(null,n,e,s,o);break e}else if(d===W){n.tag=14,n=sd(null,n,e,s,o);break e}}throw n=$(e)||e,Error(a(306,n,""))}}return n;case 0:return vr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=vi(s,n.pendingProps),pd(e,n,s,d,o);case 3:e:{if(Ue(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,Ys(e,n),Bo(n,s,null,o);var S=n.memoizedState;if(s=S.cache,Hn(n,Je,s),s!==h.cache&&zs(n,[Je],o,!0),zo(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=hd(e,n,s,o);break e}else if(s!==d){d=Bt(Error(a(424)),n),Uo(d),n=hd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Yt(e.firstChild),it=n,Ae=!0,Ln=null,Ot=!0,o=uf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ci(),s===d){n=vn(e,n,o);break e}lt(e,n,s,o)}n=n.child}return n;case 26:return ta(e,n),e===null?(o=bp(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ae||(o=n.type,e=n.pendingProps,s=va(de.current).createElement(o),s[nt]=n,s[yt]=e,at(s,o,e),$e(s),n.stateNode=s):n.memoizedState=bp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return gt(n),e===null&&Ae&&(s=n.stateNode=Rp(n.type,n.pendingProps,de.current),it=n,Ot=!0,d=qe,Qn(n.type)?(ou=d,qe=Yt(s.firstChild)):qe=d),lt(e,n,n.pendingProps.children,o),ta(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((d=s=qe)&&(s=Iv(s,n.type,n.pendingProps,Ot),s!==null?(n.stateNode=s,it=n,qe=Yt(s.firstChild),Ot=!1,d=!0):d=!1),d||Gn(n)),gt(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,jr(d,h)?s=null:S!==null&&jr(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Ws(e,n,Jy,null,null,o),al._currentValue=d),ta(e,n),lt(e,n,s,o),n.child;case 6:return e===null&&Ae&&((e=o=qe)&&(o=Dv(o,n.pendingProps,Ot),o!==null?(n.stateNode=o,it=n,qe=null,e=!0):e=!1),e||Gn(n)),null;case 13:return md(e,n,o);case 4:return Ue(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=gi(n,null,s,o):lt(e,n,s,o),n.child;case 11:return ad(e,n,n.type,n.pendingProps,o);case 7:return lt(e,n,n.pendingProps,o),n.child;case 8:return lt(e,n,n.pendingProps.children,o),n.child;case 12:return lt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Hn(n,n.type,s.value),lt(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,di(n),d=ot(d),s=s(d),n.flags|=1,lt(e,n,s,o),n.child;case 14:return sd(e,n,n.type,n.pendingProps,o);case 15:return rd(e,n,n.type,n.pendingProps,o);case 19:return yd(e,n,o);case 31:return ev(e,n,o);case 22:return ud(e,n,o,n.pendingProps);case 24:return di(n),s=ot(Je),e===null?(d=ks(),d===null&&(d=Ve,h=Bs(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),n.memoizedState={parent:s,cache:d},Fs(n),Hn(n,Je,d)):((e.lanes&o)!==0&&(Ys(e,n),Bo(n,null,null,o),zo()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Hn(n,Je,s)):(s=h.cache,Hn(n,Je,s),s!==d.cache&&zs(n,[Je],o,!0))),lt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Sn(e){e.flags|=4}function Rr(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Yd())e.flags|=8192;else throw mi=Bl,Os}else e.flags&=-16777217}function Sd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lp(n))if(Yd())e.flags|=8192;else throw mi=Bl,Os}function ia(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$u():536870912,e.lanes|=n,ji|=n)}function Jo(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function nv(e,n,o){var s=n.pendingProps;switch(Ls(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),mn(Je),be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Bi(n)?Sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hs())),ze(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(Sn(n),h!==null?(ze(n),Sd(n,h)):(ze(n),Rr(n,d,null,s,o))):h?h!==e.memoizedState?(Sn(n),ze(n),Sd(n,h)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Sn(n),ze(n),Rr(n,d,e,s,o)),null;case 27:if(et(n),o=de.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ze(n),null}e=oe.current,Bi(n)?$c(n):(e=Rp(d,s,o),n.stateNode=e,Sn(n))}return ze(n),null;case 5:if(et(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ze(n),null}if(h=oe.current,Bi(n))$c(n);else{var S=va(de.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[nt]=n,h[yt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(at(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Sn(n)}}return ze(n),Rr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=de.current,Bi(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=it,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[nt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||mp(e.nodeValue,o)),e||Gn(n,!0)}else e=va(e).createTextNode(s),e[nt]=n,n.stateNode=e}return ze(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Bi(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=n}else ci(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else o=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Ut(n),n):(Ut(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ze(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Bi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[nt]=n}else ci(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),d=!1}else d=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Ut(n),n):(Ut(n),null)}return Ut(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),ia(n,n.updateQueue),ze(n),null);case 4:return be(),e===null&&Kr(n.stateNode.containerInfo),ze(n),null;case 10:return mn(n.type),ze(n),null;case 19:if(I(Oe),s=n.memoizedState,s===null)return ze(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)Jo(s,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Fl(e),h!==null){for(n.flags|=128,Jo(s,!1),e=h.updateQueue,n.updateQueue=e,ia(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Jc(o,e),o=o.sibling;return Z(Oe,Oe.current&1|2),Ae&&pn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Mt()>ra&&(n.flags|=128,d=!0,Jo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Fl(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ia(n,e),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ae)return ze(n),null}else 2*Mt()-s.renderingStartTime>ra&&o!==536870912&&(n.flags|=128,d=!0,Jo(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,o=Oe.current,Z(Oe,d?o&1|2:o&1),Ae&&pn(n,s.treeForkCount),e):(ze(n),null);case 22:case 23:return Ut(n),Qs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),o=n.updateQueue,o!==null&&ia(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&I(pi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),mn(Je),ze(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function iv(e,n){switch(Ls(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return mn(Je),be(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return et(n),null;case 31:if(n.memoizedState!==null){if(Ut(n),n.alternate===null)throw Error(a(340));ci()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ut(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ci()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return I(Oe),null;case 4:return be(),null;case 10:return mn(n.type),null;case 22:case 23:return Ut(n),Qs(),e!==null&&I(pi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return mn(Je),null;case 25:return null;default:return null}}function Td(e,n){switch(Ls(n),n.tag){case 3:mn(Je),be();break;case 26:case 27:case 5:et(n);break;case 4:be();break;case 31:n.memoizedState!==null&&Ut(n);break;case 13:Ut(n);break;case 19:I(Oe);break;case 10:mn(n.type);break;case 22:case 23:Ut(n),Qs(),e!==null&&I(pi);break;case 24:mn(Je)}}function Xo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,S=o.inst;s=h(),S.destroy=s}o=o.next}while(o!==d)}}catch(_){De(n,n.return,_)}}function kn(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var x=o,L=_;try{L()}catch(B){De(d,x,B)}}}s=s.next}while(s!==h)}}catch(B){De(n,n.return,B)}}function Ed(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{ff(n,o)}catch(s){De(e,e.return,s)}}}function _d(e,n,o){o.props=vi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){De(e,n,s)}}function Ko(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){De(e,n,d)}}function on(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){De(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){De(e,n,d)}else o.current=null}function Cd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){De(e,e.return,d)}}function Mr(e,n,o){try{var s=e.stateNode;xv(s,e.type,o,n),s[yt]=n}catch(d){De(e,e.return,d)}}function Ad(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function Nr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function br(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=cn));else if(s!==4&&(s===27&&Qn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(br(e,n,o),e=e.sibling;e!==null;)br(e,n,o),e=e.sibling}function oa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Qn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(oa(e,n,o),e=e.sibling;e!==null;)oa(e,n,o),e=e.sibling}function xd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);at(n,s,o),n[nt]=e,n[yt]=o}catch(h){De(e,e.return,h)}}var Tn=!1,Qe=!1,wr=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,We=null;function ov(e,n){if(e=e.containerInfo,$r=xa,e=Vc(e),Cs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var S=0,_=-1,x=-1,L=0,B=0,J=e,G=null;t:for(;;){for(var q;J!==o||d!==0&&J.nodeType!==3||(_=S+d),J!==h||s!==0&&J.nodeType!==3||(x=S+s),J.nodeType===3&&(S+=J.nodeValue.length),(q=J.firstChild)!==null;)G=J,J=q;for(;;){if(J===e)break t;if(G===o&&++L===d&&(_=S),G===h&&++B===s&&(x=S),(q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=q}o=_===-1||x===-1?null:{start:_,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wr={focusedElem:e,selectionRange:o},xa=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var re=vi(o.type,d);e=s.getSnapshotBeforeUpdate(re,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(pe){De(o,o.return,pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)tu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function Md(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:_n(e,o),s&4&&Xo(5,o);break;case 1:if(_n(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){De(o,o.return,S)}else{var d=vi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){De(o,o.return,S)}}s&64&&Ed(o),s&512&&Ko(o,o.return);break;case 3:if(_n(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{ff(e,n)}catch(S){De(o,o.return,S)}}break;case 27:n===null&&s&4&&xd(o);case 26:case 5:_n(e,o),n===null&&s&4&&Cd(o),s&512&&Ko(o,o.return);break;case 12:_n(e,o);break;case 31:_n(e,o),s&4&&wd(e,o);break;case 13:_n(e,o),s&4&&Id(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=pv.bind(null,o),Uv(e,o))));break;case 22:if(s=o.memoizedState!==null||Tn,!s){n=n!==null&&n.memoizedState!==null||Qe,d=Tn;var h=Qe;Tn=s,(Qe=n)&&!h?Cn(e,o,(o.subtreeFlags&8772)!==0):_n(e,o),Tn=d,Qe=h}break;case 30:break;default:_n(e,o)}}function Nd(e){var n=e.alternate;n!==null&&(e.alternate=null,Nd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&as(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Be=null,St=!1;function En(e,n,o){for(o=o.child;o!==null;)bd(e,n,o),o=o.sibling}function bd(e,n,o){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(vo,o)}catch{}switch(o.tag){case 26:Qe||on(o,n),En(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||on(o,n);var s=Be,d=St;Qn(o.type)&&(Be=o.stateNode,St=!1),En(e,n,o),il(o.stateNode),Be=s,St=d;break;case 5:Qe||on(o,n);case 6:if(s=Be,d=St,Be=null,En(e,n,o),Be=s,St=d,Be!==null)if(St)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(o.stateNode)}catch(h){De(o,n,h)}else try{Be.removeChild(o.stateNode)}catch(h){De(o,n,h)}break;case 18:Be!==null&&(St?(e=Be,Ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),so(e)):Ep(Be,o.stateNode));break;case 4:s=Be,d=St,Be=o.stateNode.containerInfo,St=!0,En(e,n,o),Be=s,St=d;break;case 0:case 11:case 14:case 15:kn(2,o,n),Qe||kn(4,o,n),En(e,n,o);break;case 1:Qe||(on(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&_d(o,n,s)),En(e,n,o);break;case 21:En(e,n,o);break;case 22:Qe=(s=Qe)||o.memoizedState!==null,En(e,n,o),Qe=s;break;default:En(e,n,o)}}function wd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{so(e)}catch(o){De(n,n.return,o)}}}function Id(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(o){De(n,n.return,o)}}function lv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rd),n;default:throw Error(a(435,e.tag))}}function la(e,n){var o=lv(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=hv.bind(null,e,s);s.then(d,d)}})}function Tt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Qn(_.type)){Be=_.stateNode,St=!1;break e}break;case 5:Be=_.stateNode,St=!1;break e;case 3:case 4:Be=_.stateNode.containerInfo,St=!0;break e}_=_.return}if(Be===null)throw Error(a(160));bd(h,S,d),Be=null,St=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dd(n,e),n=n.sibling}var Zt=null;function Dd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(n,e),Et(e),s&4&&(kn(3,e,e.return),Xo(3,e),kn(5,e,e.return));break;case 1:Tt(n,e),Et(e),s&512&&(Qe||o===null||on(o,o.return)),s&64&&Tn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Zt;if(Tt(n,e),Et(e),s&512&&(Qe||o===null||on(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Eo]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),at(h,s,o),h[nt]=e,$e(h),s=h;break e;case"link":var S=Dp("link","href",d).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(h=S[_],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}h=d.createElement(s),at(h,s,o),d.head.appendChild(h);break;case"meta":if(S=Dp("meta","content",d).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(h=S[_],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}h=d.createElement(s),at(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[nt]=e,$e(h),s=h}e.stateNode=s}else Up(d,e.type,e.stateNode);else e.stateNode=Ip(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Up(d,e.type,e.stateNode):Ip(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Mr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Tt(n,e),Et(e),s&512&&(Qe||o===null||on(o,o.return)),o!==null&&s&4&&Mr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Tt(n,e),Et(e),s&512&&(Qe||o===null||on(o,o.return)),e.flags&32){d=e.stateNode;try{wi(d,"")}catch(re){De(e,e.return,re)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Mr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(wr=!0);break;case 6:if(Tt(n,e),Et(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(re){De(e,e.return,re)}}break;case 3:if(Ea=null,d=Zt,Zt=Sa(n.containerInfo),Tt(n,e),Zt=d,Et(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(re){De(e,e.return,re)}wr&&(wr=!1,Ud(e));break;case 4:s=Zt,Zt=Sa(e.stateNode.containerInfo),Tt(n,e),Et(e),Zt=s;break;case 12:Tt(n,e),Et(e);break;case 31:Tt(n,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 13:Tt(n,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(sa=Mt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 22:d=e.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,L=Tn,B=Qe;if(Tn=L||d,Qe=B||x,Tt(n,e),Qe=B,Tn=L,Et(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||x||Tn||Qe||Si(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){x=o=n;try{if(h=x.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=x.stateNode;var J=x.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(re){De(x,x.return,re)}}}else if(n.tag===6){if(o===null){x=n;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(re){De(x,x.return,re)}}}else if(n.tag===18){if(o===null){x=n;try{var q=x.stateNode;d?_p(q,!0):_p(x.stateNode,!1)}catch(re){De(x,x.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,la(e,o))));break;case 19:Tt(n,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,la(e,s)));break;case 30:break;case 21:break;default:Tt(n,e),Et(e)}}function Et(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Ad(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=Nr(e);oa(e,h,d);break;case 5:var S=o.stateNode;o.flags&32&&(wi(S,""),o.flags&=-33);var _=Nr(e);oa(e,_,S);break;case 3:case 4:var x=o.stateNode.containerInfo,L=Nr(e);br(e,L,x);break;default:throw Error(a(161))}}catch(B){De(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ud(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function _n(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Md(e,n.alternate,n),n=n.sibling}function Si(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:kn(4,n,n.return),Si(n);break;case 1:on(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&_d(n,n.return,o),Si(n);break;case 27:il(n.stateNode);case 26:case 5:on(n,n.return),Si(n);break;case 22:n.memoizedState===null&&Si(n);break;case 30:Si(n);break;default:Si(n)}e=e.sibling}}function Cn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:Cn(d,h,o),Xo(4,h);break;case 1:if(Cn(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(L){De(s,s.return,L)}if(s=h,d=s.updateQueue,d!==null){var _=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)cf(x[d],_)}catch(L){De(s,s.return,L)}}o&&S&64&&Ed(h),Ko(h,h.return);break;case 27:xd(h);case 26:case 5:Cn(d,h,o),o&&s===null&&S&4&&Cd(h),Ko(h,h.return);break;case 12:Cn(d,h,o);break;case 31:Cn(d,h,o),o&&S&4&&wd(d,h);break;case 13:Cn(d,h,o),o&&S&4&&Id(d,h);break;case 22:h.memoizedState===null&&Cn(d,h,o),Ko(h,h.return);break;case 30:break;default:Cn(d,h,o)}n=n.sibling}}function Ir(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Lo(o))}function Dr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function $t(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ld(e,n,o,s),n=n.sibling}function Ld(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:$t(e,n,o,s),d&2048&&Xo(9,n);break;case 1:$t(e,n,o,s);break;case 3:$t(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(d&2048){$t(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,_=h.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){De(n,n.return,x)}}else $t(e,n,o,s);break;case 31:$t(e,n,o,s);break;case 13:$t(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?$t(e,n,o,s):Qo(e,n):h._visibility&2?$t(e,n,o,s):(h._visibility|=2,Zi(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ir(S,n);break;case 24:$t(e,n,o,s),d&2048&&Dr(n.alternate,n);break;default:$t(e,n,o,s)}}function Zi(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,_=o,x=s,L=S.flags;switch(S.tag){case 0:case 11:case 15:Zi(h,S,_,x,d),Xo(8,S);break;case 23:break;case 22:var B=S.stateNode;S.memoizedState!==null?B._visibility&2?Zi(h,S,_,x,d):Qo(h,S):(B._visibility|=2,Zi(h,S,_,x,d)),d&&L&2048&&Ir(S.alternate,S);break;case 24:Zi(h,S,_,x,d),d&&L&2048&&Dr(S.alternate,S);break;default:Zi(h,S,_,x,d)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Qo(o,s),d&2048&&Ir(s.alternate,s);break;case 24:Qo(o,s),d&2048&&Dr(s.alternate,s);break;default:Qo(o,s)}n=n.sibling}}var Zo=8192;function $i(e,n,o){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)Gd(e,n,o),e=e.sibling}function Gd(e,n,o){switch(e.tag){case 26:$i(e,n,o),e.flags&Zo&&e.memoizedState!==null&&Yv(o,Zt,e.memoizedState,e.memoizedProps);break;case 5:$i(e,n,o);break;case 3:case 4:var s=Zt;Zt=Sa(e.stateNode.containerInfo),$i(e,n,o),Zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Zo,Zo=16777216,$i(e,n,o),Zo=s):$i(e,n,o));break;default:$i(e,n,o)}}function Hd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];We=s,qd(s,e)}Hd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vd(e),e=e.sibling}function Vd(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&kn(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,aa(e)):$o(e);break;default:$o(e)}}function aa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];We=s,qd(s,e)}Hd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:kn(8,n,n.return),aa(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,aa(n));break;default:aa(n)}e=e.sibling}}function qd(e,n){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:kn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Lo(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,We=s;else e:for(o=e;We!==null;){s=We;var d=s.sibling,h=s.return;if(Nd(s),s===o){We=null;break e}if(d!==null){d.return=h,We=d;break e}We=h}}}var av={getCacheForType:function(e){var n=ot(Je),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return ot(Je).controller.signal}},sv=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ve=null,Te=null,_e=0,Ie=0,Lt=null,On=!1,Wi=!1,Ur=!1,An=0,ke=0,Fn=0,Ti=0,Lr=0,Gt=0,ji=0,Wo=null,_t=null,Gr=!1,sa=0,zd=0,ra=1/0,ua=null,Yn=null,Ze=0,Jn=null,eo=null,xn=0,Hr=0,Vr=null,Bd=null,jo=0,qr=null;function Ht(){return(Ne&2)!==0&&_e!==0?_e&-_e:N.T!==null?Fr():tc()}function Pd(){if(Gt===0)if((_e&536870912)===0||Ae){var e=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),Gt=e}else Gt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Gt}function Ct(e,n,o){(e===Ve&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(to(e,0),Xn(e,_e,Gt,!1)),To(e,o),((Ne&2)===0||e!==Ve)&&(e===Ve&&((Ne&2)===0&&(Ti|=o),ke===4&&Xn(e,_e,Gt,!1)),ln(e))}function kd(e,n,o){if((Ne&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||So(e,n),d=s?cv(e,n):Br(e,n,!0),h=s;do{if(d===0){Wi&&!s&&Xn(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!rv(o)){d=Br(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Wo;var x=_.current.memoizedState.isDehydrated;if(x&&(to(_,S).flags|=256),S=Br(_,S,!1),S!==2){if(Ur&&!x){_.errorRecoveryDisabledLanes|=h,Ti|=h,d=4;break e}h=_t,_t=d,h!==null&&(_t===null?_t=h:_t.push.apply(_t,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){to(e,0),Xn(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xn(s,n,Gt,!On);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=sa+300-Mt(),10<d)){if(Xn(s,n,Gt,!On),Sl(s,0,!0)!==0)break e;xn=n,s.timeoutHandle=Sp(Od.bind(null,s,o,_t,ua,Gr,n,Gt,Ti,ji,On,h,"Throttled",-0,0),d);break e}Od(s,o,_t,ua,Gr,n,Gt,Ti,ji,On,h,null,-0,0)}}break}while(!0);ln(e)}function Od(e,n,o,s,d,h,S,_,x,L,B,J,G,q){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},Gd(n,h,J);var re=(h&62914560)===h?sa-Mt():(h&4194048)===h?zd-Mt():0;if(re=Jv(J,re),re!==null){xn=h,e.cancelPendingCommit=re($d.bind(null,e,n,h,o,s,d,S,_,x,B,J,null,G,q)),Xn(e,h,S,!L);return}}$d(e,n,h,o,s,d,S,_,x)}function rv(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!wt(h(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xn(e,n,o,s){n&=~Lr,n&=~Ti,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-bt(d),S=1<<h;s[h]=-1,d&=~S}o!==0&&Wu(e,o,n)}function ca(){return(Ne&6)===0?(el(0),!1):!0}function zr(){if(Te!==null){if(Ie===0)var e=Te.return;else e=Te,hn=fi=null,tr(e),Yi=null,Ho=0,e=Te;for(;e!==null;)Td(e.alternate,e),e=e.return;Te=null}}function to(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Nv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),xn=0,zr(),Ve=e,Te=o=dn(e.current,null),_e=n,Ie=0,Lt=null,On=!1,Wi=So(e,n),Ur=!1,ji=Gt=Lr=Ti=Fn=ke=0,_t=Wo=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-bt(s),h=1<<d;n|=e[d],s&=~h}return An=n,Il(),o}function Fd(e,n){ve=null,N.H=Fo,n===Fi||n===zl?(n=af(),Ie=3):n===Os?(n=af(),Ie=4):Ie=n===yr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,Te===null&&(ke=1,jl(e,Bt(n,e.current)))}function Yd(){var e=Dt.current;return e===null?!0:(_e&4194048)===_e?Ft===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Ft:!1}function Jd(){var e=N.H;return N.H=Fo,e===null?Fo:e}function Xd(){var e=N.A;return N.A=av,e}function fa(){ke=4,On||(_e&4194048)!==_e&&Dt.current!==null||(Wi=!0),(Fn&134217727)===0&&(Ti&134217727)===0||Ve===null||Xn(Ve,_e,Gt,!1)}function Br(e,n,o){var s=Ne;Ne|=2;var d=Jd(),h=Xd();(Ve!==e||_e!==n)&&(ua=null,to(e,n)),n=!1;var S=ke;e:do try{if(Ie!==0&&Te!==null){var _=Te,x=Lt;switch(Ie){case 8:zr(),S=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(n=!0);var L=Ie;if(Ie=0,Lt=null,no(e,_,x,L),o&&Wi){S=0;break e}break;default:L=Ie,Ie=0,Lt=null,no(e,_,x,L)}}uv(),S=ke;break}catch(B){Fd(e,B)}while(!0);return n&&e.shellSuspendCounter++,hn=fi=null,Ne=s,N.H=d,N.A=h,Te===null&&(Ve=null,_e=0,Il()),S}function uv(){for(;Te!==null;)Kd(Te)}function cv(e,n){var o=Ne;Ne|=2;var s=Jd(),d=Xd();Ve!==e||_e!==n?(ua=null,ra=Mt()+500,to(e,n)):Wi=So(e,n);e:do try{if(Ie!==0&&Te!==null){n=Te;var h=Lt;t:switch(Ie){case 1:Ie=0,Lt=null,no(e,n,h,1);break;case 2:case 9:if(of(h)){Ie=0,Lt=null,Qd(n);break}n=function(){Ie!==2&&Ie!==9||Ve!==e||(Ie=7),ln(e)},h.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:of(h)?(Ie=0,Lt=null,Qd(n)):(Ie=0,Lt=null,no(e,n,h,7));break;case 5:var S=null;switch(Te.tag){case 26:S=Te.memoizedState;case 5:case 27:var _=Te;if(S?Lp(S):_.stateNode.complete){Ie=0,Lt=null;var x=_.sibling;if(x!==null)Te=x;else{var L=_.return;L!==null?(Te=L,da(L)):Te=null}break t}}Ie=0,Lt=null,no(e,n,h,5);break;case 6:Ie=0,Lt=null,no(e,n,h,6);break;case 8:zr(),ke=6;break e;default:throw Error(a(462))}}fv();break}catch(B){Fd(e,B)}while(!0);return hn=fi=null,N.H=s,N.A=d,Ne=o,Te!==null?0:(Ve=null,_e=0,Il(),ke)}function fv(){for(;Te!==null&&!es();)Kd(Te)}function Kd(e){var n=vd(e.alternate,e,An);e.memoizedProps=e.pendingProps,n===null?da(e):Te=n}function Qd(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=dd(o,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=dd(o,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:tr(n);default:Td(o,n),n=Te=Jc(n,An),n=vd(o,n,An)}e.memoizedProps=e.pendingProps,n===null?da(e):Te=n}function no(e,n,o,s){hn=fi=null,tr(n),Yi=null,Ho=0;var d=n.return;try{if(jy(e,d,n,o,_e)){ke=1,jl(e,Bt(o,e.current)),Te=null;return}}catch(h){if(d!==null)throw Te=d,h;ke=1,jl(e,Bt(o,e.current)),Te=null;return}n.flags&32768?(Ae||s===1?e=!0:Wi||(_e&536870912)!==0?e=!1:(On=e=!0,(s===2||s===9||s===3||s===6)&&(s=Dt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zd(n,e)):da(n)}function da(e){var n=e;do{if((n.flags&32768)!==0){Zd(n,On);return}e=n.return;var o=nv(n.alternate,n,An);if(o!==null){Te=o;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);ke===0&&(ke=5)}function Zd(e,n){do{var o=iv(e.alternate,e);if(o!==null){o.flags&=32767,Te=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Te=e;return}Te=e=o}while(e!==null);ke=6,Te=null}function $d(e,n,o,s,d,h,S,_,x){e.cancelPendingCommit=null;do pa();while(Ze!==0);if((Ne&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Ns,Fg(e,o,h,S,_,x),e===Ve&&(Te=Ve=null,_e=0),eo=n,Jn=e,xn=o,Hr=h,Vr=d,Bd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mv(ml,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=N.T,N.T=null,d=V.p,V.p=2,S=Ne,Ne|=4;try{ov(e,n,o)}finally{Ne=S,V.p=d,N.T=s}}Ze=1,Wd(),jd(),ep()}}function Wd(){if(Ze===1){Ze=0;var e=Jn,n=eo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=N.T,N.T=null;var s=V.p;V.p=2;var d=Ne;Ne|=4;try{Dd(n,e);var h=Wr,S=Vc(e.containerInfo),_=h.focusedElem,x=h.selectionRange;if(S!==_&&_&&_.ownerDocument&&Hc(_.ownerDocument.documentElement,_)){if(x!==null&&Cs(_)){var L=x.start,B=x.end;if(B===void 0&&(B=L),"selectionStart"in _)_.selectionStart=L,_.selectionEnd=Math.min(B,_.value.length);else{var J=_.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var q=G.getSelection(),re=_.textContent.length,pe=Math.min(x.start,re),He=x.end===void 0?pe:Math.min(x.end,re);!q.extend&&pe>He&&(S=He,He=pe,pe=S);var b=Gc(_,pe),M=Gc(_,He);if(b&&M&&(q.rangeCount!==1||q.anchorNode!==b.node||q.anchorOffset!==b.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var U=J.createRange();U.setStart(b.node,b.offset),q.removeAllRanges(),pe>He?(q.addRange(U),q.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),q.addRange(U))}}}}for(J=[],q=_;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<J.length;_++){var P=J[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}xa=!!$r,Wr=$r=null}finally{Ne=d,V.p=s,N.T=o}}e.current=n,Ze=2}}function jd(){if(Ze===2){Ze=0;var e=Jn,n=eo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=N.T,N.T=null;var s=V.p;V.p=2;var d=Ne;Ne|=4;try{Md(e,n.alternate,n)}finally{Ne=d,V.p=s,N.T=o}}Ze=3}}function ep(){if(Ze===4||Ze===3){Ze=0,ts();var e=Jn,n=eo,o=xn,s=Bd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,eo=Jn=null,tp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Yn=null),os(o),n=n.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(vo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=N.T,d=V.p,V.p=2,N.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];h(_.value,{componentStack:_.stack})}}finally{N.T=n,V.p=d}}(xn&3)!==0&&pa(),ln(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===qr?jo++:(jo=0,qr=e):jo=0,el(0)}}function tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function pa(){return Wd(),jd(),ep(),np()}function np(){if(Ze!==5)return!1;var e=Jn,n=Hr;Hr=0;var o=os(xn),s=N.T,d=V.p;try{V.p=32>o?32:o,N.T=null,o=Vr,Vr=null;var h=Jn,S=xn;if(Ze=0,eo=Jn=null,xn=0,(Ne&6)!==0)throw Error(a(331));var _=Ne;if(Ne|=4,Vd(h.current),Ld(h,h.current,S,o),Ne=_,el(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(vo,h)}catch{}return!0}finally{V.p=d,N.T=s,tp(e,n)}}function ip(e,n,o){n=Bt(o,n),n=gr(e.stateNode,n,2),e=zn(e,n,2),e!==null&&(To(e,2),ln(e))}function De(e,n,o){if(e.tag===3)ip(e,e,o);else for(;n!==null;){if(n.tag===3){ip(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yn===null||!Yn.has(s))){e=Bt(o,e),o=od(2),s=zn(n,o,2),s!==null&&(ld(o,s,n,e),To(s,2),ln(s));break}}n=n.return}}function Pr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new sv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Ur=!0,d.add(o),e=dv.bind(null,e,n,o),n.then(e,e))}function dv(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ve===e&&(_e&o)===o&&(ke===4||ke===3&&(_e&62914560)===_e&&300>Mt()-sa?(Ne&2)===0&&to(e,0):Lr|=o,ji===_e&&(ji=0)),ln(e)}function op(e,n){n===0&&(n=$u()),e=ri(e,n),e!==null&&(To(e,n),ln(e))}function pv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),op(e,o)}function hv(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),op(e,o)}function mv(e,n){return sn(e,n)}var ha=null,io=null,kr=!1,ma=!1,Or=!1,Kn=0;function ln(e){e!==io&&e.next===null&&(io===null?ha=io=e:io=io.next=e),ma=!0,kr||(kr=!0,yv())}function el(e,n){if(!Or&&ma){Or=!0;do for(var o=!1,s=ha;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-bt(42|e)+1)-1,h&=d&~(S&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,rp(s,h))}else h=_e,h=Sl(s,s===Ve?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||So(s,h)||(o=!0,rp(s,h));s=s.next}while(o);Or=!1}}function gv(){lp()}function lp(){ma=kr=!1;var e=0;Kn!==0&&Mv()&&(e=Kn);for(var n=Mt(),o=null,s=ha;s!==null;){var d=s.next,h=ap(s,n);h===0?(s.next=null,o===null?ha=d:o.next=d,d===null&&(io=o)):(o=s,(e!==0||(h&3)!==0)&&(ma=!0)),s=d}Ze!==0&&Ze!==5||el(e),Kn!==0&&(Kn=0)}function ap(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-bt(h),_=1<<S,x=d[S];x===-1?((_&o)===0||(_&s)!==0)&&(d[S]=Og(_,n)):x<=n&&(e.expiredLanes|=_),h&=~_}if(n=Ve,o=_e,o=Sl(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&rn(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||So(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&rn(s),os(o)){case 2:case 8:o=Qu;break;case 32:o=ml;break;case 268435456:o=Zu;break;default:o=ml}return s=sp.bind(null,e),o=sn(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&rn(s),e.callbackPriority=2,e.callbackNode=null,2}function sp(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(pa()&&e.callbackNode!==o)return null;var s=_e;return s=Sl(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(kd(e,s,n),ap(e,Mt()),e.callbackNode!=null&&e.callbackNode===o?sp.bind(null,e):null)}function rp(e,n){if(pa())return null;kd(e,n,!0)}function yv(){bv(function(){(Ne&6)!==0?sn(Ku,gv):lp()})}function Fr(){if(Kn===0){var e=ki;e===0&&(e=gl,gl<<=1,(gl&261888)===0&&(gl=256)),Kn=e}return Kn}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cl(""+e)}function cp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function vv(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var h=up((d[yt]||null).action),S=s.submitter;S&&(n=(n=S[yt]||null)?up(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var _=new Ml("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Kn!==0){var x=S?cp(d,S):new FormData(d);cr(o,{pending:!0,data:x,method:d.method,action:h},null,x)}}else typeof h=="function"&&(_.preventDefault(),x=S?cp(d,S):new FormData(d),cr(o,{pending:!0,data:x,method:d.method,action:h},h,x))},currentTarget:d}]})}}for(var Yr=0;Yr<Ms.length;Yr++){var Jr=Ms[Yr],Sv=Jr.toLowerCase(),Tv=Jr[0].toUpperCase()+Jr.slice(1);Qt(Sv,"on"+Tv)}Qt(Bc,"onAnimationEnd"),Qt(Pc,"onAnimationIteration"),Qt(kc,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Hy,"onTransitionRun"),Qt(Vy,"onTransitionStart"),Qt(qy,"onTransitionCancel"),Qt(Oc,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function fp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],x=_.instance,L=_.currentTarget;if(_=_.listener,x!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=L;try{h(d)}catch(B){wl(B)}d.currentTarget=null,h=x}else for(S=0;S<s.length;S++){if(_=s[S],x=_.instance,L=_.currentTarget,_=_.listener,x!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=L;try{h(d)}catch(B){wl(B)}d.currentTarget=null,h=x}}}}function Ee(e,n){var o=n[ls];o===void 0&&(o=n[ls]=new Set);var s=e+"__bubble";o.has(s)||(dp(n,e,2,!1),o.add(s))}function Xr(e,n,o){var s=0;n&&(s|=4),dp(o,e,s,n)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[ga]){e[ga]=!0,oc.forEach(function(o){o!=="selectionchange"&&(Ev.has(o)||Xr(o,!1,e),Xr(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ga]||(n[ga]=!0,Xr("selectionchange",!1,n))}}function dp(e,n,o,s){switch(Pp(n)){case 2:var d=Qv;break;case 8:d=Zv;break;default:d=uu}o=d.bind(null,n,o,e),d=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Qr(e,n,o,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var x=S.tag;if((x===3||x===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=xi(_),S===null)return;if(x=S.tag,x===5||x===6||x===26||x===27){s=h=S;continue e}_=_.parentNode}}s=s.return}gc(function(){var L=h,B=ds(o),J=[];e:{var G=Fc.get(e);if(G!==void 0){var q=Ml,re=e;switch(e){case"keypress":if(xl(o)===0)break e;case"keydown":case"keyup":q=hy;break;case"focusin":re="focus",q=vs;break;case"focusout":re="blur",q=vs;break;case"beforeblur":case"afterblur":q=vs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yy;break;case Bc:case Pc:case kc:q=ly;break;case Oc:q=Sy;break;case"scroll":case"scrollend":q=ey;break;case"wheel":q=Ey;break;case"copy":case"cut":case"paste":q=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ec;break;case"toggle":case"beforetoggle":q=Cy}var pe=(n&4)!==0,He=!pe&&(e==="scroll"||e==="scrollend"),b=pe?G!==null?G+"Capture":null:G;pe=[];for(var M=L,U;M!==null;){var P=M;if(U=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||U===null||b===null||(P=Co(M,b),P!=null&&pe.push(nl(M,P,U))),He)break;M=M.return}0<pe.length&&(G=new q(G,re,null,o,B),J.push({event:G,listeners:pe}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",G&&o!==fs&&(re=o.relatedTarget||o.fromElement)&&(xi(re)||re[Ai]))break e;if((q||G)&&(G=B.window===B?B:(G=B.ownerDocument)?G.defaultView||G.parentWindow:window,q?(re=o.relatedTarget||o.toElement,q=L,re=re?xi(re):null,re!==null&&(He=f(re),pe=re.tag,re!==He||pe!==5&&pe!==27&&pe!==6)&&(re=null)):(q=null,re=L),q!==re)){if(pe=Sc,P="onMouseLeave",b="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Ec,P="onPointerLeave",b="onPointerEnter",M="pointer"),He=q==null?G:_o(q),U=re==null?G:_o(re),G=new pe(P,M+"leave",q,o,B),G.target=He,G.relatedTarget=U,P=null,xi(B)===L&&(pe=new pe(b,M+"enter",re,o,B),pe.target=U,pe.relatedTarget=He,P=pe),He=P,q&&re)t:{for(pe=_v,b=q,M=re,U=0,P=b;P;P=pe(P))U++;P=0;for(var fe=M;fe;fe=pe(fe))P++;for(;0<U-P;)b=pe(b),U--;for(;0<P-U;)M=pe(M),P--;for(;U--;){if(b===M||M!==null&&b===M.alternate){pe=b;break t}b=pe(b),M=pe(M)}pe=null}else pe=null;q!==null&&pp(J,G,q,pe,!1),re!==null&&He!==null&&pp(J,He,re,pe,!0)}}e:{if(G=L?_o(L):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var xe=bc;else if(Mc(G))if(wc)xe=Uy;else{xe=Iy;var ue=wy}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&cs(L.elementType)&&(xe=bc):xe=Dy;if(xe&&(xe=xe(e,L))){Nc(J,xe,o,B);break e}ue&&ue(e,G,L),e==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&us(G,"number",G.value)}switch(ue=L?_o(L):window,e){case"focusin":(Mc(ue)||ue.contentEditable==="true")&&(Li=ue,As=L,Io=null);break;case"focusout":Io=As=Li=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,qc(J,o,B);break;case"selectionchange":if(Gy)break;case"keydown":case"keyup":qc(J,o,B)}var Se;if(Ts)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ui?xc(e,o)&&(Ce="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(_c&&o.locale!=="ko"&&(Ui||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ui&&(Se=yc()):(Dn=B,ms="value"in Dn?Dn.value:Dn.textContent,Ui=!0)),ue=ya(L,Ce),0<ue.length&&(Ce=new Tc(Ce,e,null,o,B),J.push({event:Ce,listeners:ue}),Se?Ce.data=Se:(Se=Rc(o),Se!==null&&(Ce.data=Se)))),(Se=xy?Ry(e,o):My(e,o))&&(Ce=ya(L,"onBeforeInput"),0<Ce.length&&(ue=new Tc("onBeforeInput","beforeinput",null,o,B),J.push({event:ue,listeners:Ce}),ue.data=Se)),vv(J,e,L,o,B)}fp(J,n)})}function nl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ya(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Co(e,o),d!=null&&s.unshift(nl(e,d,h)),d=Co(e,n),d!=null&&s.push(nl(e,d,h))),e.tag===3)return s;e=e.return}return[]}function _v(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,n,o,s,d){for(var h=n._reactName,S=[];o!==null&&o!==s;){var _=o,x=_.alternate,L=_.stateNode;if(_=_.tag,x!==null&&x===s)break;_!==5&&_!==26&&_!==27||L===null||(x=L,d?(L=Co(o,h),L!=null&&S.unshift(nl(o,L,x))):d||(L=Co(o,h),L!=null&&S.push(nl(o,L,x)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var Cv=/\r\n?/g,Av=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Av,"")}function mp(e,n){return n=hp(n),hp(e)===n}function Ge(e,n,o,s,d,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||wi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&wi(e,""+s);break;case"className":El(e,"class",s);break;case"tabIndex":El(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":El(e,o,s);break;case"style":hc(e,s,h);break;case"data":if(n!=="object"){El(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Cl(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&Ge(e,n,"name",d.name,d,null),Ge(e,n,"formEncType",d.formEncType,d,null),Ge(e,n,"formMethod",d.formMethod,d,null),Ge(e,n,"formTarget",d.formTarget,d,null)):(Ge(e,n,"encType",d.encType,d,null),Ge(e,n,"method",d.method,d,null),Ge(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Cl(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=cn);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Cl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Tl(e,"popover",s);break;case"xlinkActuate":un(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":un(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":un(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":un(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":un(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":un(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":un(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Tl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wg.get(o)||o,Tl(e,o,s))}}function Zr(e,n,o,s,d,h){switch(o){case"style":hc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?wi(e,s):(typeof s=="number"||typeof s=="bigint")&&wi(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),h=e[yt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Tl(e,o,s)}}}function at(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var S=o[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,h,S,o,null)}}d&&Ge(e,n,"srcSet",o.srcSet,o,null),s&&Ge(e,n,"src",o.src,o,null);return;case"input":Ee("invalid",e);var _=h=S=d=null,x=null,L=null;for(s in o)if(o.hasOwnProperty(s)){var B=o[s];if(B!=null)switch(s){case"name":d=B;break;case"type":S=B;break;case"checked":x=B;break;case"defaultChecked":L=B;break;case"value":h=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ge(e,n,s,B,o,null)}}cc(e,h,_,x,L,S,d,!1);return;case"select":Ee("invalid",e),s=S=h=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Ge(e,n,d,_,o,null)}n=h,o=S,e.multiple=!!s,n!=null?bi(e,!!s,n,!1):o!=null&&bi(e,!!s,o,!0);return;case"textarea":Ee("invalid",e),h=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ge(e,n,S,_,o,null)}dc(e,s,d,h);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(s=o[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ge(e,n,x,s,o,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<tl.length;s++)Ee(tl[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(s=o[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,L,s,o,null)}return;default:if(cs(n)){for(B in o)o.hasOwnProperty(B)&&(s=o[B],s!==void 0&&Zr(e,n,B,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Ge(e,n,_,s,o,null))}function xv(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,_=null,x=null,L=null,B=null;for(q in o){var J=o[q];if(o.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=J;default:s.hasOwnProperty(q)||Ge(e,n,q,null,s,J)}}for(var G in s){var q=s[G];if(J=o[G],s.hasOwnProperty(G)&&(q!=null||J!=null))switch(G){case"type":h=q;break;case"name":d=q;break;case"checked":L=q;break;case"defaultChecked":B=q;break;case"value":S=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==J&&Ge(e,n,G,q,s,J)}}rs(e,S,_,x,L,B,h,d);return;case"select":q=S=_=G=null;for(h in o)if(x=o[h],o.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":q=x;default:s.hasOwnProperty(h)||Ge(e,n,h,null,s,x)}for(d in s)if(h=s[d],x=o[d],s.hasOwnProperty(d)&&(h!=null||x!=null))switch(d){case"value":G=h;break;case"defaultValue":_=h;break;case"multiple":S=h;default:h!==x&&Ge(e,n,d,h,s,x)}n=_,o=S,s=q,G!=null?bi(e,!!o,G,!1):!!s!=!!o&&(n!=null?bi(e,!!o,n,!0):bi(e,!!o,o?[]:"",!1));return;case"textarea":q=G=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(e,n,_,null,s,d)}for(S in s)if(d=s[S],h=o[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":G=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Ge(e,n,S,d,s,h)}fc(e,G,q);return;case"option":for(var re in o)if(G=o[re],o.hasOwnProperty(re)&&G!=null&&!s.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ge(e,n,re,null,s,G)}for(x in s)if(G=s[x],q=o[x],s.hasOwnProperty(x)&&G!==q&&(G!=null||q!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ge(e,n,x,G,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)G=o[pe],o.hasOwnProperty(pe)&&G!=null&&!s.hasOwnProperty(pe)&&Ge(e,n,pe,null,s,G);for(L in s)if(G=s[L],q=o[L],s.hasOwnProperty(L)&&G!==q&&(G!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ge(e,n,L,G,s,q)}return;default:if(cs(n)){for(var He in o)G=o[He],o.hasOwnProperty(He)&&G!==void 0&&!s.hasOwnProperty(He)&&Zr(e,n,He,void 0,s,G);for(B in s)G=s[B],q=o[B],!s.hasOwnProperty(B)||G===q||G===void 0&&q===void 0||Zr(e,n,B,G,s,q);return}}for(var b in o)G=o[b],o.hasOwnProperty(b)&&G!=null&&!s.hasOwnProperty(b)&&Ge(e,n,b,null,s,G);for(J in s)G=s[J],q=o[J],!s.hasOwnProperty(J)||G===q||G==null&&q==null||Ge(e,n,J,G,s,q)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,S=d.initiatorType,_=d.duration;if(h&&_&&gp(S)){for(S=0,_=d.responseEnd,s+=1;s<o.length;s++){var x=o[s],L=x.startTime;if(L>_)break;var B=x.transferSize,J=x.initiatorType;B&&gp(J)&&(x=x.responseEnd,S+=B*(x<_?1:(_-L)/(x-L)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $r=null,Wr=null;function va(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var eu=null;function Mv(){var e=window.event;return e&&e.type==="popstate"?e===eu?!1:(eu=e,!0):(eu=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(e){return Tp.resolve(null).then(e).catch(wv)}:Sp;function wv(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function Ep(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),so(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")il(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,il(o);for(var h=o.firstChild;h;){var S=h.nextSibling,_=h.nodeName;h[Eo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=S}}else o==="body"&&il(e.ownerDocument.body);o=d}while(o);so(n)}function _p(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function tu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tu(o),as(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Iv(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Eo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function Dv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Yt(e.nextSibling),e===null))return null;return e}function Cp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function nu(e){return e.data==="$?"||e.data==="$~"}function iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ou=null;function Ap(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Yt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function xp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Rp(e,n,o){switch(n=va(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);as(e)}var Jt=new Map,Mp=new Set;function Sa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rn=V.d;V.d={f:Lv,r:Gv,D:Hv,C:Vv,L:qv,m:zv,X:Pv,S:Bv,M:kv};function Lv(){var e=Rn.f(),n=ca();return e||n}function Gv(e){var n=Ri(e);n!==null&&n.tag===5&&n.type==="form"?Ff(n):Rn.r(e)}var oo=typeof document>"u"?null:document;function Np(e,n,o){var s=oo;if(s&&typeof n=="string"&&n){var d=qt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Mp.has(d)||(Mp.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),at(n,"link",e),$e(n),s.head.appendChild(n)))}}function Hv(e){Rn.D(e),Np("dns-prefetch",e,null)}function Vv(e,n){Rn.C(e,n),Np("preconnect",e,n)}function qv(e,n,o){Rn.L(e,n,o);var s=oo;if(s&&e&&n){var d='link[rel="preload"][as="'+qt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+qt(o.imageSizes)+'"]')):d+='[href="'+qt(e)+'"]';var h=d;switch(n){case"style":h=lo(e);break;case"script":h=ao(e)}Jt.has(h)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Jt.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(ol(h))||n==="script"&&s.querySelector(ll(h))||(n=s.createElement("link"),at(n,"link",e),$e(n),s.head.appendChild(n)))}}function zv(e,n){Rn.m(e,n);var o=oo;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ao(e)}if(!Jt.has(h)&&(e=T({rel:"modulepreload",href:e},n),Jt.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ll(h)))return}s=o.createElement("link"),at(s,"link",e),$e(s),o.head.appendChild(s)}}}function Bv(e,n,o){Rn.S(e,n,o);var s=oo;if(s&&e){var d=Mi(s).hoistableStyles,h=lo(e);n=n||"default";var S=d.get(h);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(ol(h)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Jt.get(h))&&lu(e,o);var x=S=s.createElement("link");$e(x),at(x,"link",e),x._p=new Promise(function(L,B){x.onload=L,x.onerror=B}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ta(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(h,S)}}}function Pv(e,n){Rn.X(e,n);var o=oo;if(o&&e){var s=Mi(o).hoistableScripts,d=ao(e),h=s.get(d);h||(h=o.querySelector(ll(d)),h||(e=T({src:e,async:!0},n),(n=Jt.get(d))&&au(e,n),h=o.createElement("script"),$e(h),at(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function kv(e,n){Rn.M(e,n);var o=oo;if(o&&e){var s=Mi(o).hoistableScripts,d=ao(e),h=s.get(d);h||(h=o.querySelector(ll(d)),h||(e=T({src:e,async:!0,type:"module"},n),(n=Jt.get(d))&&au(e,n),h=o.createElement("script"),$e(h),at(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function bp(e,n,o,s){var d=(d=de.current)?Sa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=lo(o.href),o=Mi(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=lo(o.href);var h=Mi(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(ol(e)))&&!h._p&&(S.instance=h,S.state.loading=5),Jt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jt.set(e,o),h||Ov(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ao(o),o=Mi(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function lo(e){return'href="'+qt(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function wp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Ov(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),at(n,"link",o),$e(n),e.head.appendChild(n))}function ao(e){return'[src="'+qt(e)+'"]'}function ll(e){return"script[async]"+e}function Ip(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+qt(o.href)+'"]');if(s)return n.instance=s,$e(s),s;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),$e(s),at(s,"style",d),Ta(s,o.precedence,e),n.instance=s;case"stylesheet":d=lo(o.href);var h=e.querySelector(ol(d));if(h)return n.state.loading|=4,n.instance=h,$e(h),h;s=wp(o),(d=Jt.get(d))&&lu(s,d),h=(e.ownerDocument||e).createElement("link"),$e(h);var S=h;return S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),at(h,"link",s),n.state.loading|=4,Ta(h,o.precedence,e),n.instance=h;case"script":return h=ao(o.src),(d=e.querySelector(ll(h)))?(n.instance=d,$e(d),d):(s=o,(d=Jt.get(h))&&(s=T({},o),au(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),$e(d),at(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ta(s,o.precedence,e));return n.instance}function Ta(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function lu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ea=null;function Dp(e,n,o){if(Ea===null){var s=new Map,d=Ea=new Map;d.set(o,s)}else d=Ea,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[Eo]||h[nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(h):s.set(S,[h])}}return s}function Up(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Fv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Lp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yv(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=lo(s.href),h=n.querySelector(ol(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_a.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=h,$e(h);return}h=n.ownerDocument||n,s=wp(s),(d=Jt.get(d))&&lu(s,d),h=h.createElement("link"),$e(h);var S=h;S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),at(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=_a.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var su=0;function Jv(e,n){return e.stylesheets&&e.count===0&&Aa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&su===0&&(su=62500*Rv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Aa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>su?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function _a(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Aa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ca=null;function Aa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ca=new Map,n.forEach(Xv,e),Ca=null,_a.call(e))}function Xv(e,n){if(!(n.state.loading&4)){var o=Ca.get(e);if(o)var s=o.get(null);else{o=new Map,Ca.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=o.get(S)||s,h===s&&o.set(null,d),o.set(S,d),this.count++,s=_a.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var al={$$typeof:X,Provider:null,Consumer:null,_currentValue:w,_currentValue2:w,_threadCount:0};function Kv(e,n,o,s,d,h,S,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Gp(e,n,o,s,d,h,S,_,x,L,B,J){return e=new Kv(e,n,o,S,x,L,B,J,_),n=1,h===!0&&(n|=24),h=It(3,null,null,n),e.current=h,h.stateNode=e,n=Bs(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},Fs(h),e}function Hp(e){return e?(e=Vi,e):Vi}function Vp(e,n,o,s,d,h){d=Hp(d),s.context===null?s.context=d:s.pendingContext=d,s=qn(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=zn(e,s,n),o!==null&&(Ct(o,e,n),qo(o,e,n))}function qp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function ru(e,n){qp(e,n),(e=e.alternate)&&qp(e,n)}function zp(e){if(e.tag===13||e.tag===31){var n=ri(e,67108864);n!==null&&Ct(n,e,67108864),ru(e,67108864)}}function Bp(e){if(e.tag===13||e.tag===31){var n=Ht();n=is(n);var o=ri(e,n);o!==null&&Ct(o,e,n),ru(e,n)}}var xa=!0;function Qv(e,n,o,s){var d=N.T;N.T=null;var h=V.p;try{V.p=2,uu(e,n,o,s)}finally{V.p=h,N.T=d}}function Zv(e,n,o,s){var d=N.T;N.T=null;var h=V.p;try{V.p=8,uu(e,n,o,s)}finally{V.p=h,N.T=d}}function uu(e,n,o,s){if(xa){var d=cu(s);if(d===null)Qr(e,n,s,Ra,o),kp(e,s);else if(Wv(d,e,n,o,s))s.stopPropagation();else if(kp(e,s),n&4&&-1<$v.indexOf(e)){for(;d!==null;){var h=Ri(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=ii(h.pendingLanes);if(S!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var x=1<<31-bt(S);_.entanglements[1]|=x,S&=~x}ln(h),(Ne&6)===0&&(ra=Mt()+500,el(0))}}break;case 31:case 13:_=ri(h,2),_!==null&&Ct(_,h,2),ca(),ru(h,2)}if(h=cu(s),h===null&&Qr(e,n,s,Ra,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else Qr(e,n,s,null,o)}}function cu(e){return e=ds(e),fu(e)}var Ra=null;function fu(e){if(Ra=null,e=xi(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ra=e,null}function Pp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hg()){case Ku:return 2;case Qu:return 8;case ml:case Vg:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var du=!1,Zn=null,$n=null,Wn=null,sl=new Map,rl=new Map,jn=[],$v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kp(e,n){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function ul(e,n,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ri(n),n!==null&&zp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Wv(e,n,o,s,d){switch(n){case"focusin":return Zn=ul(Zn,e,n,o,s,d),!0;case"dragenter":return $n=ul($n,e,n,o,s,d),!0;case"mouseover":return Wn=ul(Wn,e,n,o,s,d),!0;case"pointerover":var h=d.pointerId;return sl.set(h,ul(sl.get(h)||null,e,n,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,rl.set(h,ul(rl.get(h)||null,e,n,o,s,d)),!0}return!1}function Op(e){var n=xi(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,nc(e.priority,function(){Bp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,nc(e.priority,function(){Bp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=cu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);fs=s,o.target.dispatchEvent(s),fs=null}else return n=Ri(o),n!==null&&zp(n),e.blockedOn=o,!1;n.shift()}return!0}function Fp(e,n,o){Ma(e)&&o.delete(n)}function jv(){du=!1,Zn!==null&&Ma(Zn)&&(Zn=null),$n!==null&&Ma($n)&&($n=null),Wn!==null&&Ma(Wn)&&(Wn=null),sl.forEach(Fp),rl.forEach(Fp)}function Na(e,n){e.blockedOn===n&&(e.blockedOn=null,du||(du=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jv)))}var ba=null;function Yp(e){ba!==e&&(ba=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ba===e&&(ba=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(fu(s||o)===null)continue;break}var h=Ri(o);h!==null&&(e.splice(n,3),n-=3,cr(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function so(e){function n(x){return Na(x,e)}Zn!==null&&Na(Zn,e),$n!==null&&Na($n,e),Wn!==null&&Na(Wn,e),sl.forEach(n),rl.forEach(n);for(var o=0;o<jn.length;o++){var s=jn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<jn.length&&(o=jn[0],o.blockedOn===null);)Op(o),o.blockedOn===null&&jn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],S=d[yt]||null;if(typeof h=="function")S||Yp(o);else if(S){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[yt]||null)_=S.formAction;else if(fu(d)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),Yp(o)}}}function Jp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function pu(e){this._internalRoot=e}wa.prototype.render=pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Ht();Vp(o,s,e,n,null,null)},wa.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vp(e.current,2,null,e,null,null),ca(),n[Ai]=null}};function wa(e){this._internalRoot=e}wa.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<jn.length&&n!==0&&n<jn[o].priority;o++);jn.splice(o,0,e),o===0&&Op(e)}};var Xp=t.version;if(Xp!=="19.2.3")throw Error(a(527,Xp,"19.2.3"));V.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var e0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{vo=Ia.inject(e0),Nt=Ia}catch{}}return fl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=ed,h=td,S=nd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Gp(e,1,!1,null,null,o,s,null,d,h,S,Jp),e[Ai]=n.current,Kr(e),new pu(n)},fl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=ed,S=td,_=nd,x=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(x=o.formState)),n=Gp(e,1,!0,n,o??null,s,d,x,h,S,_,Jp),n.context=Hp(null),o=n.current,s=Ht(),s=is(s),d=qn(s),d.callback=null,zn(o,d,s),o=s,n.current.lanes=o,To(n,o),ln(n),e[Ai]=n.current,Kr(e),new wa(n)},fl.version="19.2.3",fl}var ih;function f0(){if(ih)return gu.exports;ih=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=c0(),gu.exports}var d0=f0();const p0=km(d0),st=[];for(let i=0;i<256;++i)st.push((i+256).toString(16).slice(1));function h0(i,t=0){return(st[i[t+0]]+st[i[t+1]]+st[i[t+2]]+st[i[t+3]]+"-"+st[i[t+4]]+st[i[t+5]]+"-"+st[i[t+6]]+st[i[t+7]]+"-"+st[i[t+8]]+st[i[t+9]]+"-"+st[i[t+10]]+st[i[t+11]]+st[i[t+12]]+st[i[t+13]]+st[i[t+14]]+st[i[t+15]]).toLowerCase()}let Tu;const m0=new Uint8Array(16);function g0(){if(!Tu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Tu=crypto.getRandomValues.bind(crypto)}return Tu(m0)}const y0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oh={randomUUID:y0};function v0(i,t,l){var r;i=i||{};const a=i.random??((r=i.rng)==null?void 0:r.call(i))??g0();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,h0(a)}function Ei(i,t,l){return oh.randomUUID&&!i?oh.randomUUID():v0(i)}var Ye=(i=>(i.TEXT="text",i.STAT="stat",i.IMAGE="image",i))(Ye||{});const qa=(i,t,l,a)=>l.some(r=>r.id===a?!1:i>=r.x&&i<r.x+r.colSpan&&t>=r.y&&t<r.y+r.rowSpan),lh=(i,t,l,a,r)=>{for(let f=0;f<r;f++)for(let p=0;p<a;p++){if(p+i>a||f+t>r)continue;let g=!0;for(let y=0;y<i;y++){for(let m=0;m<t;m++)if(qa(p+y,f+m,l)){g=!1;break}if(!g)break}if(g)return{x:p,y:f}}return null},uo=i=>{if(!i||!i.startsWith("#"))return"#ffffff";let t=i.substring(1);if(t.length===3&&(t=t.split("").map(p=>p+p).join("")),t.length!==6)return"#ffffff";const l=parseInt(t.substring(0,2),16),a=parseInt(t.substring(2,4),16),r=parseInt(t.substring(4,6),16);return(l*299+a*587+r*114)/1e3>=150?"#000000":"#ffffff"},S0=[{label:"16:9",w:1920,h:1080},{label:"9:16",w:1080,h:1920},{label:"4:5",w:1080,h:1350},{label:"1:1",w:1080,h:1080},{label:"3:4",w:1200,h:1600}],T0=({config:i,setConfig:t,isGenerating:l,onGenerate:a,onRandomize:r,selectedItemIds:f,selectedSubItemIds:p,activeParentId:g,onSelectItem:y,onSelectSubItem:m,onUpdateItem:v,onUpdateSubItem:T,onAddItem:E,onDeleteItem:C,onMergeItems:D,onMergeSubItems:z,onCreateSubGrid:H,onRemoveSubGrid:F,onRandomizeSubGrid:ie})=>{const[X,le]=At.useState("#FFFFFF"),ne=f.length===1?f[0]:null,K=ne?i.items.find(w=>w.id===ne):null,W=f.length>1,he=p.length>1,ae=p.length===1?p[0]:null;let j=K,k=!1;if(g&&i.items.find(w=>w.id===g)){const w=i.items.find(te=>te.id===g);if(w&&ae&&w.subItems){const te=w.subItems.find(Q=>Q.id===ae);te&&(j=te,k=!0)}he&&(j=null)}!g&&K&&(j=K),g&&p.length===0&&(j=i.items.find(w=>w.id===g));const O=j?j.colSpan===j.rowSpan:!1,Y=K&&K.subItems&&K.subItems.length>0,$=(w,te)=>{t(Q=>({...Q,[w]:te}))},ee=()=>{/^#([0-9A-F]{3}){1,2}$/i.test(X)&&!i.palette.includes(X)&&t(te=>({...te,palette:[...te.palette,X]}))},N=w=>{t(te=>({...te,palette:te.palette.filter(Q=>Q!==w)}))},V=w=>{const te={...w};w.backgroundColor&&(te.textColor=uo(w.backgroundColor)),k&&g&&ae?T(g,ae,te):j&&v(j.id,te)};return R.jsxs("div",{className:"w-80 h-full bg-[#191b32] border-r border-[#2e3250] flex flex-col p-6 overflow-y-auto z-20 scrollbar-hide text-[#f7f6fc]",children:[R.jsx("div",{className:"mb-8",children:R.jsx("svg",{id:"Capa_2","data-name":"Capa 2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4187.42 1383.57",className:"w-full h-auto max-w-[200px]",children:R.jsxs("g",{id:"Capa_1-2","data-name":"Capa 1",children:[R.jsxs("g",{children:[R.jsx("path",{d:"M0,1053.65V0h519.3c99.34,0,178.11,25.85,236.32,77.52,58.18,51.7,87.31,116.17,87.31,193.43s-26.61,136.48-79.78,177.6c-22.08,17.09-48.17,30.63-78.27,40.65v7.52c37.12,8.04,69.74,21.6,97.84,40.65,65.21,47.18,97.83,118.91,97.83,215.24,0,89.32-32.12,161.81-96.33,217.5-64.23,55.7-155.04,83.54-272.44,83.54H0ZM173.1,428.99h338.68c48.17,0,85.28-12.04,111.38-36.13,26.09-24.08,39.14-57.69,39.14-100.84,0-38.13-13.05-68.74-39.14-91.83-26.1-23.07-63.21-34.61-111.38-34.61H173.1v263.41ZM173.1,888.09h331.15c130.44,0,195.68-50.17,195.68-150.53s-65.24-150.53-195.68-150.53H173.1v301.05Z",fill:"#d5ec2c"}),R.jsx("path",{d:"M1114.59,953.56c-75.78-76.78-113.64-171.35-113.64-283.75s37.87-206.95,113.64-283.73c75.75-76.76,168.33-115.14,277.71-115.14s201.94,38.38,277.72,115.14c75.75,76.78,113.64,171.37,113.64,283.73v52.69h-624.67c12.04,63.22,39.63,112.89,82.79,149.01,43.13,36.13,93.33,54.19,150.52,54.19,70.23,0,126.44-17.54,168.59-52.68,19.05-14.04,35.6-31.62,49.67-52.69h165.57c-21.07,49.18-47.67,90.84-79.78,124.93-82.29,82.29-183.63,123.43-304.05,123.43-109.38,0-201.96-38.38-277.71-115.14ZM1166.52,594.57h451.57c-9.03-50.17-32.88-92.82-71.5-127.96-38.64-35.12-90.07-52.68-154.28-52.68-54.18,0-102.35,16.31-144.5,48.93-42.15,32.61-69.24,76.53-81.28,131.71Z",fill:"#d5ec2c"}),R.jsx("path",{d:"M1919.1,1053.65V286h158.04v105.35h7.53c12.04-20.05,30.6-40.11,55.69-60.19,54.19-40.13,115.9-60.21,185.14-60.21,95.33,0,169.34,27.6,222.02,82.78,52.68,55.2,79.02,135.47,79.02,240.84v459.08h-158.04v-444.03c0-67.22-14.82-116.65-44.41-148.27-29.61-31.6-75.02-47.41-136.22-47.41s-111.64,20.84-151.27,62.46c-39.65,41.66-59.45,96.1-59.45,163.33v413.92h-158.04Z",fill:"#d5ec2c"}),R.jsx("path",{d:"M2739.43,428.99v-142.99h90.32V120.42h158.04v165.58h233.31v142.99h-233.31v481.67h240.83v142.99h-398.88V428.99h-90.32Z",fill:"#d5ec2c"}),R.jsx("path",{d:"M3434.09,953.56c-76.77-76.78-115.15-171.35-115.15-283.75s38.38-206.95,115.15-283.73c76.77-76.76,171.34-115.14,283.73-115.14s206.97,38.38,283.74,115.14c76.77,76.78,115.15,171.37,115.15,283.73s-38.38,206.97-115.15,283.75c-76.77,76.76-171.36,115.14-283.74,115.14s-206.96-38.38-283.73-115.14ZM3549.24,483.94c-43.16,46.65-64.73,108.63-64.73,185.88s21.57,139.24,64.73,185.9c43.13,46.67,99.35,70,168.58,70s125.43-23.33,168.59-70c43.13-46.65,64.73-108.6,64.73-185.9s-21.6-139.22-64.73-185.88c-43.16-46.67-99.35-70-168.59-70s-125.45,23.33-168.58,70Z",fill:"#d5ec2c"})]}),R.jsxs("g",{children:[R.jsxs("g",{children:[R.jsxs("g",{children:[R.jsx("path",{d:"M3195.69,1336.54v-176.71h123.7v27.77h-94.67v50.49h74.47v27.77h-74.47v70.68h-29.03Z",fill:"#b77df3"}),R.jsx("path",{d:"M3338.84,1319.75c-12.87-12.87-19.31-28.73-19.31-47.59s6.44-34.71,19.31-47.59c12.88-12.87,28.74-19.31,47.59-19.31s34.71,6.44,47.59,19.31c12.88,12.87,19.31,28.74,19.31,47.59s-6.44,34.71-19.31,47.59c-12.87,12.87-28.74,19.31-47.59,19.31s-34.71-6.44-47.59-19.31ZM3358.15,1240.99c-7.24,7.83-10.86,18.22-10.86,31.18s3.62,23.35,10.86,31.18c7.23,7.83,16.66,11.74,28.27,11.74s21.04-3.91,28.27-11.74c7.23-7.83,10.86-18.21,10.86-31.18s-3.62-23.35-10.86-31.18c-7.24-7.83-16.66-11.74-28.27-11.74s-21.04,3.91-28.27,11.74Z",fill:"#b77df3"}),R.jsx("path",{d:"M3471.83,1336.54v-128.75h26.51v18.93h1.26c1.85-3.53,4.54-6.9,8.08-10.1,7.74-6.73,16.83-10.1,27.26-10.1h15.15v25.24h-16.41c-10.27,0-18.72,3.24-25.37,9.72-6.65,6.48-9.97,15.02-9.97,25.62v69.42h-26.51Z",fill:"#b77df3"}),R.jsx("path",{d:"M3558.92,1207.79h27.77l21.46,104.76h3.79l21.46-104.76h37.86l21.46,104.76h3.79l21.46-104.76h27.77l-27.77,128.75h-45.44l-18.93-98.45h-2.52l-18.94,98.45h-45.44l-27.77-128.75Z",fill:"#b77df3"}),R.jsx("path",{d:"M3769.45,1320.51c-11.53-12.37-17.29-28.48-17.29-48.34s5.76-35.97,17.29-48.34c11.52-12.37,25.96-18.55,43.29-18.55,10.94,0,20.95,3.2,30.04,9.59,3.87,2.69,7.32,5.81,10.35,9.34h1.26v-16.41h26.51v128.75h-26.51v-17.67h-1.26c-2.53,3.53-5.98,6.9-10.35,10.1-9.09,6.73-19.1,10.1-30.04,10.1-17.33,0-31.77-6.18-43.29-18.55ZM3790.03,1240.36c-6.73,7.41-10.1,18.01-10.1,31.81s3.37,24.4,10.1,31.81c6.73,7.41,15.99,11.11,27.77,11.11,11.11,0,19.98-3.74,26.63-11.23,6.65-7.49,9.97-18.05,9.97-31.68s-3.32-24.19-9.97-31.68c-6.65-7.49-15.52-11.23-26.63-11.23-11.78,0-21.04,3.7-27.77,11.11Z",fill:"#b77df3"}),R.jsx("path",{d:"M3906.83,1336.54v-128.75h26.51v18.93h1.26c1.85-3.53,4.54-6.9,8.08-10.1,7.74-6.73,16.83-10.1,27.26-10.1h15.15v25.24h-16.41c-10.27,0-18.72,3.24-25.37,9.72-6.65,6.48-9.97,15.02-9.97,25.62v69.42h-26.51Z",fill:"#b77df3"}),R.jsx("path",{d:"M4007.63,1320.51c-11.53-12.37-17.29-28.48-17.29-48.34s5.76-35.97,17.29-48.34c11.52-12.37,25.96-18.55,43.29-18.55,10.94,0,20.95,3.2,30.04,9.59,3.87,2.69,7.32,5.81,10.35,9.34h1.26v-64.37h26.51v176.71h-26.51v-16.41h-1.26c-2.86,3.53-6.31,6.73-10.35,9.59-8.92,6.23-18.93,9.34-30.04,9.34-17.33,0-31.77-6.18-43.29-18.55ZM4028.2,1240.36c-6.73,7.41-10.1,18.01-10.1,31.81s3.37,24.4,10.1,31.81c6.73,7.41,15.99,11.11,27.77,11.11,11.11,0,19.98-3.74,26.63-11.23,6.65-7.49,9.97-18.05,9.97-31.68s-3.32-24.19-9.97-31.68c-6.65-7.49-15.52-11.23-26.63-11.23-11.78,0-21.04,3.7-27.77,11.11Z",fill:"#b77df3"})]}),R.jsx("path",{d:"M4150.19,1197.01c-4.11-4.14-6.17-9.3-6.17-15.49s2.06-11.35,6.17-15.49c4.11-4.14,9.29-6.21,15.53-6.21s11.42,2.07,15.53,6.21c4.11,4.14,6.17,9.31,6.17,15.49s-2.06,11.35-6.17,15.49c-4.11,4.14-9.29,6.21-15.53,6.21s-11.42-2.07-15.53-6.21ZM4152.95,1168.81c-3.4,3.43-5.11,7.67-5.11,12.72s1.7,9.29,5.11,12.72c3.4,3.43,7.66,5.15,12.76,5.15s9.36-1.71,12.76-5.15c3.41-3.43,5.11-7.67,5.11-12.72s-1.7-9.29-5.11-12.72c-3.4-3.43-7.66-5.15-12.76-5.15s-9.36,1.72-12.76,5.15ZM4158.06,1191.74v-20.85h8.93c2.67,0,4.75.65,6.26,1.96,1.5,1.3,2.26,2.98,2.26,5.02s-.85,3.69-2.55,4.94c-.74.57-1.59.99-2.55,1.28l5.11,7.66h-4.25l-4.68-6.81h-4.68v6.81h-3.83ZM4161.89,1181.1h5.7c2.72,0,4.09-1.08,4.09-3.23s-1.42-3.15-4.25-3.15h-5.53v6.38Z",fill:"#b77df3"})]}),R.jsxs("g",{children:[R.jsx("path",{d:"M2832.81,1337.09v-171.23h84.39c16.15,0,28.94,4.2,38.4,12.6,9.46,8.4,14.19,18.88,14.19,31.43s-4.32,22.18-12.96,28.86c-3.59,2.78-7.83,4.98-12.72,6.61v1.22c6.03,1.31,11.33,3.51,15.9,6.61,10.6,7.67,15.9,19.32,15.9,34.98,0,14.52-5.22,26.29-15.66,35.35-10.44,9.05-25.2,13.58-44.27,13.58h-83.17ZM2860.94,1235.58h55.04c7.83,0,13.86-1.96,18.1-5.87,4.24-3.91,6.36-9.37,6.36-16.39,0-6.2-2.12-11.17-6.36-14.92-4.24-3.75-10.27-5.63-18.1-5.63h-55.04v42.81ZM2860.94,1310.19h53.82c21.2,0,31.8-8.15,31.8-24.46s-10.6-24.46-31.8-24.46h-53.82v48.92Z",fill:"#b77df3"}),R.jsx("path",{d:"M2990.58,1212.34h26.91l26.91,100.29h13.45l29.35-100.29h26.91l-51.37,171.23h-26.91l14.68-46.48h-25.68l-34.24-124.75Z",fill:"#b77df3"})]})]})]})})}),W&&R.jsxs("div",{className:"animate-fade-in-right",children:[R.jsxs("button",{onClick:()=>y(null),className:"mb-6 text-xs text-neutral-400 hover:text-white flex items-center gap-2 transition-colors uppercase font-bold tracking-wider",children:[R.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})," Volver"]}),R.jsxs("div",{className:"bg-[#242742] p-4 rounded-lg border border-[#2e3250] text-center",children:[R.jsxs("div",{className:"text-white font-bold text-sm mb-2",children:[f.length," Items Seleccionados"]}),R.jsx("button",{onClick:D,className:"w-full bg-[#d5ec2c] hover:bg-[#c2d627] text-[#191b32] py-2 rounded text-xs font-bold transition-colors",children:"Fusionar (Merge)"})]}),R.jsx("div",{className:"pt-4",children:R.jsx("button",{onClick:()=>f.forEach(w=>C(w)),className:"w-full bg-red-900/10 hover:bg-red-900/20 text-red-500 border border-red-900/20 py-2 rounded text-xs font-bold transition-colors",children:"Eliminar Todos"})})]}),he&&R.jsxs("div",{className:"animate-fade-in-right",children:[R.jsxs("button",{onClick:()=>m(g,null),className:"mb-6 text-xs text-neutral-400 hover:text-white flex items-center gap-2 transition-colors uppercase font-bold tracking-wider",children:[R.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})," Volver al Grid"]}),R.jsxs("div",{className:"bg-[#242742] p-4 rounded-lg border border-[#2e3250] text-center",children:[R.jsxs("div",{className:"text-white font-bold text-sm mb-2",children:[p.length," Sub-Items Seleccionados"]}),R.jsx("button",{onClick:z,className:"w-full bg-[#ba8bff] hover:bg-[#a379e0] text-[#191b32] py-2 rounded text-xs font-bold transition-colors",children:"Fusionar Sub-Items"})]})]}),j&&!W&&!he?R.jsxs("div",{className:"animate-fade-in-right",children:[R.jsx("div",{className:"flex items-center gap-2 mb-6",children:R.jsxs("button",{onClick:()=>k?m(g,null):y(null),className:"text-xs text-neutral-400 hover:text-white flex items-center gap-2 transition-colors uppercase font-bold tracking-wider",children:[R.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),k?"Volver al Padre":"Volver"]})}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between border-b border-[#2e3250] pb-2",children:[R.jsx("h2",{className:"text-sm font-bold text-white uppercase truncate pr-2",children:k?"Editando Sub-Item":"Editar Elemento"}),!k&&R.jsx("button",{onClick:()=>V({locked:!(j!=null&&j.locked)}),className:`text-xs px-2 py-1 rounded border transition-colors ${j.locked?"bg-[#d5ec2c]/20 text-[#d5ec2c] border-[#d5ec2c]/50":"bg-[#15172b] text-neutral-400 border-[#2e3250]"}`,children:j.locked?"Bloqueado":"Bloquear"})]}),!k&&R.jsxs("div",{className:"bg-[#242742] p-3 rounded border border-[#2e3250] mb-4",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400 mb-2 block uppercase tracking-wider",children:"Sub-Grid Canvas"}),Y?R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-[10px] text-neutral-400 block mb-1",children:"Filas (Rows)"}),R.jsx("input",{type:"number",min:"1",max:"12",value:(K==null?void 0:K.subRows)||2,onChange:w=>V({subRows:parseInt(w.target.value)}),className:"w-full bg-[#15172b] border border-[#2e3250] rounded px-2 py-1 text-xs text-white focus:border-[#d5ec2c] outline-none"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"text-[10px] text-neutral-400 block mb-1",children:"Cols (Cols)"}),R.jsx("input",{type:"number",min:"1",max:"12",value:(K==null?void 0:K.subColumns)||2,onChange:w=>V({subColumns:parseInt(w.target.value)}),className:"w-full bg-[#15172b] border border-[#2e3250] rounded px-2 py-1 text-xs text-white focus:border-[#d5ec2c] outline-none"})]})]}),R.jsx("button",{onClick:()=>ie(j.id),className:"w-full bg-[#15172b] hover:bg-[#1a1c30] text-neutral-300 py-2 rounded text-xs border border-[#2e3250] flex items-center justify-center gap-2",children:"Aleatorizar Layout"}),R.jsx("button",{onClick:()=>F(j.id),className:"w-full bg-red-900/10 hover:bg-red-900/20 text-red-500 py-1.5 rounded text-xs border border-red-900/20",children:"Eliminar Sub-Grid"})]}):R.jsx("button",{onClick:()=>H(j.id),className:"w-full bg-[#ba8bff]/20 hover:bg-[#ba8bff]/30 text-[#ba8bff] border border-[#ba8bff]/30 py-2 rounded text-xs font-bold transition-colors flex items-center justify-center gap-2",children:"Convertir a Sub-Grid"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Tipo"}),R.jsxs("select",{disabled:j.locked||Y&&!k,value:j.type,onChange:w=>V({type:w.target.value}),className:"w-full bg-[#242742] border border-[#2e3250] rounded p-2 text-sm text-white focus:border-[#d5ec2c] focus:outline-none disabled:opacity-50",children:[R.jsx("option",{value:Ye.TEXT,children:"Texto"}),R.jsx("option",{value:Ye.STAT,children:"Dato/Estadstica"}),R.jsx("option",{value:Ye.IMAGE,children:"Imagen"})]})]}),(O&&!Y||k)&&R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Forma"}),R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsxs("button",{onClick:()=>V({variant:"square"}),className:`flex items-center justify-center py-2 rounded border transition-colors ${j.variant!=="circle"?"bg-[#15172b] border-[#d5ec2c] text-white":"bg-[#242742] border-[#2e3250] text-neutral-500"}`,children:[R.jsx("span",{className:"w-3 h-3 border border-current rounded-sm mr-2"}),R.jsx("span",{className:"text-xs",children:"Cuadrado"})]}),R.jsxs("button",{onClick:()=>V({variant:"circle"}),className:`flex items-center justify-center py-2 rounded border transition-colors ${j.variant==="circle"?"bg-[#15172b] border-[#d5ec2c] text-white":"bg-[#242742] border-[#2e3250] text-neutral-500"}`,children:[R.jsx("span",{className:"w-3 h-3 border border-current rounded-full mr-2"}),R.jsx("span",{className:"text-xs",children:"Crculo"})]})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Color de Fondo (HEX)"}),i.palette.length>0&&R.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:i.palette.map(w=>R.jsx("button",{onClick:()=>V({backgroundColor:w}),className:`w-6 h-6 rounded-full border border-white/10 hover:scale-110 transition-transform ${(j==null?void 0:j.backgroundColor)===w?"ring-2 ring-white":""}`,style:{backgroundColor:w},title:w},w))}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-8 h-8 rounded border border-[#2e3250]",style:{backgroundColor:j.backgroundColor.startsWith("#")?j.backgroundColor:"#000"}}),R.jsx("input",{type:"text",value:j.backgroundColor,onChange:w=>V({backgroundColor:w.target.value}),placeholder:"#HEX",className:"w-full bg-[#242742] border border-[#2e3250] rounded p-1.5 text-xs text-neutral-300 font-mono focus:border-[#d5ec2c] focus:text-white transition-colors outline-none"})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("div",{className:"flex justify-between mb-1",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Inset (Padding Interno)"}),R.jsxs("span",{className:"text-xs font-mono text-neutral-400",children:[j.innerPadding||0,"px"]})]}),R.jsx("input",{type:"range",min:"0",max:"100",step:"4",value:j.innerPadding||0,onChange:w=>V({innerPadding:parseInt(w.target.value)}),className:"w-full accent-[#d5ec2c] h-1 bg-[#15172b] rounded-lg appearance-none cursor-pointer"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Ttulo"}),R.jsx("input",{type:"text",value:j.title,onChange:w=>V({title:w.target.value}),className:"w-full bg-[#242742] border border-[#2e3250] rounded p-2 text-sm text-white focus:border-[#d5ec2c] outline-none"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Contenido"}),R.jsx("textarea",{rows:3,value:j.content,onChange:w=>V({content:w.target.value}),className:"w-full bg-[#242742] border border-[#2e3250] rounded p-2 text-sm text-white focus:border-[#d5ec2c] resize-none outline-none"})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Cols (Ancho)"}),R.jsx("input",{type:"number",disabled:j.locked,min:"1",max:k?(K==null?void 0:K.subColumns)||2:i.columns,value:j.colSpan,onChange:w=>V({colSpan:parseInt(w.target.value)}),className:"w-full bg-[#242742] border border-[#2e3250] rounded p-2 text-sm text-white focus:border-[#d5ec2c] disabled:opacity-50 outline-none"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"text-xs font-semibold text-neutral-400",children:"Rows (Alto)"}),R.jsx("input",{type:"number",disabled:j.locked,min:"1",max:k?(K==null?void 0:K.subRows)||2:i.rows,value:j.rowSpan,onChange:w=>V({rowSpan:parseInt(w.target.value)}),className:"w-full bg-[#242742] border border-[#2e3250] rounded p-2 text-sm text-white focus:border-[#d5ec2c] disabled:opacity-50 outline-none"})]})]}),R.jsx("div",{className:"pt-6",children:R.jsx("button",{onClick:()=>C(j.id),disabled:j.locked,className:"w-full bg-red-900/10 hover:bg-red-900/20 text-red-500 border border-red-900/20 py-2 rounded text-xs font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:k?"Eliminar Sub-Item":"Eliminar Elemento"})})]})]}):!W&&!he&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:"text-xs font-bold text-neutral-400 uppercase tracking-widest mb-3",children:"Paleta de Marca"}),R.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.palette.map(w=>R.jsxs("div",{className:"relative group",children:[R.jsx("div",{className:"w-8 h-8 rounded-md border border-[#2e3250] shadow-sm",style:{backgroundColor:w}}),R.jsx("button",{onClick:()=>N(w),className:"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},w))}),R.jsxs("div",{className:"bg-[#242742] p-2 rounded border border-[#2e3250] flex items-center gap-2",children:[R.jsx("div",{className:"w-8 h-8 rounded border border-[#444]",style:{backgroundColor:/^#([0-9A-F]{3}){1,2}$/i.test(X)?X:"transparent"}}),R.jsx("input",{type:"text",value:X,onChange:w=>le(w.target.value),placeholder:"#HEX",className:"flex-1 bg-transparent border-none text-xs text-white placeholder-neutral-500 focus:outline-none font-mono uppercase",maxLength:7}),R.jsx("button",{onClick:ee,className:"bg-[#15172b] hover:bg-[#1f223d] text-white text-[10px] font-bold py-1.5 px-3 rounded border border-[#2e3250] transition-colors",children:"+ ADD"})]})]}),R.jsx("div",{className:"w-full h-px bg-[#2e3250] mb-6"}),R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:"text-xs font-bold text-neutral-400 uppercase tracking-widest mb-3",children:"Lienzo (Canvas)"}),R.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:S0.map(w=>R.jsx("button",{onClick:()=>t(te=>({...te,width:w.w,height:w.h})),className:`text-[10px] font-medium py-2 rounded border transition-all
                                ${i.width===w.w&&i.height===w.h?"bg-[#d5ec2c] border-[#d5ec2c] text-[#191b32]":"bg-[#242742] border-[#2e3250] text-neutral-400 hover:border-neutral-500"}`,children:w.label},w.label))}),R.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R.jsxs("div",{children:[R.jsx("label",{className:"text-[10px] text-neutral-400 mb-1 block",children:"Ancho (px)"}),R.jsx("input",{type:"number",value:i.width,onChange:w=>$("width",parseInt(w.target.value)),className:"w-full bg-[#242742] border border-[#2e3250] rounded px-2 py-1 text-xs text-white outline-none"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"text-[10px] text-neutral-400 mb-1 block",children:"Alto (px)"}),R.jsx("input",{type:"number",value:i.height,onChange:w=>$("height",parseInt(w.target.value)),className:"w-full bg-[#242742] border border-[#2e3250] rounded px-2 py-1 text-xs text-white outline-none"})]})]})]}),R.jsx("div",{className:"w-full h-px bg-[#2e3250] mb-6"}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-xs font-bold text-neutral-400 uppercase tracking-widest",children:"Ajustes Grid"}),R.jsx("button",{onClick:E,className:"text-[10px] bg-[#15172b] hover:bg-[#1f223d] text-white px-2 py-1 rounded border border-[#2e3250] transition-colors",children:"+ Item"})]}),R.jsxs("button",{onClick:r,className:"w-full bg-[#242742] border border-[#2e3250] hover:border-[#d5ec2c] hover:text-[#d5ec2c] text-neutral-300 py-2 rounded text-xs font-bold transition-all uppercase tracking-wide flex items-center justify-center gap-2",children:[R.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Randomize Layout"]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsx("label",{className:"text-xs text-neutral-400",children:"Columnas (Horizontal)"}),R.jsx("span",{className:"text-xs font-mono text-neutral-500",children:i.columns})]}),R.jsx("input",{type:"range",min:"2",max:"7",step:"1",value:i.columns,onChange:w=>t({...i,columns:parseInt(w.target.value)}),className:"w-full accent-[#d5ec2c] h-1 bg-[#15172b] rounded-lg appearance-none cursor-pointer"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsx("label",{className:"text-xs text-neutral-400",children:"Filas (Vertical)"}),R.jsx("span",{className:"text-xs font-mono text-neutral-500",children:i.rows})]}),R.jsx("input",{type:"range",min:"2",max:"7",step:"1",value:i.rows,onChange:w=>t({...i,rows:parseInt(w.target.value)}),className:"w-full accent-[#d5ec2c] h-1 bg-[#15172b] rounded-lg appearance-none cursor-pointer"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsx("label",{className:"text-xs text-neutral-400",children:"Espaciado (Gap)"}),R.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[i.gap,"px"]})]}),R.jsx("input",{type:"range",min:"0",max:"64",step:"4",value:i.gap,onChange:w=>t({...i,gap:parseInt(w.target.value)}),className:"w-full accent-[#d5ec2c] h-1 bg-[#15172b] rounded-lg appearance-none cursor-pointer"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsx("label",{className:"text-xs text-neutral-400",children:"Radio Borde"}),R.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[i.borderRadius,"px"]})]}),R.jsx("input",{type:"range",min:"0",max:"100",step:"4",value:i.borderRadius,onChange:w=>t({...i,borderRadius:parseInt(w.target.value)}),className:"w-full accent-[#d5ec2c] h-1 bg-[#15172b] rounded-lg appearance-none cursor-pointer"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsx("label",{className:"text-xs text-neutral-400",children:"Padding Interno"}),R.jsxs("span",{className:"text-xs font-mono text-neutral-500",children:[i.padding,"px"]})]}),R.jsx("input",{type:"range",min:"0",max:"200",step:"10",value:i.padding,onChange:w=>t({...i,padding:parseInt(w.target.value)}),className:"w-full accent-[#d5ec2c] h-1 bg-[#15172b] rounded-lg appearance-none cursor-pointer"})]})]})]})]})},ah=(i,t,l,a=!1)=>{const r=Math.min(i,t),f=i*t;return a?l===Ye.STAT?{title:"text-2xl font-bold leading-none",content:"text-[8px] uppercase tracking-wider opacity-60"}:{title:"text-xs font-bold leading-tight",content:"text-[8px] leading-snug opacity-70"}:l===Ye.STAT?r===1?{title:"text-4xl font-bold tracking-tighter leading-none",content:"text-[10px] font-bold uppercase tracking-widest opacity-60"}:f<=4?{title:"text-6xl font-bold tracking-tighter leading-none",content:"text-xs font-bold uppercase tracking-widest opacity-60"}:{title:"text-8xl font-bold tracking-tighter leading-none",content:"text-sm font-bold uppercase tracking-widest opacity-60"}:f===1?{title:"text-sm font-bold leading-tight tracking-tight",content:"text-[10px] leading-snug opacity-70 line-clamp-3"}:f===2||r===1&&f<=3?{title:"text-lg font-bold leading-tight tracking-tight",content:"text-xs leading-snug opacity-70 line-clamp-4"}:f<=6?{title:"text-3xl font-bold leading-none tracking-tight mb-2",content:"text-sm leading-relaxed opacity-80"}:{title:"text-5xl font-bold leading-none tracking-tight mb-4",content:"text-lg leading-relaxed opacity-80 max-w-[80%]"}},E0=({config:i,onItemUpdate:t,onSubItemUpdate:l,selectedItemIds:a,selectedSubItemIds:r,activeParentId:f,onSelect:p,onSelectSubItem:g,onAddAt:y,onAddSubItemAt:m})=>{const{columns:v,rows:T,gap:E,padding:C,borderRadius:D,items:z,width:H,height:F}=i,ie=At.useRef(null),[X,le]=At.useState(1),[ne,K]=At.useState(null);At.useEffect(()=>{const k=()=>{if(!ie.current)return;const O=ie.current.parentElement;if(!O)return;const Y=80,$=(O.clientWidth-Y)/H,ee=(O.clientHeight-Y)/F;le(Math.min($,ee,1))};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[H,F]);const W=k=>{if(!ie.current)return;ie.current.getBoundingClientRect();const O=k.nativeEvent.offsetX,Y=k.nativeEvent.offsetY,$=O-C,ee=Y-C;if($<0||ee<0)return;const N=(v-1)*E,w=(H-C*2-N)/v,te=(T-1)*E,A=(F-C*2-te)/T,I=Math.floor($/(w+E)),Z=Math.floor(ee/(A+E));I>=0&&I<v&&Z>=0&&Z<T&&y(I,Z)},he=(k,O,Y=null)=>{k.stopPropagation(),!O.locked&&K({id:O.id,parentId:Y,startX:k.clientX,startY:k.clientY,startColSpan:O.colSpan,startRowSpan:O.rowSpan})};At.useEffect(()=>{const k=Y=>{if(!ne)return;let $=v,ee=T,N=E,V=H-C*2,w=F-C*2,te=z;if(ne.parentId){const we=z.find(ts=>ts.id===ne.parentId);if(!we)return;$=we.subColumns||2,ee=we.subRows||2,N=E/2;const rt=(v-1)*E,ni=(H-C*2-rt)/v,dt=(T-1)*E,sn=(F-C*2-dt)/T,rn=we.colSpan*ni+(we.colSpan-1)*E,es=we.rowSpan*sn+(we.rowSpan-1)*E;V=rn,w=es,te=we.subItems||[]}const Q=($-1)*N,A=(V-Q)/$,I=(ee-1)*N,Z=(w-I)/ee,oe=A*X,ce=Z*X,de=Y.clientX-ne.startX,ye=Y.clientY-ne.startY,Ue=Math.round(de/(oe+N*X)),be=Math.round(ye/(ce+N*X)),gt=Math.max(1,Math.min(ne.startColSpan+Ue,$)),et=Math.max(1,Math.min(ne.startRowSpan+be,ee)),xt=te.find(we=>we.id===ne.id);if(!xt)return;const an=xt.x,tt=xt.y;let Rt=!1;for(let we=an;we<an+gt;we++){for(let rt=tt;rt<tt+et;rt++){if(we>=$||rt>=ee){Rt=!0;break}if(te.find(dt=>dt.id!==ne.id&&we>=dt.x&&we<dt.x+dt.colSpan&&rt>=dt.y&&rt<dt.y+dt.rowSpan)){Rt=!0;break}}if(Rt)break}Rt||(ne.parentId?l(ne.parentId,ne.id,{colSpan:gt,rowSpan:et}):t(ne.id,{colSpan:gt,rowSpan:et}))},O=()=>K(null);return ne&&(window.addEventListener("mousemove",k),window.addEventListener("mouseup",O)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",O)}},[ne,X,H,F,v,T,E,C,t,l,z]);const ae=Array(T*v).fill(0),j=(k,O)=>{if(k.subItems&&k.subItems.length>0){const V=k.subRows||2,w=k.subColumns||2,te=E/2;return R.jsxs("div",{className:"w-full h-full relative cursor-crosshair",style:{padding:k.innerPadding?`${k.innerPadding}px`:void 0},onClick:Q=>{Q.stopPropagation();const A=Q.currentTarget.getBoundingClientRect(),I=Q.clientX-A.left,Z=Q.clientY-A.top,oe=(A.width-(w-1)*te*X)/w,ce=(A.height-(V-1)*te*X)/V,de=Math.floor(I/(oe+te*X)),ye=Math.floor(Z/(ce+te*X));de>=0&&de<w&&ye>=0&&ye<V&&m(k.id,de,ye)},children:[R.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,gridTemplateRows:`repeat(${V}, 1fr)`,gap:`${te}px`},children:Array(V*w).fill(0).map((Q,A)=>R.jsx("div",{className:"border border-white rounded-[2px]"},A))}),R.jsx("div",{className:"absolute inset-0",style:{display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,gridTemplateRows:`repeat(${V}, 1fr)`,gap:`${te}px`,pointerEvents:"none"},children:k.subItems.map(Q=>{const A=r.includes(Q.id),I=ah(Q.colSpan,Q.rowSpan,Q.type,!0),Z=(ne==null?void 0:ne.id)===Q.id,oe=Q.colSpan===Q.rowSpan,ce=Q.variant==="circle"&&oe,de=ce?"9999px":`${D/2}px`,ye=ce?"items-center text-center justify-center":"justify-between";return R.jsxs("div",{style:{gridColumnStart:Q.x+1,gridColumnEnd:`span ${Q.colSpan}`,gridRowStart:Q.y+1,gridRowEnd:`span ${Q.rowSpan}`,padding:Q.innerPadding},className:"pointer-events-auto relative",children:[R.jsx("div",{onClick:Ue=>{Ue.stopPropagation(),g(k.id,Q.id,Ue.shiftKey)},className:`flex flex-col p-3 overflow-hidden ${ye} transition-all cursor-pointer w-full h-full
                                            ${A?"ring-2 ring-[#d5ec2c] z-10":"hover:brightness-110"}
                                            ${Z?"transition-none opacity-80":""}
                                        `,style:{background:Q.backgroundColor,color:Q.textColor,borderRadius:de},children:Q.type==="stat"?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:`${I.title} ${ce?"":"mb-auto"}`,children:Q.title}),R.jsx("div",{className:I.content,children:Q.content})]}):R.jsxs(R.Fragment,{children:[R.jsx("h3",{className:`${I.title}`,children:Q.title}),R.jsx("p",{className:`${I.content}`,children:Q.content})]})}),A&&!Z&&R.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 flex items-center justify-center cursor-nwse-resize z-50 group hover:bg-white/20 rounded-tl-lg pointer-events-auto",onMouseDown:Ue=>he(Ue,Q,k.id),children:R.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full shadow-sm"})})]},Q.id)})})]})}const $=ah(k.colSpan,k.rowSpan,k.type,!1),ee=k.variant==="circle"&&k.colSpan===k.rowSpan,N=ee?"justify-center items-center text-center":"justify-between text-left";return R.jsx("div",{className:`p-6 h-full flex flex-col relative z-0 pointer-events-none ${N}`,children:k.type==="stat"?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:`${$.title} break-words ${ee?"mb-2":"mb-auto"}`,children:k.title}),R.jsx("div",{className:$.content,children:k.content})]}):R.jsxs(R.Fragment,{children:[R.jsx("h3",{className:`${$.title} break-words`,children:k.title}),R.jsx("p",{className:`${$.content} whitespace-pre-wrap`,children:k.content})]})})};return R.jsx("div",{className:"flex-1 w-full h-full flex items-center justify-center overflow-hidden relative bg-[#656a82]",children:R.jsxs("div",{ref:ie,onClick:W,style:{width:`${H}px`,height:`${F}px`,transform:`scale(${X})`,transformOrigin:"center center",padding:`${C}px`,boxShadow:"0 20px 50px -12px rgba(0,0,0,0.5)",position:"relative"},className:"bg-[#171717] transition-transform duration-300 ease-out shrink-0 cursor-crosshair",children:[R.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${v}, 1fr)`,gridTemplateRows:`repeat(${T}, 1fr)`,gap:`${E}px`,position:"absolute",top:C,left:C,right:C,bottom:C,zIndex:0,pointerEvents:"none"},children:ae.map((k,O)=>R.jsx("div",{className:"border border-white/10 rounded-[4px] opacity-30 hover:bg-white/5 transition-colors"},O))}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${v}, 1fr)`,gridTemplateRows:`repeat(${T}, 1fr)`,gap:`${E}px`,width:"100%",height:"100%",position:"relative",zIndex:1,pointerEvents:"none"},children:z.map(k=>{const O=a.includes(k.id),Y=(ne==null?void 0:ne.id)===k.id,ee=k.variant==="circle"&&k.colSpan===k.rowSpan?"9999px":`${D}px`;return k.subItems&&k.subItems.length>0,R.jsxs("div",{className:`group relative flex flex-col pointer-events-auto
                    ${Y?"transition-none opacity-80":"transition-all duration-300"}
                    `,style:{gridColumnStart:k.x+1,gridColumnEnd:`span ${k.colSpan}`,gridRowStart:k.y+1,gridRowEnd:`span ${k.rowSpan}`,padding:k.innerPadding,zIndex:O?20:1},children:[R.jsxs("div",{onClick:N=>{N.stopPropagation(),O&&r.length>0?g(k.id,null,!1):p(k.id,N.shiftKey)},className:`w-full h-full overflow-hidden flex flex-col relative
                         ${O?"ring-2 ring-[#d5ec2c] shadow-2xl":"hover:shadow-lg hover:z-10 cursor-pointer"}
                        `,style:{background:k.backgroundColor,borderRadius:ee,color:k.textColor},children:[k.locked&&R.jsx("div",{className:"absolute top-2 right-2 text-white/20 z-10",children:R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),j(k)]}),O&&!k.locked&&r.length===0&&R.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 flex items-center justify-center cursor-nwse-resize z-50 group hover:bg-white/10 rounded-tl-xl pointer-events-auto",onMouseDown:N=>he(N,k),children:R.jsx("div",{className:"w-2 h-2 bg-white rounded-full shadow-sm"})})]},k.id)})})]})})},sh=i=>{if(!i)return"#000000";if(i.includes("gradient")){const t=i.match(/#[0-9a-fA-F]{6}/);return t?t[0]:"#000000"}return i},Da=(i,t)=>{const l=i.split(" "),a=[];let r=l[0];for(let f=1;f<l.length;f++)r.length+1+l[f].length<=t?r+=" "+l[f]:(a.push(r),r=l[f]);return a.push(r),a},_0=(i,t=1200,l=!1,a=!1,r=!1,f=!1)=>{const{columns:p,rows:g,gap:y,padding:m,borderRadius:v,items:T,height:E}=i,C=(p-1)*y,z=(i.width-m*2-C)/p,H=(g-1)*y,ie=(E-m*2-H)/g;let X="";const le=(K,W,he,ae,j)=>{let k="";const O=j.subItems||[],Y=j.subColumns||2,$=j.subRows||2,ee=y/2,N=he-(Y-1)*ee,V=ae-($-1)*ee,w=N/Y,te=V/$;return O.forEach(Q=>{const A=K+Q.x*(w+ee),I=W+Q.y*(te+ee),Z=Q.colSpan*w+(Q.colSpan-1)*ee,oe=Q.rowSpan*te+(Q.rowSpan-1)*ee,ce=Q.innerPadding||0,de=A+ce,ye=I+ce,Ue=Math.max(0,Z-ce*2),be=Math.max(0,oe-ce*2),gt=Q.colSpan===Q.rowSpan,et=Q.variant==="circle"&&gt,xt=et?9999:v/2,an=sh(Q.backgroundColor);if(k+=`<g transform="translate(${de}, ${ye})">`,k+=`<rect width="${Ue}" height="${be}" rx="${xt}" ry="${xt}" fill="${an}" />`,a){const tt=et?Ue/2:10,Rt=et?be/2-10:15,we=et?"middle":"start",rt=Da(Q.title,10),ni=Da(Q.content,15).slice(0,2);k+=`<text x="${tt}" y="${Rt}" font-family="Arial, Helvetica, sans-serif" font-weight="bold" font-size="10px" fill="${Q.textColor}" text-anchor="${we}" dominant-baseline="text-before-edge">`,rt.forEach((sn,rn)=>{k+=`<tspan x="${tt}" dy="${rn===0?0:11}">${sn}</tspan>`}),k+="</text>";const dt=Rt+rt.length*11+4;k+=`<text x="${tt}" y="${dt}" font-family="Arial, Helvetica, sans-serif" font-size="8px" fill="${Q.textColor}" opacity="0.9" text-anchor="${we}" dominant-baseline="text-before-edge">`,ni.forEach((sn,rn)=>{k+=`<tspan x="${tt}" dy="${rn===0?0:9}">${sn}</tspan>`}),k+="</text>"}k+="</g>"}),k};T.forEach(K=>{const W=K.x,he=K.y,ae=m+W*(z+y),j=m+he*(ie+y),k=K.colSpan*z+(K.colSpan-1)*y,O=K.rowSpan*ie+(K.rowSpan-1)*y,Y=K.innerPadding||0,$=ae+Y,ee=j+Y,N=Math.max(0,k-Y*2),V=Math.max(0,O-Y*2),w=K.variant==="circle"&&K.colSpan===K.rowSpan,te=w?9999:v,Q=sh(K.backgroundColor);X+=`<g transform="translate(${$}, ${ee})">`,X+=`<rect width="${N}" height="${V}" rx="${te}" ry="${te}" fill="${Q}" />`;let A="";if(K.subItems&&K.subItems.length>0)A=le(0,0,N,V,K);else if(a){const I=w?N/2:24,Z=w?"middle":"start",oe=K.colSpan===1||K.rowSpan===1,ce=K.type==="stat"?oe?32:64:oe?14:24,de=oe?10:14,ye="bold",Ue=oe?12:25,be=Da(K.title,Ue),gt=Da(K.content,Ue*1.5).slice(0,4);let et=32;if(K.type==="stat"||w){const we=be.length*ce+16+gt.length*de*1.2;et=V/2-we/2+ce*.2}const xt=ce*1.1;A+=`<text x="${I}" y="${et}" font-family="Arial, Helvetica, sans-serif" font-weight="${ye}" font-size="${ce}px" fill="${K.textColor}" text-anchor="${Z}" dominant-baseline="text-before-edge">`,be.forEach((we,rt)=>{A+=`<tspan x="${I}" dy="${rt===0?0:xt}">${we}</tspan>`}),A+="</text>";const an=oe?8:16,tt=et+be.length*xt+an,Rt=de*1.3;A+=`<text x="${I}" y="${tt}" font-family="Arial, Helvetica, sans-serif" font-size="${de}px" fill="${K.textColor}" opacity="0.9" text-anchor="${Z}" dominant-baseline="text-before-edge">`,gt.forEach((we,rt)=>{A+=`<tspan x="${I}" dy="${rt===0?0:Rt}">${we}</tspan>`}),A+="</text>"}X+=A+"</g>"});const ne=`<svg width="${i.width}px" height="${i.height}px" viewBox="0 0 ${i.width} ${i.height}" xmlns="http://www.w3.org/2000/svg">${X}</svg>`;return l?`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
${ne}`:ne};var C0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let A0,x0;function R0(){return{geminiUrl:A0,vertexUrl:x0}}function M0(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=R0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nn{}function se(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),l[m])}else for(const m of y)c(m,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function N0(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Cu(i,r,f,0,p)}}function Cu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Cu(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(m):T.push(E);c(p,T,v)}for(const m of g)delete p[m]}}else{const p=i;f in p&&Cu(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function w0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],D0(p)),t}function I0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],U0(p)),t}function D0(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>L0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function U0(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>G0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function L0(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],P0(l)),t}function G0(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],k0(l)),t}function H0(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function V0(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function q0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],z0(p)),t}function z0(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Om(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],B0(p)),t}function B0(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function P0(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],qu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function k0(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],qu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rh||(rh={}));var uh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(uh||(uh={}));var ch;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ch||(ch={}));var ct;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ct||(ct={}));var fh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fh||(fh={}));var dh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(dh||(dh={}));var ph;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ph||(ph={}));var hh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hh||(hh={}));var mh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(mh||(mh={}));var gh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(gh||(gh={}));var yh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(yh||(yh={}));var vh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(vh||(vh={}));var Sh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Sh||(Sh={}));var Th;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Th||(Th={}));var Eh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Eh||(Eh={}));var _h;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(_h||(_h={}));var Ch;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Ch||(Ch={}));var Ah;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ah||(Ah={}));var xh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xh||(xh={}));var Rh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Rh||(Rh={}));var Mh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mh||(Mh={}));var Pa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Pa||(Pa={}));var Nh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nh||(Nh={}));var bh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bh||(bh={}));var wh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wh||(wh={}));var Au;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Au||(Au={}));var Ih;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ih||(Ih={}));var Dh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Dh||(Dh={}));var Uh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Uh||(Uh={}));var Lh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Lh||(Lh={}));var Gh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Gh||(Gh={}));var Hh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Hh||(Hh={}));var Vh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Vh||(Vh={}));var qh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qh||(qh={}));var zh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zh||(zh={}));var Bh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bh||(Bh={}));var Ph;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ph||(Ph={}));var kh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(kh||(kh={}));var Oh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Oh||(Oh={}));var Fh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Fh||(Fh={}));var Yh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Yh||(Yh={}));var Jh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jh||(Jh={}));var Xh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Xh||(Xh={}));var Kh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Kh||(Kh={}));var Qh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Qh||(Qh={}));var Zh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zh||(Zh={}));var $h;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})($h||($h={}));var Wh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Wh||(Wh={}));var jh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(jh||(jh={}));var em;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(em||(em={}));var tm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tm||(tm={}));var nm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(nm||(nm={}));var im;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(im||(im={}));var om;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(om||(om={}));var lm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(lm||(lm={}));var co;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class xu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class dl{get text(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,D]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(D!==null||D!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class am{}class sm{}class O0{}class F0{}class Y0{}class J0{}class rm{}class um{}class cm{}class X0{}class ka{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ka;let r;const f=t;return l?r=I0(f):r=w0(f),Object.assign(a,r),a}}class fm{}class dm{}class pm{}class hm{}class K0{}class Q0{}class Z0{}class zu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new zu,f=q0(t);return Object.assign(a,f),a}}class $0{}class W0{}class j0{}class mm{}class eS{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class tS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Bu,f=Om(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Fm(i,t){const l=Me(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Ym(i){return Array.isArray(i)?i.map(t=>Oa(t)):[Oa(i)]}function Oa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Jm(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Xm(i){const t=Oa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Km(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>gm(t)):[gm(i)]}function Ru(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ym(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function vm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ft(i){if(i==null)throw new Error("ContentUnion is required");return Ru(i)?i:{role:"user",parts:Km(i)}}function Pu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=ft(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=ft(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>ft(l)):[ft(t)]}function Xt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ym(i)||vm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(i)]}const t=[],l=[],a=Ru(i[0]);for(const r of i){const f=Ru(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(ym(r)||vm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Km(l)}),t}function nS(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ct).includes(l[0].toUpperCase())?l[0].toUpperCase():ct.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ct).includes(a.toUpperCase())?a.toUpperCase():ct.TYPE_UNSPECIFIED})}}function po(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&nS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ct).includes(g.toUpperCase())?g.toUpperCase():ct.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=po(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(po(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=po(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function ku(i){return po(i)}function Ou(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Fu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function mo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=po(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=po(t.response));return i}function go(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function iS(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function bn(i,t){if(typeof t!="string")throw new Error("name must be a string");return iS(i,t,"cachedContents")}function Qm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ti(i){return qu(i)}function oS(i){return i!=null&&typeof i=="object"&&"name"in i}function lS(i){return i!=null&&typeof i=="object"&&"video"in i}function aS(i){return i!=null&&typeof i=="object"&&"uri"in i}function Zm(i){var t;let l;if(oS(i)&&(l=i.name),!(aS(i)&&(l=i.uri,l===void 0))&&!(lS(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function $m(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Wm(i){for(const t of["models","tunedModels","publisherModels"])if(sS(i,t))return i[t];return[]}function sS(i,t){return i!==null&&typeof i=="object"&&t in i}function rS(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function uS(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=rS(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function jm(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function cS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function eg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function yo(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function tg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>YS(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function dS(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function pS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function za(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],tg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&c(t,["dest"],fS(eg(m))),t}function Mu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],tg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],hS(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],dS(eg(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function hS(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function mS(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>FS(i,p))),c(l,["requests","requests"],f)}return l}function gS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function yS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function vS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function SS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function TS(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],ES(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function ES(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function ng(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>WS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function _S(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function CS(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],pS(cS(r))),l}function Sm(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],mS(i,jm(i,r)));const f=u(t,["config"]);return f!=null&&_S(f,l),l}function AS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],gS(jm(i,r)));const f=u(t,["config"]);return f!=null&&CS(f,l),l}function xS(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function RS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],US(i,r));const f=u(t,["config"]);return f!=null&&xS(f,l),l}function MS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function NS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function bS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function wS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function IS(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Pu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],DS(r,l)),N0(l,{"requests[].*":"requests[].request.*"})),l}function DS(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function US(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],IS(i,r)),l}function LS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function VS(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ng(ft(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const z=u(t,["seed"]);z!=null&&c(a,["seed"],z);const H=u(t,["responseMimeType"]);H!=null&&c(a,["responseMimeType"],H);const F=u(t,["responseSchema"]);F!=null&&c(a,["responseSchema"],ku(F));const ie=u(t,["responseJsonSchema"]);if(ie!=null&&c(a,["responseJsonSchema"],ie),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(t,["safetySettings"]);if(l!==void 0&&X!=null){let Y=X;Array.isArray(Y)&&(Y=Y.map($=>jS($))),c(l,["safetySettings"],Y)}const le=u(t,["tools"]);if(l!==void 0&&le!=null){let Y=go(le);Array.isArray(Y)&&(Y=Y.map($=>tT(mo($)))),c(l,["tools"],Y)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&c(l,["toolConfig"],eT(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);l!==void 0&&K!=null&&c(l,["cachedContent"],bn(i,K));const W=u(t,["responseModalities"]);W!=null&&c(a,["responseModalities"],W);const he=u(t,["mediaResolution"]);he!=null&&c(a,["mediaResolution"],he);const ae=u(t,["speechConfig"]);if(ae!=null&&c(a,["speechConfig"],Ou(ae)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=u(t,["thinkingConfig"]);j!=null&&c(a,["thinkingConfig"],j);const k=u(t,["imageConfig"]);k!=null&&c(a,["imageConfig"],OS(k));const O=u(t,["enableEnhancedCivicAnswers"]);return O!=null&&c(a,["enableEnhancedCivicAnswers"],O),a}function qS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>TS(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function zS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function BS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function PS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function kS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function OS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function FS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Xt(r);Array.isArray(g)&&(g=g.map(y=>ng(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],VS(i,p,u(l,["request"],{}))),l}function YS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],qS(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function JS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function XS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function KS(i){const t={},l=u(i,["config"]);return l!=null&&JS(l,t),t}function QS(i){const t={},l=u(i,["config"]);return l!=null&&XS(l,t),t}function ZS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>za(p))),c(t,["batchJobs"],f)}return t}function $S(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Mu(p))),c(t,["batchJobs"],f)}return t}function WS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],LS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],GS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],yS(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function jS(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function eT(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],HS(a)),t}function tT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],PS(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],kS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Mn||(Mn={}));class Ci{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nT extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ci(Mn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Sm(this.apiClient,t),a=l._url,r=se("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}m.push(T)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=AS(this.apiClient,t);return g=se("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const m=Sm(this.apiClient,t);return g=se("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>za(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RS(this.apiClient,t);return f=se("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>za(y))}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=BS(this.apiClient,t);return g=se("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const m=zS(this.apiClient,t);return g=se("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>za(v))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=SS(this.apiClient,t);p=se("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=vS(this.apiClient,t);p=se("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=QS(t);return g=se("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=$S(v),E=new mm;return Object.assign(E,T),E})}else{const m=KS(t);return g=se("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ZS(v),E=new mm;return Object.assign(E,T),E})}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=NS(this.apiClient,t);return g=se("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>wS(v))}else{const m=MS(this.apiClient,t);return g=se("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>bS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Tm(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>RT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function oT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Xt(p);Array.isArray(v)&&(v=v.map(T=>Tm(T))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Tm(ft(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>NT(T))),c(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],MT(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function lT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=Xt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ft(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>bT(E))),c(t,["tools"],T)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function aT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Fm(i,a));const r=u(t,["config"]);return r!=null&&oT(r,l),l}function sT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Fm(i,a));const r=u(t,["config"]);return r!=null&&lT(r,l),l}function rT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function uT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function cT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function fT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function dT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function pT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function mT(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function gT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function yT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(i,a)),l}function vT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function ST(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function TT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function ET(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function _T(i){const t={},l=u(i,["config"]);return l!=null&&TT(l,t),t}function CT(i){const t={},l=u(i,["config"]);return l!=null&&ET(l,t),t}function AT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function xT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function RT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],dT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],pT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],iT(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function MT(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],hT(a)),t}function NT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],vT(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],ST(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function bT(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>mT(E))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function wT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function IT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function DT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],bn(i,a));const r=u(t,["config"]);return r!=null&&wT(r,l),l}function UT(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],bn(i,a));const r=u(t,["config"]);return r!=null&&IT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LT extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ci(Mn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=sT(this.apiClient,t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=aT(this.apiClient,t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=yT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=gT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=uT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=fT(v),E=new pm;return Object.assign(E,T),E})}else{const m=rT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=cT(v),E=new pm;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=UT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=DT(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=CT(t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=xT(v),E=new hm;return Object.assign(E,T),E})}else{const m=_T(t);return g=se("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=AT(v),E=new hm;return Object.assign(E,T),E})}}}function Fa(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Em(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(i){return this instanceof me?(this.v=i,this):new me(i)}function Wt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(D){return Promise.resolve(D).then(C,T)}}function g(C,D){a[C]&&(r[C]=function(z){return new Promise(function(H,F){f.push([C,z,H,F])>1||y(C,z)})},D&&(r[C]=D(r[C])))}function y(C,D){try{m(a[C](D))}catch(z){E(f[0][3],z)}}function m(C){C.value instanceof me?Promise.resolve(C.value.v).then(v,T):E(f[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function E(C,D){C(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function jt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Em=="function"?Em(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:ig(l)}function ig(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function HT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _m(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!ig(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class VT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new qT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qT{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),HT(f)}async sendMessage(t){var l;await this.sendPromise;const a=ft(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,m=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=ft(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?_m(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Wt(this,arguments,function*(){var r,f,p,g,y,m;const v=[];try{for(var T=!0,E=jt(t),C;C=yield me(E.next()),r=C.done,!r;T=!0){g=C.value,T=!1;const D=g;if(GT(D)){const z=(m=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;z!==void 0&&v.push(z)}yield yield me(D)}}catch(D){f={error:D}}finally{try{!T&&!r&&(p=E.return)&&(yield me(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(..._m(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zT(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function BT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function PT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],Zm(l)),t}function kT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function OT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],Zm(l)),t}function FT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function YT(i){const t={},l=u(i,["config"]);return l!=null&&FT(l,t),t}function JT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XT extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ci(Mn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YT(t);return f=se("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=JT(y),v=new $0;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zT(t);return f=se("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=BT(y),v=new W0;return Object.assign(v,m),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OT(t);return f=se("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PT(t);return f=se("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=kT(y),v=new j0;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ba(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function KT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>cE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function QT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ZT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $T(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function WT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const z=u(i,["responseSchema"]);z!=null&&c(t,["responseSchema"],z);const H=u(i,["routingConfig"]);H!=null&&c(t,["routingConfig"],H);const F=u(i,["seed"]);F!=null&&c(t,["seed"],F);const ie=u(i,["speechConfig"]);ie!=null&&c(t,["speechConfig"],ie);const X=u(i,["stopSequences"]);X!=null&&c(t,["stopSequences"],X);const le=u(i,["temperature"]);le!=null&&c(t,["temperature"],le);const ne=u(i,["thinkingConfig"]);ne!=null&&c(t,["thinkingConfig"],ne);const K=u(i,["topK"]);K!=null&&c(t,["topK"],K);const W=u(i,["topP"]);if(W!=null&&c(t,["topP"],W),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function jT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function eE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function tE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Fu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],KT(ft(D)));const z=u(i,["tools"]);if(t!==void 0&&z!=null){let K=go(z);Array.isArray(K)&&(K=K.map(W=>dE(mo(W)))),c(t,["setup","tools"],K)}const H=u(i,["sessionResumption"]);t!==void 0&&H!=null&&c(t,["setup","sessionResumption"],fE(H));const F=u(i,["inputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","inputAudioTranscription"],F);const ie=u(i,["outputAudioTranscription"]);t!==void 0&&ie!=null&&c(t,["setup","outputAudioTranscription"],ie);const X=u(i,["realtimeInputConfig"]);t!==void 0&&X!=null&&c(t,["setup","realtimeInputConfig"],X);const le=u(i,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function nE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],WT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Fu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],ft(D));const z=u(i,["tools"]);if(t!==void 0&&z!=null){let W=go(z);Array.isArray(W)&&(W=W.map(he=>pE(mo(he)))),c(t,["setup","tools"],W)}const H=u(i,["sessionResumption"]);t!==void 0&&H!=null&&c(t,["setup","sessionResumption"],H);const F=u(i,["inputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","inputAudioTranscription"],F);const ie=u(i,["outputAudioTranscription"]);t!==void 0&&ie!=null&&c(t,["setup","outputAudioTranscription"],ie);const X=u(i,["realtimeInputConfig"]);t!==void 0&&X!=null&&c(t,["setup","realtimeInputConfig"],X);const le=u(i,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const ne=u(i,["proactivity"]);t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne);const K=u(i,["explicitVadSignal"]);return t!==void 0&&K!=null&&c(t,["setup","explicitVadSignal"],K),l}function iE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],tE(r,l)),l}function oE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],nE(r,l)),l}function lE(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function aE(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function sE(i){const t={},l=u(i,["media"]);if(l!=null){let m=Ym(l);Array.isArray(m)&&(m=m.map(v=>Ba(v))),c(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ba(Xm(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Ba(Jm(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function rE(i){const t={},l=u(i,["media"]);if(l!=null){let m=Ym(l);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Xm(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Jm(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function uE(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],hE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);m!=null&&c(t,["voiceActivityDetectionSignal"],m);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],mE(v)),t}function cE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],QT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],ZT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ba(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function fE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function dE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],jT(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],eE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function pE(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>$T(E))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function hE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["promptTokensDetails"],C)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["responseTokensDetails"],C)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function mE(i){const t={},l=u(i,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],vE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function vE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function SE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let f=Xt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function TE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function EE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],_E(a)),t}function _E(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ka(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>I_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function CE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function AE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function xE(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ft(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>sg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],g_(f)),l}function RE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Xt(r);Array.isArray(p)&&(p=p.map(g=>Ka(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&AE(f),l}function ME(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Xt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&xE(f,l),l}function NE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function bE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function wE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function IE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function DE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function UE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function LE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const z=u(i,["outputCompressionQuality"]);t!==void 0&&z!=null&&c(t,["parameters","outputOptions","compressionQuality"],z);const H=u(i,["addWatermark"]);t!==void 0&&H!=null&&c(t,["parameters","addWatermark"],H);const F=u(i,["labels"]);t!==void 0&&F!=null&&c(t,["labels"],F);const ie=u(i,["editMode"]);t!==void 0&&ie!=null&&c(t,["parameters","editMode"],ie);const X=u(i,["baseSteps"]);return t!==void 0&&X!=null&&c(t,["parameters","editConfig","baseSteps"],X),l}function GE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>V_(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&LE(p,l),l}function HE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Qa(f))),c(t,["generatedImages"],r)}return t}function VE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function qE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function zE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let g=Pu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&VE(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Me(i,p)),l}function BE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Pu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&qE(f,l),l}function PE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function kE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>EE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function OE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function FE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function YE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JE(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function XE(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function KE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ka(ft(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const z=u(t,["seed"]);z!=null&&c(a,["seed"],z);const H=u(t,["responseMimeType"]);H!=null&&c(a,["responseMimeType"],H);const F=u(t,["responseSchema"]);F!=null&&c(a,["responseSchema"],ku(F));const ie=u(t,["responseJsonSchema"]);if(ie!=null&&c(a,["responseJsonSchema"],ie),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(t,["safetySettings"]);if(l!==void 0&&X!=null){let Y=X;Array.isArray(Y)&&(Y=Y.map($=>q_($))),c(l,["safetySettings"],Y)}const le=u(t,["tools"]);if(l!==void 0&&le!=null){let Y=go(le);Array.isArray(Y)&&(Y=Y.map($=>Y_(mo($)))),c(l,["tools"],Y)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&c(l,["toolConfig"],F_(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);l!==void 0&&K!=null&&c(l,["cachedContent"],bn(i,K));const W=u(t,["responseModalities"]);W!=null&&c(a,["responseModalities"],W);const he=u(t,["mediaResolution"]);he!=null&&c(a,["mediaResolution"],he);const ae=u(t,["speechConfig"]);if(ae!=null&&c(a,["speechConfig"],Ou(ae)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=u(t,["thinkingConfig"]);j!=null&&c(a,["thinkingConfig"],j);const k=u(t,["imageConfig"]);k!=null&&c(a,["imageConfig"],E_(k));const O=u(t,["enableEnhancedCivicAnswers"]);return O!=null&&c(a,["enableEnhancedCivicAnswers"],O),a}function QE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ft(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const z=u(t,["seed"]);z!=null&&c(a,["seed"],z);const H=u(t,["responseMimeType"]);H!=null&&c(a,["responseMimeType"],H);const F=u(t,["responseSchema"]);F!=null&&c(a,["responseSchema"],ku(F));const ie=u(t,["responseJsonSchema"]);ie!=null&&c(a,["responseJsonSchema"],ie);const X=u(t,["routingConfig"]);X!=null&&c(a,["routingConfig"],X);const le=u(t,["modelSelectionConfig"]);le!=null&&c(a,["modelConfig"],le);const ne=u(t,["safetySettings"]);if(l!==void 0&&ne!=null){let N=ne;Array.isArray(N)&&(N=N.map(V=>V)),c(l,["safetySettings"],N)}const K=u(t,["tools"]);if(l!==void 0&&K!=null){let N=go(K);Array.isArray(N)&&(N=N.map(V=>sg(mo(V)))),c(l,["tools"],N)}const W=u(t,["toolConfig"]);l!==void 0&&W!=null&&c(l,["toolConfig"],W);const he=u(t,["labels"]);l!==void 0&&he!=null&&c(l,["labels"],he);const ae=u(t,["cachedContent"]);l!==void 0&&ae!=null&&c(l,["cachedContent"],bn(i,ae));const j=u(t,["responseModalities"]);j!=null&&c(a,["responseModalities"],j);const k=u(t,["mediaResolution"]);k!=null&&c(a,["mediaResolution"],k);const O=u(t,["speechConfig"]);O!=null&&c(a,["speechConfig"],Ou(O));const Y=u(t,["audioTimestamp"]);Y!=null&&c(a,["audioTimestamp"],Y);const $=u(t,["thinkingConfig"]);$!=null&&c(a,["thinkingConfig"],$);const ee=u(t,["imageConfig"]);if(ee!=null&&c(a,["imageConfig"],__(ee)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Cm(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Xt(r);Array.isArray(p)&&(p=p.map(g=>Ka(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],KE(i,f,l)),l}function Am(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["contents"]);if(r!=null){let p=Xt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],QE(i,f,l)),l}function xm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>yE(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Rm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function ZE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function $E(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const D=u(i,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const z=u(i,["outputCompressionQuality"]);t!==void 0&&z!=null&&c(t,["parameters","outputOptions","compressionQuality"],z);const H=u(i,["addWatermark"]);t!==void 0&&H!=null&&c(t,["parameters","addWatermark"],H);const F=u(i,["labels"]);t!==void 0&&F!=null&&c(t,["labels"],F);const ie=u(i,["imageSize"]);t!==void 0&&ie!=null&&c(t,["parameters","sampleImageSize"],ie);const X=u(i,["enhancePrompt"]);return t!==void 0&&X!=null&&c(t,["parameters","enhancePrompt"],X),l}function WE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&ZE(f,l),l}function jE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&$E(f,l),l}function e_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>d_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],lg(r)),t}function t_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Qa(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ag(r)),t}function n_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Za(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>o1(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function i_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const D=u(i,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const z=u(i,["lastFrame"]);t!==void 0&&z!=null&&c(t,["instances[0]","lastFrame"],en(z));const H=u(i,["referenceImages"]);if(t!==void 0&&H!=null){let X=H;Array.isArray(X)&&(X=X.map(le=>l1(le))),c(t,["instances[0]","referenceImages"],X)}const F=u(i,["mask"]);t!==void 0&&F!=null&&c(t,["instances[0]","mask"],i1(F));const ie=u(i,["compressionQuality"]);return t!==void 0&&ie!=null&&c(t,["parameters","compressionQuality"],ie),l}function o_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],r_(p)),t}function l_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],u_(p)),t}function a_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Za(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],rg(p));const g=u(t,["source"]);g!=null&&c_(g,l);const y=u(t,["config"]);return y!=null&&n_(y,l),l}function s_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],en(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],ug(p));const g=u(t,["source"]);g!=null&&f_(g,l);const y=u(t,["config"]);return y!=null&&i_(y,l),l}function r_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>h_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function u_(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>m_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function c_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Za(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],rg(f)),l}function f_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],en(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],ug(f)),l}function d_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],C_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],lg(r)),t}function Qa(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],og(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],ag(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function p_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],og(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function h_(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],t1(l)),t}function m_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],n1(l)),t}function g_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const D=u(i,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const z=u(i,["responseSchema"]);z!=null&&c(t,["responseSchema"],z);const H=u(i,["routingConfig"]);H!=null&&c(t,["routingConfig"],H);const F=u(i,["seed"]);F!=null&&c(t,["seed"],F);const ie=u(i,["speechConfig"]);ie!=null&&c(t,["speechConfig"],ie);const X=u(i,["stopSequences"]);X!=null&&c(t,["stopSequences"],X);const le=u(i,["temperature"]);le!=null&&c(t,["temperature"],le);const ne=u(i,["thinkingConfig"]);ne!=null&&c(t,["thinkingConfig"],ne);const K=u(i,["topK"]);K!=null&&c(t,["topK"],K);const W=u(i,["topP"]);if(W!=null&&c(t,["topP"],W),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function y_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function v_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Me(i,a)),l}function S_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function T_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function E_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function __(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function C_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],ti(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function og(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],ti(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Za(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],ti(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function en(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],ti(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function A_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],$m(i,g)),a}function x_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],$m(i,g)),a}function R_(i,t){const l={},a=u(t,["config"]);return a!=null&&A_(i,a,l),l}function M_(i,t){const l={},a=u(t,["config"]);return a!=null&&x_(i,a,l),l}function N_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Wm(r);Array.isArray(f)&&(f=f.map(p=>Nu(p))),c(t,["models"],f)}return t}function b_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Wm(r);Array.isArray(f)&&(f=f.map(p=>bu(p))),c(t,["models"],f)}return t}function w_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Nu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],J_(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(i,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const D=u(i,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function bu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>OE(E))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],X_(y));const m=u(i,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function I_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],FE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],YE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],gE(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function D_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],en(l)),t}function U_(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),l}function L_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&H_(r,l);const f=u(t,["config"]);return f!=null&&U_(f,l),l}function G_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Qa(r))),c(t,["generatedImages"],a)}return t}function H_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],en(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>D_(g))),c(t,["instances[0]","productImages"],p)}return l}function V_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],en(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],w_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],CE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function lg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function ag(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function q_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function z_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],en(l)),t}function B_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function P_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["source"]);r!=null&&O_(r,l);const f=u(t,["config"]);return f!=null&&B_(f,l),l}function k_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>p_(r))),c(t,["generatedMasks"],a)}return t}function O_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],en(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],z_(f)),l}function F_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],JE(a)),t}function Y_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],S_(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],T_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function sg(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>XE(E))),c(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function J_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function X_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function K_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function Q_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function Z_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Me(i,a));const r=u(t,["config"]);return r!=null&&K_(r,l),l}function $_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&Q_(r,l),l}function W_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),l}function j_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Me(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],en(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&W_(p,l),l}function e1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Qa(f))),c(t,["generatedImages"],r)}return t}function t1(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],ti(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function n1(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],ti(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function i1(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],en(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function o1(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Za(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function l1(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],en(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function rg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],ti(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function ug(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],ti(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function s1(i){const t={},l=u(i,["config"]);return l!=null&&a1(l,t),t}function r1(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function u1(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&r1(a,t),t}function c1(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function f1(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function d1(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],h1(p)),t}function p1(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&f1(r,t),t}function h1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function m1(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function g1(i){const t={},l=u(i,["config"]);return l!=null&&m1(l,t),t}function y1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function cg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function v1(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&cg(a,t),t}function S1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T1="Content-Type",E1="X-Server-Timeout",_1="User-Agent",wu="x-goog-api-client",C1="1.36.0",A1=`google-genai-sdk/${C1}`,x1="v1beta1",R1="v1beta";class M1{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:x1,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:R1,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&N1(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Mm(r),new xu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Mm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Wt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield me(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const D=JSON.parse(T);if("error"in D){const z=JSON.parse(JSON.stringify(D.error)),H=z.status,F=z.code,ie=`got status: ${H}. ${JSON.stringify(D)}`;if(F>=400&&F<600)throw new Xa({message:ie,status:F})}}catch(D){if(D.name==="ApiError")throw D}p+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const H of y){const F=p.indexOf(H);F!==-1&&(E===-1||F<E)&&(E=F,C=H.length)}if(E===-1)break;const D=p.substring(0,E);p=p.substring(E+C);const z=D.trim();if(z.startsWith(g)){const H=z.substring(g.length).trim();try{const F=new Response(H,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield me(new xu(F))}catch(F){throw new Error(`exception parsing stream chunk ${H}. ${F}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=A1+" "+this.clientOptions.userAgentExtra;return t[_1]=l,t[wu]=l,t[T1]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(E1,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=se("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l==null?void 0:l.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),T={};a!=null&&cg(a,T);const E=await this.fetchUploadUrl(m,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Mm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Xa({message:r,status:l}):new Error(r)}}function N1(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b1="mcp_used/unknown";let w1=!1;function fg(i){for(const t of i)if(I1(t)||typeof t=="object"&&"inputSchema"in t)return!0;return w1}function dg(i){var t;const l=(t=i[wu])!==null&&t!==void 0?t:"";i[wu]=(l+` ${b1}`).trimStart()}function I1(i){return i!==null&&typeof i=="object"&&i instanceof Yu}function D1(i){return Wt(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield me(l.listTools({cursor:r}));for(const g of p.tools)yield yield me(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Yu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Yu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,jt(D1(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),uS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function U1(i,t,l){const a=new tS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class L1{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=V1(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(X=>{m=X}),T=t.callbacks,E=function(){m({})},C=this.apiClient,D={onopen:E,onmessage:X=>{U1(C,T.onmessage,X)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(X){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(X){}},z=this.webSocketFactory.create(y,H1(p),D);z.connect(),await v;const ie={setup:{model:Me(this.apiClient,t.model)}};return z.send(JSON.stringify(ie)),new G1(z,this.apiClient)}}class G1{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=aE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=lE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function H1(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function V1(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function z1(i,t,l){const a=new eS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=uE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class B1{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new L1(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&fg(t.config.tools)&&dg(T);const E=F1(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const ae=this.apiClient.getApiKey();let j="BidiGenerateContent",k="key";ae!=null&&ae.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",k="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${j}?${k}=${ae}`}let C=()=>{};const D=new Promise(ae=>{C=ae}),z=t.callbacks,H=function(){var ae;(ae=z==null?void 0:z.onopen)===null||ae===void 0||ae.call(z),C({})},F=this.apiClient,ie={onopen:H,onmessage:ae=>{z1(F,z.onmessage,ae)},onerror:(l=z==null?void 0:z.onerror)!==null&&l!==void 0?l:function(ae){},onclose:(a=z==null?void 0:z.onclose)!==null&&a!==void 0?a:function(ae){}},X=this.webSocketFactory.create(v,O1(E),ie);X.connect(),await D;let le=Me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const ae=this.apiClient.getProject(),j=this.apiClient.getLocation();le=`projects/${ae}/locations/${j}/`+le}let ne={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Pa.AUDIO]}:t.config.responseModalities=[Pa.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],W=[];for(const ae of K)if(this.isCallableTool(ae)){const j=ae;W.push(await j.tool())}else W.push(ae);W.length>0&&(t.config.tools=W);const he={model:le,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ne=oE(this.apiClient,he):ne=iE(this.apiClient,he),delete ne.config,X.send(JSON.stringify(ne)),new k1(X,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const P1={turnComplete:!0};class k1{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Xt(l.turns),t.isVertexAI()||(a=a.map(r=>Ka(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(q1)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},P1),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:rE(t)}:l={realtimeInput:sE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function O1(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function F1(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nm=10;function bm(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(ho(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ho(i){return"callTool"in i&&typeof i.callTool=="function"}function Y1(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>ho(r)))!==null&&a!==void 0?a:!1}function wm(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(ho(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Im(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J1 extends Nn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!Y1(l)||bm(l.config))return await this.generateContentInternal(y);const m=wm(l);if(m.length>0){const z=m.map(H=>`tools[${H}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${z}.`)}let v,T;const E=Xt(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Nm;let D=0;for(;D<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const z=v.candidates[0].content,H=[];for(const F of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ho(F)){const X=await F.callTool(v.functionCalls);H.push(...X)}D++,T={role:"user",parts:H},y.contents=Xt(y.contents),y.contents.push(z),y.contents.push(T),Im(y.config)&&(E.push(z),E.push(T))}return Im(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),bm(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=wm(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ci(Mn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>ho(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&fg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),dg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(ho(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Nm;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,T){return Wt(this,arguments,function*(){for(var E,C,D,z,H,F;g<f;){p&&(g++,p=!1);const ne=yield me(m.processParamsMaybeAddMcpUsage(T)),K=yield me(m.generateContentStreamInternal(ne)),W=[],he=[];try{for(var ie=!0,X=(C=void 0,jt(K)),le;le=yield me(X.next()),E=le.done,!E;ie=!0){z=le.value,ie=!1;const ae=z;if(yield yield me(ae),ae.candidates&&(!((H=ae.candidates[0])===null||H===void 0)&&H.content)){he.push(ae.candidates[0].content);for(const j of(F=ae.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(g<f&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(j.functionCall.name)){const k=yield me(v.get(j.functionCall.name).callTool([j.functionCall]));W.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(ae){C={error:ae}}finally{try{!ie&&!E&&(D=X.return)&&(yield me(D.call(X)))}finally{if(C)throw C.error}}if(W.length>0){p=!0;const ae=new dl;ae.candidates=[{content:{role:"user",parts:W}}],yield yield me(ae);const j=[];j.push(...he),j.push({role:"user",parts:W});const k=Xt(T.contents).concat(j);T.contents=k}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Am(this.apiClient,t);return g=se("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Rm(v),E=new dl;return Object.assign(E,T),E})}else{const m=Cm(this.apiClient,t);return g=se("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=xm(v),E=new dl;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Am(this.apiClient,t);return g=se("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Wt(this,arguments,function*(){var E,C,D,z;try{for(var H=!0,F=jt(T),ie;ie=yield me(F.next()),E=ie.done,!E;H=!0){z=ie.value,H=!1;const X=z,le=Rm(yield me(X.json()));le.sdkHttpResponse={headers:X.headers};const ne=new dl;Object.assign(ne,le),yield yield me(ne)}}catch(X){C={error:X}}finally{try{!H&&!E&&(D=F.return)&&(yield me(D.call(F)))}finally{if(C)throw C.error}}})})}else{const m=Cm(this.apiClient,t);return g=se("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Wt(this,arguments,function*(){var E,C,D,z;try{for(var H=!0,F=jt(T),ie;ie=yield me(F.next()),E=ie.done,!E;H=!0){z=ie.value,H=!1;const X=z,le=xm(yield me(X.json()));le.sdkHttpResponse={headers:X.headers};const ne=new dl;Object.assign(ne,le),yield yield me(ne)}}catch(X){C={error:X}}finally{try{!H&&!E&&(D=F.return)&&(yield me(D.call(F)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=BE(this.apiClient,t);return g=se("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=kE(v),E=new am;return Object.assign(E,T),E})}else{const m=zE(this.apiClient,t);return g=se("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=PE(v),E=new am;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=jE(this.apiClient,t);return g=se("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=t_(v),E=new sm;return Object.assign(E,T),E})}else{const m=WE(this.apiClient,t);return g=se("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=e_(v),E=new sm;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=GE(this.apiClient,t);return f=se("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=HE(y),v=new O0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=j_(this.apiClient,t);return f=se("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=e1(y),v=new F0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=L_(this.apiClient,t);return f=se("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=G_(y),v=new Y0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=P_(this.apiClient,t);return f=se("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=k_(y),v=new J0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=v_(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}else{const m=y_(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=M_(this.apiClient,t);return g=se("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=b_(v),E=new rm;return Object.assign(E,T),E})}else{const m=R_(this.apiClient,t);return g=se("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=N_(v),E=new rm;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=$_(this.apiClient,t);return g=se("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>bu(v))}else{const m=Z_(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=IE(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=UE(v),E=new um;return Object.assign(E,T),E})}else{const m=wE(this.apiClient,t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=DE(v),E=new um;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=ME(this.apiClient,t);return g=se("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=bE(v),E=new cm;return Object.assign(E,T),E})}else{const m=RE(this.apiClient,t);return g=se("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=NE(v),E=new cm;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=SE(this.apiClient,t);return f=se("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=TE(y),v=new X0;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=s_(this.apiClient,t);return g=se("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=l_(v),E=new ka;return Object.assign(E,T),E})}else{const m=a_(this.apiClient,t);return g=se("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=o_(v),E=new ka;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X1 extends Nn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=V0(t);return g=se("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const m=H0(t);return g=se("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=b0(t);return f=se("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K1(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Q1(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>oC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function Z1(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],iC(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function $1(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],Z1(i,a,l)),l}function W1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function j1(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function tC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function nC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Fu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(i,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],Q1(ft(D)));const z=u(i,["tools"]);if(t!==void 0&&z!=null){let K=go(z);Array.isArray(K)&&(K=K.map(W=>aC(mo(W)))),c(t,["setup","tools"],K)}const H=u(i,["sessionResumption"]);t!==void 0&&H!=null&&c(t,["setup","sessionResumption"],lC(H));const F=u(i,["inputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","inputAudioTranscription"],F);const ie=u(i,["outputAudioTranscription"]);t!==void 0&&ie!=null&&c(t,["setup","outputAudioTranscription"],ie);const X=u(i,["realtimeInputConfig"]);t!==void 0&&X!=null&&c(t,["setup","realtimeInputConfig"],X);const le=u(i,["contextWindowCompression"]);t!==void 0&&le!=null&&c(t,["setup","contextWindowCompression"],le);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function iC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Me(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],nC(r,l)),l}function oC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],W1(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],j1(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],K1(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function lC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function aC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],eC(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],tC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function rC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=sC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class uC extends Nn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=$1(this.apiClient,t);f=se("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=rC(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function fC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&cC(a,t),t}function dC(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function pC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function hC(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&pC(a,t),t}function mC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC extends Nn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ci(Mn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dC(t);return f=se("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fC(t);r=se("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hC(t);return f=se("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=mC(y),v=new K0;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yC extends Nn{constructor(t,l=new gC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Ci(Mn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=s1(t);return f=se("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=c1(t);return f=se("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=u1(t);r=se("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=g1(t);return f=se("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=y1(y),v=new Q0;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=v1(t);return f=se("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=S1(y),v=new Z0;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=p1(t);return f=se("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=d1(y),v=new zu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return pg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const vC=()=>pg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Du=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kt extends Error{}class mt extends Kt{constructor(t,l,a,r){super(`${mt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new $a({message:a,cause:Du(l)});const f=l;return t===400?new mg(t,f,a,r):t===401?new gg(t,f,a,r):t===403?new yg(t,f,a,r):t===404?new vg(t,f,a,r):t===409?new Sg(t,f,a,r):t===422?new Tg(t,f,a,r):t===429?new Eg(t,f,a,r):t>=500?new _g(t,f,a,r):new mt(t,f,a,r)}}class Uu extends mt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class $a extends mt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class hg extends $a{constructor({message:t}={}){super({message:t??"Request timed out."})}}class mg extends mt{}class gg extends mt{}class yg extends mt{}class vg extends mt{}class Sg extends mt{}class Tg extends mt{}class Eg extends mt{}class _g extends mt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SC=/^[a-z][a-z0-9+.-]*:/i,TC=i=>SC.test(i);let Lu=i=>(Lu=Array.isArray,Lu(i));const EC=Lu;let _C=EC;const Dm=_C;function CC(i){if(!i)return!0;for(const t in i)return!1;return!0}function AC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const xC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Kt(`${i} must be an integer`);if(t<0)throw new Kt(`${i} must be a positive integer`);return t},RC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ro="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const bC=()=>{var i,t,l,a,r;const f=NC();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":Lm(Deno.build.os),"X-Stainless-Arch":Um(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":Lm((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Um((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=wC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Um=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Lm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ua;const IC=()=>Ua??(Ua=bC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function UC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Cg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Ag(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function LC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Eu(i,t,l){return xg(),new File(i,t??"unknown_file",l)}function HC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const VC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",qC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Rg(i),zC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function BC(i,t,l){if(xg(),i=await i,qC(i))return i instanceof File?i:Eu([await i.arrayBuffer()],i.name);if(zC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Eu(await Gu(r),t,l)}const a=await Gu(i);if(t||(t=HC(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Eu(a,t,l)}async function Gu(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Rg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(VC(i))try{for(var g=!0,y=jt(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;p.push(...await Gu(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${PC(i)}`)}return p}function PC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg{constructor(t){this._client=t}}Mg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ng(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Gm=Object.freeze(Object.create(null)),kC=(i=Ng)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,T,E)=>{var C,D,z;/[?#]/.test(T)&&(r=!0);const H=a[E];let F=(r?encodeURIComponent:i)(""+H);return E!==a.length&&(H==null||typeof H=="object"&&H.toString===((z=Object.getPrototypeOf((D=Object.getPrototypeOf((C=H.hasOwnProperty)!==null&&C!==void 0?C:Gm))!==null&&D!==void 0?D:Gm))===null||z===void 0?void 0:z.toString))&&(F=H+"",f.push({start:v.length+T.length,length:F.length,error:`Value of type ${Object.prototype.toString.call(H).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":F)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,C)=>{const D=" ".repeat(C.start-v),z="^".repeat(C.length);return v=C.start+C.length,E+D+z},"");throw new Kt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),La=kC(Ng);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bg extends Mg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=Fa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(La`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(La`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(La`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=Fa(f,["api_version"]);return this._client.get(La`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}bg._key=Object.freeze(["interactions"]);class wg extends bg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Ga;function Ju(i){let t;return(Ga??(t=new globalThis.TextEncoder,Ga=t.encode.bind(t)))(i)}let Ha;function Hm(i){let t;return(Ha??(t=new globalThis.TextDecoder,Ha=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ju(t):t;this.buffer=OC([this.buffer,l]);const a=[];let r;for(;(r=FC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Hm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Hm(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Wa.NEWLINE_CHARS=new Set([`
`,"\r"]);Wa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function FC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function YC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ya={off:0,error:200,warn:300,info:400,debug:500},Vm=(i,t,l)=>{if(i){if(AC(Ya,i))return i;ht(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ya))}`)}};function hl(){}function Va(i,t,l){return!t||Ya[i]>Ya[l]?hl:t[i].bind(t)}const JC={error:hl,warn:hl,info:hl,debug:hl};let qm=new WeakMap;function ht(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return JC;const r=qm.get(l);if(r&&r[0]===a)return r[1];const f={error:Va("error",l,a),warn:Va("warn",l,a),info:Va("info",l,a),debug:Va("debug",l,a)};return qm.set(l,[a,f]),f}const _i=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?ht(a):console;function p(){return Wt(this,arguments,function*(){var y,m,v,T;if(r)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,D=jt(XC(t,l)),z;z=yield me(D.next()),y=z.done,!y;C=!0){T=z.value,C=!1;const H=T;if(!E)if(H.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield me(JSON.parse(H.data))}catch(F){throw f.error("Could not parse message into JSON:",H.data),f.error("From chunk:",H.raw),F}}}catch(H){m={error:H}}finally{try{!C&&!y&&(v=D.return)&&(yield me(v.call(D)))}finally{if(m)throw m.error}}E=!0}catch(H){if(Iu(H))return yield me(void 0);throw H}finally{E||l.abort()}})}return new fo(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Wt(this,arguments,function*(){var y,m,v,T;const E=new Wa,C=Ag(t);try{for(var D=!0,z=jt(C),H;H=yield me(z.next()),y=H.done,!y;D=!0){T=H.value,D=!1;const F=T;for(const ie of E.decode(F))yield yield me(ie)}}catch(F){m={error:F}}finally{try{!D&&!y&&(v=z.return)&&(yield me(v.call(z)))}finally{if(m)throw m.error}}for(const F of E.flush())yield yield me(F)})}function p(){return Wt(this,arguments,function*(){var y,m,v,T;if(r)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,D=jt(f()),z;z=yield me(D.next()),y=z.done,!y;C=!0){T=z.value,C=!1;const H=T;E||H&&(yield yield me(JSON.parse(H)))}}catch(H){m={error:H}}finally{try{!C&&!y&&(v=D.return)&&(yield me(v.call(D)))}finally{if(m)throw m.error}}E=!0}catch(H){if(Iu(H))return yield me(void 0);throw H}finally{E||l.abort()}})}return new fo(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new fo(()=>r(t),this.controller,this.client),new fo(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Cg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=Ju(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function XC(i,t){return Wt(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Kt("Attempted to iterate over a response with no body");const g=new QC,y=new Wa,m=Ag(i.body);try{for(var v=!0,T=jt(KC(m)),E;E=yield me(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const C=p;for(const D of y.decode(C)){const z=g.decode(D);z&&(yield yield me(z))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=T.return)&&(yield me(f.call(T)))}finally{if(r)throw r.error}}for(const C of y.flush()){const D=g.decode(C);D&&(yield yield me(D))}})}function KC(i){return Wt(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=jt(i),m;m=yield me(y.next()),l=m.done,!l;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ju(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let C;for(;(C=YC(p))!==-1;)yield yield me(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield me(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield me(p))})}class QC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=ZC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function ZC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $C(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return ht(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):fo.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await l.json():await l.text()})();return ht(i).debug(`[${a}] response parsed`,_i({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xu extends Promise{constructor(t,l,a=$C){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Xu(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=Symbol("brand.privateNullableHeaders");function*WC(i){if(!i)return;if(Ig in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Dm(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Dm(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const pl=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of WC(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[Ig]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _u=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=C0)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dg;class ja{constructor(t){var l,a,r,f,p,g,y,{baseURL:m=_u("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=_u("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=Fa(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:T},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:ja.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(p=(f=Vm(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Vm(_u("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:D,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:DC(),this.encoder=GC,this._options=C,this.apiKey=v,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=pl([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return pl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Kt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${vC()}`}makeStatusError(t,l,a,r){return mt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=TC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return CC(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Xu(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:m,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(m,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,D=Date.now();if(ht(this).debug(`[${E}] sending request`,_i({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Uu;const z=new AbortController,H=await this.fetchWithTimeout(v,m,T,z).catch(Du),F=Date.now();if(H instanceof globalThis.Error){const X=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Uu;const le=Iu(H)||/timed? ?out/i.test(String(H)+("cause"in H?String(H.cause):""));if(l)return ht(this).info(`[${E}] connection ${le?"timed out":"failed"} - ${X}`),ht(this).debug(`[${E}] connection ${le?"timed out":"failed"} (${X})`,_i({retryOfRequestLogID:a,url:v,durationMs:F-D,message:H.message})),this.retryRequest(g,l,a??E);throw ht(this).info(`[${E}] connection ${le?"timed out":"failed"} - error; no more retries left`),ht(this).debug(`[${E}] connection ${le?"timed out":"failed"} (error; no more retries left)`,_i({retryOfRequestLogID:a,url:v,durationMs:F-D,message:H.message})),le?new hg:new $a({cause:H})}const ie=`[${E}${C}] ${m.method} ${v} ${H.ok?"succeeded":"failed"} with status ${H.status} in ${F-D}ms`;if(!H.ok){const X=await this.shouldRetry(H);if(l&&X){const ae=`retrying, ${l} attempts remaining`;return await LC(H.body),ht(this).info(`${ie} - ${ae}`),ht(this).debug(`[${E}] response error (${ae})`,_i({retryOfRequestLogID:a,url:H.url,status:H.status,headers:H.headers,durationMs:F-D})),this.retryRequest(g,l,a??E,H.headers)}const le=X?"error; no more retries left":"error; not retryable";ht(this).info(`${ie} - ${le}`);const ne=await H.text().catch(ae=>Du(ae).message),K=RC(ne),W=K?void 0:ne;throw ht(this).debug(`[${E}] response error (${le})`,_i({retryOfRequestLogID:a,url:H.url,status:H.status,headers:H.headers,message:W,durationMs:Date.now()-D})),this.makeStatusError(H.status,K,W,H.headers)}return ht(this).info(ie),ht(this).debug(`[${E}] response start`,_i({retryOfRequestLogID:a,url:H.url,status:H.status,headers:H.headers,durationMs:F-D})),{response:H,options:g,controller:z,requestLogID:E,retryOfRequestLogID:a,startTime:D}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,y=Fa(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(m)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,m)}return await MC(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=p,T=this.buildURL(y,m,v);"timeout"in p&&xC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),D=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:D},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=pl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),IC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=pl([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:UC(t)}:this.encoder({body:t,headers:a})}}ja.DEFAULT_TIMEOUT=6e4;class je extends ja{constructor(){super(...arguments),this.interactions=new wg(this)}}Dg=je;je.GeminiNextGenAPIClient=Dg;je.GeminiNextGenAPIClientError=Kt;je.APIError=mt;je.APIConnectionError=$a;je.APIConnectionTimeoutError=hg;je.APIUserAbortError=Uu;je.NotFoundError=vg;je.ConflictError=Sg;je.RateLimitError=Eg;je.BadRequestError=mg;je.AuthenticationError=gg;je.InternalServerError=_g;je.PermissionDeniedError=yg;je.UnprocessableEntityError=Tg;je.toFile=BC;je.Interactions=wg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function eA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function tA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function nA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function iA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function oA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],zm(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],zm(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function lA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&gA(f);const p=u(i,["config"]);return p!=null&&iA(p,l),l}function aA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&yA(f,l,t);const p=u(i,["config"]);return p!=null&&oA(p,l,t),l}function sA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function rA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function uA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function cA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function fA(i,t){const l={},a=u(i,["config"]);return a!=null&&uA(a,l),l}function dA(i,t){const l={},a=u(i,["config"]);return a!=null&&cA(a,l),l}function pA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Ug(g))),c(l,["tuningJobs"],p)}return l}function hA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Hu(g))),c(l,["tuningJobs"],p)}return l}function mA(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function gA(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function yA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ug(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],Qm(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],mA(E)),l}function Hu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],Qm(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const T=u(i,["description"]);T!=null&&c(l,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(l,["tunedModel"],C);const D=u(i,["preTunedModel"]);D!=null&&c(l,["preTunedModel"],D);const z=u(i,["supervisedTuningSpec"]);z!=null&&c(l,["supervisedTuningSpec"],z);const H=u(i,["preferenceOptimizationSpec"]);H!=null&&c(l,["preferenceOptimizationSpec"],H);const F=u(i,["tuningDataStats"]);F!=null&&c(l,["tuningDataStats"],F);const ie=u(i,["encryptionSpec"]);ie!=null&&c(l,["encryptionSpec"],ie);const X=u(i,["partnerModelTuningSpec"]);X!=null&&c(l,["partnerModelTuningSpec"],X);const le=u(i,["customBaseModel"]);le!=null&&c(l,["customBaseModel"],le);const ne=u(i,["experiment"]);ne!=null&&c(l,["experiment"],ne);const K=u(i,["labels"]);K!=null&&c(l,["labels"],K);const W=u(i,["outputUri"]);W!=null&&c(l,["outputUri"],W);const he=u(i,["pipelineJob"]);he!=null&&c(l,["pipelineJob"],he);const ae=u(i,["serviceAccount"]);ae!=null&&c(l,["serviceAccount"],ae);const j=u(i,["tunedModelDisplayName"]);j!=null&&c(l,["tunedModelDisplayName"],j);const k=u(i,["veoTuningSpec"]);return k!=null&&c(l,["veoTuningSpec"],k),l}function vA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function zm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SA extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ci(Mn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Au.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=rA(t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Hu(v))}else{const m=sA(t);return g=se("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Ug(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=dA(t);return g=se("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=hA(v),E=new fm;return Object.assign(E,T),E})}else{const m=fA(t);return g=se("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=pA(v),E=new fm;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=eA(t);return g=se("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=nA(v),E=new dm;return Object.assign(E,T),E})}else{const m=jC(t);return g=se("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=tA(v),E=new dm;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=aA(t,t);return f=se("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Hu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lA(t);return f=se("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>vA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EA=1024*1024*8,_A=3,CA=1e3,AA=2,Ja="x-goog-upload-status";async function xA(i,t,l){var a;const r=await Lg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function RA(i,t,l){var a;const r=await Lg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ja])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Om(f),g=new Bu;return Object.assign(g,p),g}async function Lg(i,t,l){var a,r;let f=0,p=0,g=new xu(new Response),y="upload";for(f=i.size;p<f;){const m=Math.min(EA,f-p),v=i.slice(p,p+m);p+m>=f&&(y+=", finalize");let T=0,E=CA;for(;T<_A&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ja]));)T++,await NA(E),E=E*AA;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ja])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function MA(i){return{size:i.size,type:i.type}}function NA(i){return new Promise(t=>setTimeout(t,i))}class bA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA{create(t,l,a){return new IA(t,l,a)}}class IA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bm="x-goog-api-key";class DA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Bm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Bm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA="gl-node/";class LA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=M0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new DA(this.apiKey);this.apiClient=new M1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:UA+"web",uploader:new bA,downloader:new TA}),this.models=new J1(this.apiClient),this.live=new B1(this.apiClient,r,new wA),this.batches=new nT(this.apiClient),this.chats=new VT(this.models,this.apiClient),this.caches=new LT(this.apiClient),this.files=new XT(this.apiClient),this.operations=new X1(this.apiClient),this.authTokens=new uC(this.apiClient),this.tunings=new SA(this.apiClient),this.fileSearchStores=new yC(this.apiClient)}}const GA=new LA({apiKey:"PLACEHOLDER_API_KEY"}),HA=async(i,t,l)=>{try{const a=!!l,r=[];if(a){const g=(l==null?void 0:l.split(",")[1])||l||"";r.push({inlineData:{mimeType:"image/png",data:g}}),r.push({text:`Acta como un Desarrollador Frontend Senior experto en reconstruir diseos.
            
            OBJETIVO: Clonar la estructura visual de la imagen proporcionada y mapearla a un Bento Grid de ${t} columnas.
            
            INSTRUCCIONES PRECISAS DE CLONADO:
            1. Analiza la topologa de la imagen. Imagina una grilla de ${t} columnas superpuesta.
            2. Para cada "caja" o elemento visualmente distinto en la imagen, genera un item.
            3. CALCULA 'colSpan': Cuntas de las ${t} columnas ocupa este elemento? (Ej: Si ocupa la mitad del ancho, colSpan = ${Math.floor(t/2)}).
            4. CALCULA 'rowSpan': Estima la altura relativa. Usa valores entre 2 y 12.
            5. Ttulo y Contenido: Extrae el texto real si es legible. Si no, describe brevemente la funcin (ej: "Navigation", "Chart", "User Profile").
            6. Tipo: Si parece una foto o grfico complejo -> 'image'. Si es un nmero grande -> 'stat'. Texto plano -> 'text'.
            7. Color: Extrae el color hexadecimal exacto del fondo del elemento.
            
            Contexto extra del usuario: "${i}"`})}else r.push({text:`Eres un experto en UX/UI y Bento Grids.
            Tu tarea: Crear una configuracin de grid basada en el input: "${i}".
            
            SI EL INPUT ES UNA URL (http...):
            1. Usa la herramienta 'googleSearch' para analizar el sitio.
            2. Identifica: Logo/Marca (Color principal), Propuesta de valor (H1), Features principales (3-4 items), Call to Action.
            3. TRADUCE ESO A UN BENTO GRID.
               - El H1/Hero debe ser un item grande (colSpan alto).
               - Las features son items medianos.
               - El CTA o datos de "social proof" son items pequeos (stats).
            
            SI ES TEXTO GENERL:
            Disea un layout temtico atractivo usando el sistema de ${t} columnas.
            
            REGLAS TCNICAS:
            - Grid System: ${t} columnas.
            - Total de items: Entre 5 y 9.
            - Asegura que los items encajen visualmente (tetris).
            - Usa colores modernos y alto contraste.`});const p=(await GA.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:r},config:{responseMimeType:"application/json",tools:a?void 0:[{googleSearch:{}}],responseSchema:{type:ct.ARRAY,items:{type:ct.OBJECT,properties:{title:{type:ct.STRING},content:{type:ct.STRING},colSpan:{type:ct.INTEGER},rowSpan:{type:ct.INTEGER},type:{type:ct.STRING,enum:["text","stat","image"]},colorTheme:{type:ct.STRING,description:"Color HEX background"}},required:["title","content","colSpan","rowSpan","type","colorTheme"]}}}})).text;if(!p)throw new Error("No data returned from AI");return JSON.parse(p)}catch(a){return console.error("Error generating bento layout:",a),[{title:"Error",content:"No se pudo procesar. Intenta con otra imagen o enlace.",colSpan:t,rowSpan:4,type:"text",colorTheme:"#333"}]}},VA=["#191b32","#ba8bff","#d5ec2c","#f7f6fc","#2e3250","#0f1126"],Pm=(i,t,l=[])=>{const a=[],r=Array(i).fill(null).map(()=>Array(t).fill(!1)),f=l.length>0?l:VA,p=(y,m,v,T)=>{if(y+v>i||m+T>t)return!1;for(let E=0;E<v;E++)for(let C=0;C<T;C++)if(r[y+E][m+C])return!1;return!0},g=(y,m,v,T)=>{for(let E=0;E<v;E++)for(let C=0;C<T;C++)r[y+E][m+C]=!0};for(let y=0;y<i;y++)for(let m=0;m<t;m++){if(r[y][m])continue;const v=Math.random();let T=1,E=1;v>.9&&p(y,m,4,4)?(T=4,E=4):v>.8&&p(y,m,3,3)?(T=3,E=3):v>.6&&p(y,m,2,4)?(T=4,E=2):v>.4&&p(y,m,2,2)?(T=2,E=2):v>.3&&p(y,m,1,2)?(T=2,E=1):v>.2&&p(y,m,2,1)&&(T=1,E=2),p(y,m,E,T)||(T=1,E=1),g(y,m,E,T);const C=Math.random();let D=Ye.TEXT,z="Text Card",H="Descripcin corta.",F=f[Math.floor(Math.random()*f.length)];C>.8?(D=Ye.IMAGE,z="Image",H="Visual",Math.random()>.5&&(F="#2e3250")):C>.6&&(D=Ye.STAT,z="Data",H=Math.floor(Math.random()*100)+"k"),a.push({id:Ei(),x:m,y,colSpan:T,rowSpan:E,title:z,content:H,type:D,backgroundColor:F,textColor:uo(F),locked:!1})}return a},qA={width:1080,height:1080,columns:7,rows:7,gap:16,padding:40,borderRadius:24,palette:["#d5ec2c","#ba8bff","#f7f6fc","#191b32","#2e3250"],items:[{id:"1",x:0,y:0,colSpan:4,rowSpan:4,title:"Bento Grid",content:"La herramienta definitiva para diseadores.",type:Ye.TEXT,backgroundColor:"#191b32",textColor:"#f7f6fc"},{id:"2",x:4,y:0,colSpan:3,rowSpan:4,title:"Export",content:"SVG Ready",type:Ye.IMAGE,backgroundColor:"#2e3250",textColor:"#f7f6fc"},{id:"3",x:0,y:4,colSpan:2,rowSpan:3,title:"Usuarios",content:"+12k",type:Ye.STAT,backgroundColor:"#d5ec2c",textColor:"#191b32"},{id:"4",x:2,y:4,colSpan:2,rowSpan:3,title:"Herramienta",content:"uso simple",type:Ye.TEXT,backgroundColor:"#ba8bff",textColor:"#191b32"},{id:"5",x:4,y:4,colSpan:3,rowSpan:3,title:"Integracin",content:"Layouts rpidos.",type:Ye.TEXT,backgroundColor:"#f7f6fc",textColor:"#191b32"}]},zA=()=>{const[i,t]=At.useState(qA),[l,a]=At.useState(!1),[r,f]=At.useState([]),[p,g]=At.useState([]),[y,m]=At.useState(null),[v,T]=At.useState(null);At.useEffect(()=>{const O=Y=>{const $=Y.target,ee=["INPUT","TEXTAREA","SELECT"].includes($.tagName);if((Y.key==="Delete"||Y.key==="Backspace")&&!ee){if(y&&p.length>0){const N=i.items.find(V=>V.id===y);if(N&&N.subItems){const V=N.subItems.filter(w=>!p.includes(w.id));D(y,{subItems:V}),g([]),T("Sub-elementos eliminados")}}else r.length>0&&(t(N=>({...N,items:N.items.filter(V=>!r.includes(V.id))})),f([]),T("Elemento(s) eliminado(s)"));setTimeout(()=>T(null),2e3)}};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[r,p,y,i.items]);const E=async(O,Y)=>{a(!0),f([]),g([]),m(null);try{const $=await HA(O,i.columns,Y),ee=[],N=Array(i.rows).fill(null).map(()=>Array(i.columns).fill(!1));$.forEach(V=>{let w=!1;for(let te=0;te<i.rows;te++){for(let Q=0;Q<i.columns;Q++){if(Q+V.colSpan>i.columns||te+V.rowSpan>i.rows)continue;let A=!0;for(let I=0;I<V.rowSpan;I++)for(let Z=0;Z<V.colSpan;Z++)N[te+I][Q+Z]&&(A=!1);if(A){for(let I=0;I<V.rowSpan;I++)for(let Z=0;Z<V.colSpan;Z++)N[te+I][Q+Z]=!0;ee.push({id:Ei(),x:Q,y:te,colSpan:V.colSpan,rowSpan:V.rowSpan,title:V.title,content:V.content,type:V.type,backgroundColor:V.colorTheme,textColor:uo(V.colorTheme),locked:!1}),w=!0;break}}if(w)break}}),t(V=>({...V,items:ee}))}catch($){console.error($),T("Error al generar el grid. Intenta de nuevo.")}finally{a(!1)}},C=()=>{const O=Pm(i.rows,i.columns,i.palette);t(Y=>({...Y,items:O})),f([]),g([]),m(null)},D=(O,Y)=>{t($=>({...$,items:$.items.map(ee=>ee.id===O?{...ee,...Y}:ee)}))},z=(O,Y,$)=>{t(ee=>{const N=ee.items.find(w=>w.id===O);if(!N||!N.subItems)return ee;const V=N.subItems.map(w=>w.id===Y?{...w,...$}:w);return{...ee,items:ee.items.map(w=>w.id===O?{...w,subItems:V}:w)}})},H=O=>{if(!i.items.find(w=>w.id===O))return;const $=2,ee=2,N=[],V=i.palette.length?i.palette:["#333","#444"];for(let w=0;w<$;w++)for(let te=0;te<ee;te++){const Q=V[Math.floor(Math.random()*V.length)];N.push({id:Ei(),x:te,y:w,colSpan:1,rowSpan:1,title:"Sub",content:"",type:Ye.TEXT,backgroundColor:Q,textColor:uo(Q)})}D(O,{subItems:N,subRows:$,subColumns:ee})},F=O=>{const Y=i.items.find(w=>w.id===O);if(!Y)return;const $=Y.subRows||2,ee=Y.subColumns||2,N=i.palette.length?i.palette:void 0,V=Pm($,ee,N);D(O,{subItems:V})},ie=(O,Y,$)=>{const ee=i.items.find(te=>te.id===O);if(!ee||!ee.subItems||qa(Y,$,ee.subItems))return;const N=i.palette.length>0?i.palette:["#333","#444"],V=N[Math.floor(Math.random()*N.length)],w={id:Ei(),x:Y,y:$,colSpan:1,rowSpan:1,title:"New",content:"",type:Ye.TEXT,backgroundColor:V,textColor:uo(V)};D(O,{subItems:[...ee.subItems,w]}),g([w.id]),m(O)},X=O=>{D(O,{subItems:void 0,subRows:void 0,subColumns:void 0}),g([]),m(null)},le=()=>{if(!y||p.length<2)return;const O=i.items.find(I=>I.id===y);if(!O||!O.subItems)return;const Y=O.subItems.filter(I=>p.includes(I.id)),$=Math.min(...Y.map(I=>I.x)),ee=Math.min(...Y.map(I=>I.y)),N=Math.max(...Y.map(I=>I.x+I.colSpan)),V=Math.max(...Y.map(I=>I.y+I.rowSpan)),w=N-$,te=V-ee,Q=O.subItems.filter(I=>!p.includes(I.id)),A={id:Ei(),x:$,y:ee,colSpan:w,rowSpan:te,title:"Merged",content:"Group",type:Ye.TEXT,backgroundColor:Y[0].backgroundColor,textColor:Y[0].textColor};D(y,{subItems:[...Q,A]}),g([A.id])},ne=(O,Y)=>{let $=2,ee=2;O+$>i.columns&&($=1),Y+ee>i.rows&&(ee=1);let N=!0;for(let I=0;I<$;I++)for(let Z=0;Z<ee;Z++)qa(O+I,Y+Z,i.items)&&(N=!1);if(!N&&($=1,ee=1,qa(O,Y,i.items))){T("Espacio ocupado");return}const V=i.palette.length>0?i.palette:["#191b32","#2e3250","#ba8bff","#d5ec2c"],w=V[Math.floor(Math.random()*V.length)],te=[Ye.TEXT,Ye.STAT,Ye.IMAGE],Q=te[Math.floor(Math.random()*te.length)],A={id:Ei(),x:O,y:Y,colSpan:$,rowSpan:ee,title:"Title",content:"Content",type:Q,backgroundColor:w,textColor:uo(w),locked:!1};t(I=>({...I,items:[...I.items,A]})),f([A.id]),g([]),m(null)},K=()=>{const O=lh(2,2,i.items,i.columns,i.rows);if(O)ne(O.x,O.y);else{const Y=lh(1,1,i.items,i.columns,i.rows);Y?ne(Y.x,Y.y):T("Grid lleno!")}},W=O=>{t(Y=>({...Y,items:Y.items.filter($=>$.id!==O)})),f(Y=>Y.filter($=>$!==O)),y===O&&(m(null),g([]))},he=()=>{if(r.length<2)return;const O=i.items.filter(A=>r.includes(A.id)),Y=Math.min(...O.map(A=>A.x)),$=Math.min(...O.map(A=>A.y)),ee=Math.max(...O.map(A=>A.x+A.colSpan)),N=Math.max(...O.map(A=>A.y+A.rowSpan)),V=ee-Y,w=N-$,te=i.items.filter(A=>!r.includes(A.id)),Q={id:Ei(),x:Y,y:$,colSpan:V,rowSpan:w,title:"Merged Item",content:"Contenido fusionado",type:Ye.TEXT,backgroundColor:O[0].backgroundColor,textColor:O[0].textColor,locked:!1};t(A=>({...A,items:[...te,Q]})),f([Q.id]),g([]),m(null)},ae=(O,Y=!1)=>{if(O===null){f([]),g([]),m(null);return}f($=>Y?$.includes(O)?$.filter(ee=>ee!==O):[...$,O]:[O]),r.includes(O)||(g([]),m(null))},j=(O,Y,$=!1)=>{if(m(O),Y===null){g([]);return}g(ee=>$?ee.includes(Y)?ee.filter(N=>N!==Y):[...ee,Y]:[Y])},k=async O=>{try{const Y=_0(i,i.width,!1,!0,!0,!0),$=Y.includes('xmlns="http://www.w3.org/2000/svg"')?Y:Y.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"');if(O==="figma"){const ee=new Blob([$],{type:"text/plain"});await navigator.clipboard.write([new ClipboardItem({"text/plain":ee})]),T("Figma: Copiado (Arial Nativo)")}else if(O==="illustrator_1")await navigator.clipboard.writeText($),T("Ai (A): Copiado como Texto");else if(O==="illustrator_3"){const ee=new Blob([$],{type:"text/plain"});await navigator.clipboard.write([new ClipboardItem({"text/plain":ee})]),T("Ai (B): Copiado como Blob")}}catch(Y){console.error("Clipboard error",Y),T("Error: Tu navegador bloque la accin.")}setTimeout(()=>T(null),4e3)};return R.jsxs("div",{className:"flex h-screen w-screen bg-[#191b32] text-[#f7f6fc] font-inter overflow-hidden",children:[R.jsx(T0,{config:i,setConfig:t,isGenerating:l,onGenerate:E,onRandomize:C,selectedItemIds:r,selectedSubItemIds:p,activeParentId:y,onSelectItem:O=>ae(O),onSelectSubItem:(O,Y)=>j(O,Y),onUpdateItem:D,onUpdateSubItem:z,onAddItem:K,onDeleteItem:W,onMergeItems:he,onMergeSubItems:le,onCreateSubGrid:H,onRemoveSubGrid:X,onRandomizeSubGrid:F}),R.jsxs("div",{className:"flex-1 bg-[#656a82] relative overflow-hidden flex flex-col",children:[R.jsxs("div",{className:"h-14 border-b border-[#2e3250] flex items-center justify-between px-6 bg-[#191b32] z-10 shrink-0",children:[R.jsxs("div",{className:"flex flex-col",children:[R.jsx("span",{className:"text-xs font-bold text-white",children:"Workspace"}),R.jsx("span",{className:"text-[10px] text-neutral-400",children:"SHIFT + Click para seleccin mltiple"})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest mr-1",children:"Copiar a:"}),R.jsxs("button",{onClick:()=>k("figma"),className:"flex items-center gap-2 bg-[#15172b] hover:bg-[#2e3250] text-white px-3 py-1.5 rounded-md text-xs font-semibold border border-[#2e3250] transition-colors",children:[R.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 15 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[R.jsx("path",{d:"M3.75 22C5.82107 22 7.5 20.3211 7.5 18.25V14.5H3.75C1.67893 14.5 0 16.1789 0 18.25C0 20.3211 1.67893 22 3.75 22Z",fill:"#0ACF83"}),R.jsx("path",{d:"M0 10.75C0 8.67893 1.67893 7 3.75 7H7.5V14.5H3.75C1.67893 14.5 0 12.8211 0 10.75Z",fill:"#A259FF"}),R.jsx("path",{d:"M3.75 0C1.67893 0 0 1.67893 0 3.75C0 5.82107 1.67893 7.5 3.75 7.5H7.5V0H3.75Z",fill:"#F24E1E"}),R.jsx("path",{d:"M11.25 0H7.5V7.5H11.25C13.3211 7.5 15 5.82107 15 3.75C15 1.67893 13.3211 0 11.25 0Z",fill:"#FF7262"}),R.jsx("path",{d:"M15 10.75C15 12.8211 13.3211 14.5 11.25 14.5C9.17893 14.5 7.5 12.8211 7.5 10.75C7.5 8.67893 9.17893 7 11.25 7C13.3211 7 15 8.67893 15 10.75Z",fill:"#1ABCFE"})]}),"Figma"]}),R.jsxs("button",{onClick:()=>k("illustrator_1"),className:"flex items-center gap-2 bg-[#ba8bff]/10 hover:bg-[#ba8bff]/20 text-[#ba8bff] px-3 py-1.5 rounded-md text-xs font-semibold border border-[#ba8bff]/30 transition-colors",children:[R.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:R.jsx("path",{d:"M24 0H0V24H24V0ZM8.6 15.6L12.4 5.3H14.9L18.7 15.6H16.2L15.3 12.9H12L11.1 15.6H8.6ZM12.7 11H14.6L13.7 8L12.7 11ZM6.3 15.6H4.2V8.4H6.3V15.6ZM6.3 6.9H4.2V5.3H6.3V6.9Z"})}),"SVG (Illustrator)"]})]})]}),R.jsx(E0,{config:i,onItemUpdate:D,onSubItemUpdate:z,selectedItemIds:r,selectedSubItemIds:p,activeParentId:y,onSelect:ae,onSelectSubItem:j,onAddAt:ne,onAddSubItemAt:ie,zoom:100})]}),v&&R.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-[#d5ec2c] text-[#191b32] px-6 py-3 rounded-full font-medium shadow-2xl animate-bounce z-50 pointer-events-none text-center min-w-[300px]",children:v})]})},Gg=document.getElementById("root");if(!Gg)throw new Error("Could not find root element to mount to");const BA=p0.createRoot(Gg);BA.render(R.jsx(l0.StrictMode,{children:R.jsx(zA,{})}));
